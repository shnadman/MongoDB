{
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\index.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _server = _interopRequireDefault(require(\"./server\"));\n\nvar _mongodb = require(\"mongodb\");\n\nvar _moviesDAO = _interopRequireDefault(require(\"../src/dao/moviesDAO\"));\n\nvar _usersDAO = _interopRequireDefault(require(\"./dao/usersDAO\"));\n\nvar _commentsDAO = _interopRequireDefault(require(\"./dao/commentsDAO\"));\n\nvar port = process.env.PORT || 8000;\n/**\nTicket: Connection Pooling\n\nPlease change the configuration of the MongoClient object by setting the\nmaximum connection pool size to 50 active connections.\n*/\n\n/**\nTicket: Timeouts\n\nPlease prevent the program from waiting indefinitely by setting the write\nconcern timeout limit to 2500 milliseconds.\n*/\n\n_mongodb.MongoClient.connect(process.env.MFLIX_DB_URI, // TODO: Connection Pooling\n// Set the poolSize to 50 connections.\n// TODO: Timeouts\n// Set the write timeout limit to 2500 milliseconds.\n{\n  useNewUrlParser: true,\n  poolSize: 50,\n  wtimeout: 2500\n})[\"catch\"](function (err) {\n  console.error(err.stack);\n  process.exit(1);\n}).then( /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(client) {\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _moviesDAO[\"default\"].injectDB(client);\n\n          case 2:\n            _context.next = 4;\n            return _usersDAO[\"default\"].injectDB(client);\n\n          case 4:\n            _context.next = 6;\n            return _commentsDAO[\"default\"].injectDB(client);\n\n          case 6:\n            _server[\"default\"].listen(port, function () {\n              console.log(\"listening on port \".concat(port));\n            });\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}());\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsIk1vbmdvQ2xpZW50IiwiY29ubmVjdCIsIk1GTElYX0RCX1VSSSIsInVzZU5ld1VybFBhcnNlciIsInBvb2xTaXplIiwid3RpbWVvdXQiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGFjayIsImV4aXQiLCJ0aGVuIiwiY2xpZW50IiwiTW92aWVzREFPIiwiaW5qZWN0REIiLCJVc2Vyc0RBTyIsIkNvbW1lbnRzREFPIiwiYXBwIiwibGlzdGVuIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLElBQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBakM7QUFFQTs7Ozs7OztBQU9BOzs7Ozs7O0FBT0FDLHFCQUFZQyxPQUFaLENBQ0VKLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSSxZQURkLEVBRUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFFQyxFQUFBQSxlQUFlLEVBQUUsSUFBbkI7QUFBeUJDLEVBQUFBLFFBQVEsRUFBRSxFQUFuQztBQUF1Q0MsRUFBQUEsUUFBUSxFQUFDO0FBQWhELENBTkYsV0FRUyxVQUFBQyxHQUFHLEVBQUk7QUFDWkMsRUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQWNGLEdBQUcsQ0FBQ0csS0FBbEI7QUFDQVosRUFBQUEsT0FBTyxDQUFDYSxJQUFSLENBQWEsQ0FBYjtBQUNELENBWEgsRUFZR0MsSUFaSDtBQUFBLDJGQVlRLGlCQUFNQyxNQUFOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUNFQyxzQkFBVUMsUUFBVixDQUFtQkYsTUFBbkIsQ0FERjs7QUFBQTtBQUFBO0FBQUEsbUJBRUVHLHFCQUFTRCxRQUFULENBQWtCRixNQUFsQixDQUZGOztBQUFBO0FBQUE7QUFBQSxtQkFHRUksd0JBQVlGLFFBQVosQ0FBcUJGLE1BQXJCLENBSEY7O0FBQUE7QUFJSkssK0JBQUlDLE1BQUosQ0FBV3RCLElBQVgsRUFBaUIsWUFBTTtBQUNyQlcsY0FBQUEsT0FBTyxDQUFDWSxHQUFSLDZCQUFpQ3ZCLElBQWpDO0FBQ0QsYUFGRDs7QUFKSTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQVpSOztBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhcHAgZnJvbSBcIi4vc2VydmVyXCJcbmltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSBcIm1vbmdvZGJcIlxuaW1wb3J0IE1vdmllc0RBTyBmcm9tIFwiLi4vc3JjL2Rhby9tb3ZpZXNEQU9cIlxuaW1wb3J0IFVzZXJzREFPIGZyb20gXCIuL2Rhby91c2Vyc0RBT1wiXG5pbXBvcnQgQ29tbWVudHNEQU8gZnJvbSBcIi4vZGFvL2NvbW1lbnRzREFPXCJcblxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgODAwMFxuXG4vKipcblRpY2tldDogQ29ubmVjdGlvbiBQb29saW5nXG5cblBsZWFzZSBjaGFuZ2UgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIE1vbmdvQ2xpZW50IG9iamVjdCBieSBzZXR0aW5nIHRoZVxubWF4aW11bSBjb25uZWN0aW9uIHBvb2wgc2l6ZSB0byA1MCBhY3RpdmUgY29ubmVjdGlvbnMuXG4qL1xuXG4vKipcblRpY2tldDogVGltZW91dHNcblxuUGxlYXNlIHByZXZlbnQgdGhlIHByb2dyYW0gZnJvbSB3YWl0aW5nIGluZGVmaW5pdGVseSBieSBzZXR0aW5nIHRoZSB3cml0ZVxuY29uY2VybiB0aW1lb3V0IGxpbWl0IHRvIDI1MDAgbWlsbGlzZWNvbmRzLlxuKi9cblxuTW9uZ29DbGllbnQuY29ubmVjdChcbiAgcHJvY2Vzcy5lbnYuTUZMSVhfREJfVVJJLFxuICAvLyBUT0RPOiBDb25uZWN0aW9uIFBvb2xpbmdcbiAgLy8gU2V0IHRoZSBwb29sU2l6ZSB0byA1MCBjb25uZWN0aW9ucy5cbiAgLy8gVE9ETzogVGltZW91dHNcbiAgLy8gU2V0IHRoZSB3cml0ZSB0aW1lb3V0IGxpbWl0IHRvIDI1MDAgbWlsbGlzZWNvbmRzLlxuICB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgcG9vbFNpemU6IDUwLCB3dGltZW91dDoyNTAwIH0sXG4pXG4gIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyLnN0YWNrKVxuICAgIHByb2Nlc3MuZXhpdCgxKVxuICB9KVxuICAudGhlbihhc3luYyBjbGllbnQgPT4ge1xuICAgIGF3YWl0IE1vdmllc0RBTy5pbmplY3REQihjbGllbnQpXG4gICAgYXdhaXQgVXNlcnNEQU8uaW5qZWN0REIoY2xpZW50KVxuICAgIGF3YWl0IENvbW1lbnRzREFPLmluamVjdERCKGNsaWVudClcbiAgICBhcHAubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGBsaXN0ZW5pbmcgb24gcG9ydCAke3BvcnR9YClcbiAgICB9KVxuICB9KVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "port",
        "process",
        "env",
        "PORT",
        "MongoClient",
        "connect",
        "MFLIX_DB_URI",
        "useNewUrlParser",
        "poolSize",
        "wtimeout",
        "err",
        "console",
        "error",
        "stack",
        "exit",
        "then",
        "client",
        "MoviesDAO",
        "injectDB",
        "UsersDAO",
        "CommentsDAO",
        "app",
        "listen",
        "log"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AAEA;;;;;;;AAOA;;;;;;;AAOAC,qBAAYC,OAAZ,CACEJ,OAAO,CAACC,GAAR,CAAYI,YADd,EAEE;AACA;AACA;AACA;AACA;AAAEC,EAAAA,eAAe,EAAE,IAAnB;AAAyBC,EAAAA,QAAQ,EAAE,EAAnC;AAAuCC,EAAAA,QAAQ,EAAC;AAAhD,CANF,WAQS,UAAAC,GAAG,EAAI;AACZC,EAAAA,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,KAAlB;AACAZ,EAAAA,OAAO,CAACa,IAAR,CAAa,CAAb;AACD,CAXH,EAYGC,IAZH;AAAA,2FAYQ,iBAAMC,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACEC,sBAAUC,QAAV,CAAmBF,MAAnB,CADF;;AAAA;AAAA;AAAA,mBAEEG,qBAASD,QAAT,CAAkBF,MAAlB,CAFF;;AAAA;AAAA;AAAA,mBAGEI,wBAAYF,QAAZ,CAAqBF,MAArB,CAHF;;AAAA;AAIJK,+BAAIC,MAAJ,CAAWtB,IAAX,EAAiB,YAAM;AACrBW,cAAAA,OAAO,CAACY,GAAR,6BAAiCvB,IAAjC;AACD,aAFD;;AAJI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAZR;;AAAA;AAAA;AAAA;AAAA",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\",
      "sourcesContent": [
        "import app from \"./server\"\nimport { MongoClient } from \"mongodb\"\nimport MoviesDAO from \"../src/dao/moviesDAO\"\nimport UsersDAO from \"./dao/usersDAO\"\nimport CommentsDAO from \"./dao/commentsDAO\"\n\nconst port = process.env.PORT || 8000\n\n/**\nTicket: Connection Pooling\n\nPlease change the configuration of the MongoClient object by setting the\nmaximum connection pool size to 50 active connections.\n*/\n\n/**\nTicket: Timeouts\n\nPlease prevent the program from waiting indefinitely by setting the write\nconcern timeout limit to 2500 milliseconds.\n*/\n\nMongoClient.connect(\n  process.env.MFLIX_DB_URI,\n  // TODO: Connection Pooling\n  // Set the poolSize to 50 connections.\n  // TODO: Timeouts\n  // Set the write timeout limit to 2500 milliseconds.\n  { useNewUrlParser: true, poolSize: 50, wtimeout:2500 },\n)\n  .catch(err => {\n    console.error(err.stack)\n    process.exit(1)\n  })\n  .then(async client => {\n    await MoviesDAO.injectDB(client)\n    await UsersDAO.injectDB(client)\n    await CommentsDAO.injectDB(client)\n    app.listen(port, () => {\n      console.log(`listening on port ${port}`)\n    })\n  })\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600083674200
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\server.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _movies = _interopRequireDefault(require(\"../src/api/movies.route\"));\n\nvar _users = _interopRequireDefault(require(\"../src/api/users.route\"));\n\nvar app = (0, _express[\"default\"])();\napp.use((0, _cors[\"default\"])());\nprocess.env.NODE_ENV !== \"prod\" && app.use((0, _morgan[\"default\"])(\"dev\"));\napp.use(_bodyParser[\"default\"].json());\napp.use(_bodyParser[\"default\"].urlencoded({\n  extended: true\n})); // Register api routes\n\napp.use(\"/api/v1/movies\", _movies[\"default\"]);\napp.use(\"/api/v1/user\", _users[\"default\"]);\napp.use(\"/status\", _express[\"default\"][\"static\"](\"build\"));\napp.use(\"/\", _express[\"default\"][\"static\"](\"build\"));\napp.use(\"*\", function (req, res) {\n  return res.status(404).json({\n    error: \"not found\"\n  });\n});\nvar _default = app;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJib2R5UGFyc2VyIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsIm1vdmllcyIsInVzZXJzIiwiZXhwcmVzcyIsInJlcSIsInJlcyIsInN0YXR1cyIsImVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxHQUFHLEdBQUcsMEJBQVo7QUFFQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsdUJBQVI7QUFDQUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsTUFBekIsSUFBbUNKLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLHdCQUFPLEtBQVAsQ0FBUixDQUFuQztBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUUksdUJBQVdDLElBQVgsRUFBUjtBQUNBTixHQUFHLENBQUNDLEdBQUosQ0FBUUksdUJBQVdFLFVBQVgsQ0FBc0I7QUFBRUMsRUFBQUEsUUFBUSxFQUFFO0FBQVosQ0FBdEIsQ0FBUixFLENBRUE7O0FBQ0FSLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGdCQUFSLEVBQTBCUSxrQkFBMUI7QUFDQVQsR0FBRyxDQUFDQyxHQUFKLENBQVEsY0FBUixFQUF3QlMsaUJBQXhCO0FBQ0FWLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUJVLDhCQUFlLE9BQWYsQ0FBbkI7QUFDQVgsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhVSw4QkFBZSxPQUFmLENBQWI7QUFDQVgsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhLFVBQUNXLEdBQUQsRUFBTUMsR0FBTjtBQUFBLFNBQWNBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JSLElBQWhCLENBQXFCO0FBQUVTLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQXJCLENBQWQ7QUFBQSxDQUFiO2VBRWVmLEciLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxOYWRhdiBTaGVyZlxcbWZsaXgtanNcXHNyY1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCJcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCJcbmltcG9ydCBtb3JnYW4gZnJvbSBcIm1vcmdhblwiXG5pbXBvcnQgbW92aWVzIGZyb20gXCIuLi9zcmMvYXBpL21vdmllcy5yb3V0ZVwiXG5pbXBvcnQgdXNlcnMgZnJvbSBcIi4uL3NyYy9hcGkvdXNlcnMucm91dGVcIlxuXG5jb25zdCBhcHAgPSBleHByZXNzKClcblxuYXBwLnVzZShjb3JzKCkpXG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kXCIgJiYgYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSlcblxuLy8gUmVnaXN0ZXIgYXBpIHJvdXRlc1xuYXBwLnVzZShcIi9hcGkvdjEvbW92aWVzXCIsIG1vdmllcylcbmFwcC51c2UoXCIvYXBpL3YxL3VzZXJcIiwgdXNlcnMpXG5hcHAudXNlKFwiL3N0YXR1c1wiLCBleHByZXNzLnN0YXRpYyhcImJ1aWxkXCIpKVxuYXBwLnVzZShcIi9cIiwgZXhwcmVzcy5zdGF0aWMoXCJidWlsZFwiKSlcbmFwcC51c2UoXCIqXCIsIChyZXEsIHJlcykgPT4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogXCJub3QgZm91bmRcIiB9KSlcblxuZXhwb3J0IGRlZmF1bHQgYXBwXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "app",
        "use",
        "process",
        "env",
        "NODE_ENV",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "movies",
        "users",
        "express",
        "req",
        "res",
        "status",
        "error"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,uBAAR;AACAC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,IAAmCJ,GAAG,CAACC,GAAJ,CAAQ,wBAAO,KAAP,CAAR,CAAnC;AACAD,GAAG,CAACC,GAAJ,CAAQI,uBAAWC,IAAX,EAAR;AACAN,GAAG,CAACC,GAAJ,CAAQI,uBAAWE,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR,E,CAEA;;AACAR,GAAG,CAACC,GAAJ,CAAQ,gBAAR,EAA0BQ,kBAA1B;AACAT,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBS,iBAAxB;AACAV,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBU,8BAAe,OAAf,CAAnB;AACAX,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaU,8BAAe,OAAf,CAAb;AACAX,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,UAACW,GAAD,EAAMC,GAAN;AAAA,SAAcA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBR,IAAhB,CAAqB;AAAES,IAAAA,KAAK,EAAE;AAAT,GAArB,CAAd;AAAA,CAAb;eAEef,G",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\",
      "sourcesContent": [
        "import express from \"express\"\nimport bodyParser from \"body-parser\"\nimport cors from \"cors\"\nimport morgan from \"morgan\"\nimport movies from \"../src/api/movies.route\"\nimport users from \"../src/api/users.route\"\n\nconst app = express()\n\napp.use(cors())\nprocess.env.NODE_ENV !== \"prod\" && app.use(morgan(\"dev\"))\napp.use(bodyParser.json())\napp.use(bodyParser.urlencoded({ extended: true }))\n\n// Register api routes\napp.use(\"/api/v1/movies\", movies)\napp.use(\"/api/v1/user\", users)\napp.use(\"/status\", express.static(\"build\"))\napp.use(\"/\", express.static(\"build\"))\napp.use(\"*\", (req, res) => res.status(404).json({ error: \"not found\" }))\n\nexport default app\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\movies.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.route.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.route.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.route.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
        "sourceFileName": "movies.route.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _movies = _interopRequireDefault(require(\"./movies.controller\"));\n\nvar _comments = _interopRequireDefault(require(\"./comments.controller\"));\n\nvar router = new _express.Router(); // associate put, delete, and get(id)\n\nrouter.route(\"/\").get(_movies[\"default\"].apiGetMovies);\nrouter.route(\"/search\").get(_movies[\"default\"].apiSearchMovies);\nrouter.route(\"/countries\").get(_movies[\"default\"].apiGetMoviesByCountry);\nrouter.route(\"/facet-search\").get(_movies[\"default\"].apiFacetedSearch);\nrouter.route(\"/id/:id\").get(_movies[\"default\"].apiGetMovieById);\nrouter.route(\"/config-options\").get(_movies[\"default\"].getConfig);\nrouter.route(\"/comment\").post(_comments[\"default\"].apiPostComment).put(_comments[\"default\"].apiUpdateComment)[\"delete\"](_comments[\"default\"].apiDeleteComment);\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdmllcy5yb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJyb3V0ZSIsImdldCIsIk1vdmllc0N0cmwiLCJhcGlHZXRNb3ZpZXMiLCJhcGlTZWFyY2hNb3ZpZXMiLCJhcGlHZXRNb3ZpZXNCeUNvdW50cnkiLCJhcGlGYWNldGVkU2VhcmNoIiwiYXBpR2V0TW92aWVCeUlkIiwiZ2V0Q29uZmlnIiwicG9zdCIsIkNvbW1lbnRzQ3RybCIsImFwaVBvc3RDb21tZW50IiwicHV0IiwiYXBpVXBkYXRlQ29tbWVudCIsImFwaURlbGV0ZUNvbW1lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBLElBQU1BLE1BQU0sR0FBRyxJQUFJQyxlQUFKLEVBQWYsQyxDQUVBOztBQUNBRCxNQUFNLENBQUNFLEtBQVAsQ0FBYSxHQUFiLEVBQWtCQyxHQUFsQixDQUFzQkMsbUJBQVdDLFlBQWpDO0FBQ0FMLE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLFNBQWIsRUFBd0JDLEdBQXhCLENBQTRCQyxtQkFBV0UsZUFBdkM7QUFDQU4sTUFBTSxDQUFDRSxLQUFQLENBQWEsWUFBYixFQUEyQkMsR0FBM0IsQ0FBK0JDLG1CQUFXRyxxQkFBMUM7QUFDQVAsTUFBTSxDQUFDRSxLQUFQLENBQWEsZUFBYixFQUE4QkMsR0FBOUIsQ0FBa0NDLG1CQUFXSSxnQkFBN0M7QUFDQVIsTUFBTSxDQUFDRSxLQUFQLENBQWEsU0FBYixFQUF3QkMsR0FBeEIsQ0FBNEJDLG1CQUFXSyxlQUF2QztBQUNBVCxNQUFNLENBQUNFLEtBQVAsQ0FBYSxpQkFBYixFQUFnQ0MsR0FBaEMsQ0FBb0NDLG1CQUFXTSxTQUEvQztBQUVBVixNQUFNLENBQ0hFLEtBREgsQ0FDUyxVQURULEVBRUdTLElBRkgsQ0FFUUMscUJBQWFDLGNBRnJCLEVBR0dDLEdBSEgsQ0FHT0YscUJBQWFHLGdCQUhwQixZQUlVSCxxQkFBYUksZ0JBSnZCO2VBTWVoQixNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXGFwaVxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIlxuaW1wb3J0IE1vdmllc0N0cmwgZnJvbSBcIi4vbW92aWVzLmNvbnRyb2xsZXJcIlxuaW1wb3J0IENvbW1lbnRzQ3RybCBmcm9tIFwiLi9jb21tZW50cy5jb250cm9sbGVyXCJcblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXG5cbi8vIGFzc29jaWF0ZSBwdXQsIGRlbGV0ZSwgYW5kIGdldChpZClcbnJvdXRlci5yb3V0ZShcIi9cIikuZ2V0KE1vdmllc0N0cmwuYXBpR2V0TW92aWVzKVxucm91dGVyLnJvdXRlKFwiL3NlYXJjaFwiKS5nZXQoTW92aWVzQ3RybC5hcGlTZWFyY2hNb3ZpZXMpXG5yb3V0ZXIucm91dGUoXCIvY291bnRyaWVzXCIpLmdldChNb3ZpZXNDdHJsLmFwaUdldE1vdmllc0J5Q291bnRyeSlcbnJvdXRlci5yb3V0ZShcIi9mYWNldC1zZWFyY2hcIikuZ2V0KE1vdmllc0N0cmwuYXBpRmFjZXRlZFNlYXJjaClcbnJvdXRlci5yb3V0ZShcIi9pZC86aWRcIikuZ2V0KE1vdmllc0N0cmwuYXBpR2V0TW92aWVCeUlkKVxucm91dGVyLnJvdXRlKFwiL2NvbmZpZy1vcHRpb25zXCIpLmdldChNb3ZpZXNDdHJsLmdldENvbmZpZylcblxucm91dGVyXG4gIC5yb3V0ZShcIi9jb21tZW50XCIpXG4gIC5wb3N0KENvbW1lbnRzQ3RybC5hcGlQb3N0Q29tbWVudClcbiAgLnB1dChDb21tZW50c0N0cmwuYXBpVXBkYXRlQ29tbWVudClcbiAgLmRlbGV0ZShDb21tZW50c0N0cmwuYXBpRGVsZXRlQ29tbWVudClcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "movies.route.js"
      ],
      "names": [
        "router",
        "Router",
        "route",
        "get",
        "MoviesCtrl",
        "apiGetMovies",
        "apiSearchMovies",
        "apiGetMoviesByCountry",
        "apiFacetedSearch",
        "apiGetMovieById",
        "getConfig",
        "post",
        "CommentsCtrl",
        "apiPostComment",
        "put",
        "apiUpdateComment",
        "apiDeleteComment"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAIC,eAAJ,EAAf,C,CAEA;;AACAD,MAAM,CAACE,KAAP,CAAa,GAAb,EAAkBC,GAAlB,CAAsBC,mBAAWC,YAAjC;AACAL,MAAM,CAACE,KAAP,CAAa,SAAb,EAAwBC,GAAxB,CAA4BC,mBAAWE,eAAvC;AACAN,MAAM,CAACE,KAAP,CAAa,YAAb,EAA2BC,GAA3B,CAA+BC,mBAAWG,qBAA1C;AACAP,MAAM,CAACE,KAAP,CAAa,eAAb,EAA8BC,GAA9B,CAAkCC,mBAAWI,gBAA7C;AACAR,MAAM,CAACE,KAAP,CAAa,SAAb,EAAwBC,GAAxB,CAA4BC,mBAAWK,eAAvC;AACAT,MAAM,CAACE,KAAP,CAAa,iBAAb,EAAgCC,GAAhC,CAAoCC,mBAAWM,SAA/C;AAEAV,MAAM,CACHE,KADH,CACS,UADT,EAEGS,IAFH,CAEQC,qBAAaC,cAFrB,EAGGC,GAHH,CAGOF,qBAAaG,gBAHpB,YAIUH,qBAAaI,gBAJvB;eAMehB,M",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "sourcesContent": [
        "import { Router } from \"express\"\nimport MoviesCtrl from \"./movies.controller\"\nimport CommentsCtrl from \"./comments.controller\"\n\nconst router = new Router()\n\n// associate put, delete, and get(id)\nrouter.route(\"/\").get(MoviesCtrl.apiGetMovies)\nrouter.route(\"/search\").get(MoviesCtrl.apiSearchMovies)\nrouter.route(\"/countries\").get(MoviesCtrl.apiGetMoviesByCountry)\nrouter.route(\"/facet-search\").get(MoviesCtrl.apiFacetedSearch)\nrouter.route(\"/id/:id\").get(MoviesCtrl.apiGetMovieById)\nrouter.route(\"/config-options\").get(MoviesCtrl.getConfig)\n\nrouter\n  .route(\"/comment\")\n  .post(CommentsCtrl.apiPostComment)\n  .put(CommentsCtrl.apiUpdateComment)\n  .delete(CommentsCtrl.apiDeleteComment)\n\nexport default router\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\movies.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.controller.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.controller.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
        "sourceFileName": "movies.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _moviesDAO = _interopRequireDefault(require(\"../dao/moviesDAO\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar MoviesController = /*#__PURE__*/function () {\n  function MoviesController() {\n    (0, _classCallCheck2[\"default\"])(this, MoviesController);\n  }\n\n  (0, _createClass2[\"default\"])(MoviesController, null, [{\n    key: \"apiGetMovies\",\n    value: function () {\n      var _apiGetMovies = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n        var MOVIES_PER_PAGE, _yield$MoviesDAO$getM, moviesList, totalNumMovies, response;\n\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                MOVIES_PER_PAGE = 20;\n                _context.next = 3;\n                return _moviesDAO[\"default\"].getMovies();\n\n              case 3:\n                _yield$MoviesDAO$getM = _context.sent;\n                moviesList = _yield$MoviesDAO$getM.moviesList;\n                totalNumMovies = _yield$MoviesDAO$getM.totalNumMovies;\n                response = {\n                  movies: moviesList,\n                  page: 0,\n                  filters: {},\n                  entries_per_page: MOVIES_PER_PAGE,\n                  total_results: totalNumMovies\n                };\n                res.json(response);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function apiGetMovies(_x, _x2, _x3) {\n        return _apiGetMovies.apply(this, arguments);\n      }\n\n      return apiGetMovies;\n    }()\n  }, {\n    key: \"apiGetMoviesByCountry\",\n    value: function () {\n      var _apiGetMoviesByCountry = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res, next) {\n        var countries, countryList, moviesList, response;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                countries = req.query.countries == \"\" ? \"USA\" : req.query.countries;\n                countryList = Array.isArray(countries) ? countries : Array(countries);\n                _context2.next = 4;\n                return _moviesDAO[\"default\"].getMoviesByCountry(countryList);\n\n              case 4:\n                moviesList = _context2.sent;\n                response = {\n                  titles: moviesList\n                };\n                res.json(response);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function apiGetMoviesByCountry(_x4, _x5, _x6) {\n        return _apiGetMoviesByCountry.apply(this, arguments);\n      }\n\n      return apiGetMoviesByCountry;\n    }()\n  }, {\n    key: \"apiGetMovieById\",\n    value: function () {\n      var _apiGetMovieById = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res, next) {\n        var id, movie, updated_type;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                id = req.params.id || {};\n                _context3.next = 4;\n                return _moviesDAO[\"default\"].getMovieByID(id);\n\n              case 4:\n                movie = _context3.sent;\n\n                if (movie) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                res.status(404).json({\n                  error: \"Not found\"\n                });\n                return _context3.abrupt(\"return\");\n\n              case 8:\n                updated_type = movie.lastupdated instanceof Date ? \"Date\" : \"other\";\n                res.json({\n                  movie: movie,\n                  updated_type: updated_type\n                });\n                _context3.next = 16;\n                break;\n\n              case 12:\n                _context3.prev = 12;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.log(\"api, \".concat(_context3.t0));\n                res.status(500).json({\n                  error: _context3.t0\n                });\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 12]]);\n      }));\n\n      function apiGetMovieById(_x7, _x8, _x9) {\n        return _apiGetMovieById.apply(this, arguments);\n      }\n\n      return apiGetMovieById;\n    }()\n  }, {\n    key: \"apiSearchMovies\",\n    value: function () {\n      var _apiSearchMovies = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res, next) {\n        var MOVIES_PER_PAGE, page, searchType, filters, _yield$MoviesDAO$getM2, moviesList, totalNumMovies, response;\n\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                MOVIES_PER_PAGE = 20;\n\n                try {\n                  page = req.query.page ? parseInt(req.query.page, 10) : 0;\n                } catch (e) {\n                  console.error(\"Got bad value for page:, \".concat(e));\n                  page = 0;\n                }\n\n                try {\n                  searchType = Object.keys(req.query)[0];\n                } catch (e) {\n                  console.error(\"No search keys specified: \".concat(e));\n                }\n\n                filters = {};\n                _context4.t0 = searchType;\n                _context4.next = _context4.t0 === \"genre\" ? 7 : _context4.t0 === \"cast\" ? 9 : _context4.t0 === \"text\" ? 11 : 13;\n                break;\n\n              case 7:\n                if (req.query.genre !== \"\") {\n                  filters.genre = req.query.genre;\n                }\n\n                return _context4.abrupt(\"break\", 13);\n\n              case 9:\n                if (req.query.cast !== \"\") {\n                  filters.cast = req.query.cast;\n                }\n\n                return _context4.abrupt(\"break\", 13);\n\n              case 11:\n                if (req.query.text !== \"\") {\n                  filters.text = req.query.text;\n                }\n\n                return _context4.abrupt(\"break\", 13);\n\n              case 13:\n                _context4.next = 15;\n                return _moviesDAO[\"default\"].getMovies({\n                  filters: filters,\n                  page: page,\n                  MOVIES_PER_PAGE: MOVIES_PER_PAGE\n                });\n\n              case 15:\n                _yield$MoviesDAO$getM2 = _context4.sent;\n                moviesList = _yield$MoviesDAO$getM2.moviesList;\n                totalNumMovies = _yield$MoviesDAO$getM2.totalNumMovies;\n                response = {\n                  movies: moviesList,\n                  page: page,\n                  filters: filters,\n                  entries_per_page: MOVIES_PER_PAGE,\n                  total_results: totalNumMovies\n                };\n                res.json(response);\n\n              case 20:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function apiSearchMovies(_x10, _x11, _x12) {\n        return _apiSearchMovies.apply(this, arguments);\n      }\n\n      return apiSearchMovies;\n    }()\n  }, {\n    key: \"apiFacetedSearch\",\n    value: function () {\n      var _apiFacetedSearch = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res, next) {\n        var MOVIES_PER_PAGE, page, filters, facetedSearchResult, response;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                MOVIES_PER_PAGE = 20;\n\n                try {\n                  page = req.query.page ? parseInt(req.query.page, 10) : 0;\n                } catch (e) {\n                  console.error(\"Got bad value for page, defaulting to 0: \".concat(e));\n                  page = 0;\n                }\n\n                filters = {};\n                filters = req.query.cast !== \"\" ? {\n                  cast: new RegExp(req.query.cast, \"i\")\n                } : {\n                  cast: \"Tom Hanks\"\n                };\n                _context5.next = 6;\n                return _moviesDAO[\"default\"].facetedSearch({\n                  filters: filters,\n                  page: page,\n                  MOVIES_PER_PAGE: MOVIES_PER_PAGE\n                });\n\n              case 6:\n                facetedSearchResult = _context5.sent;\n                response = {\n                  movies: facetedSearchResult.movies,\n                  facets: {\n                    runtime: facetedSearchResult.runtime,\n                    rating: facetedSearchResult.rating\n                  },\n                  page: page,\n                  filters: filters,\n                  entries_per_page: MOVIES_PER_PAGE,\n                  total_results: facetedSearchResult.count\n                };\n                res.json(response);\n\n              case 9:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function apiFacetedSearch(_x13, _x14, _x15) {\n        return _apiFacetedSearch.apply(this, arguments);\n      }\n\n      return apiFacetedSearch;\n    }()\n  }, {\n    key: \"getConfig\",\n    value: function () {\n      var _getConfig = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res, next) {\n        var _yield$MoviesDAO$getC, poolSize, wtimeout, authInfo, response;\n\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return _moviesDAO[\"default\"].getConfiguration();\n\n              case 2:\n                _yield$MoviesDAO$getC = _context6.sent;\n                poolSize = _yield$MoviesDAO$getC.poolSize;\n                wtimeout = _yield$MoviesDAO$getC.wtimeout;\n                authInfo = _yield$MoviesDAO$getC.authInfo;\n\n                try {\n                  response = _objectSpread({\n                    pool_size: poolSize,\n                    wtimeout: wtimeout\n                  }, authInfo);\n                  res.json(response);\n                } catch (e) {\n                  res.status(500).json({\n                    error: e\n                  });\n                }\n\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function getConfig(_x16, _x17, _x18) {\n        return _getConfig.apply(this, arguments);\n      }\n\n      return getConfig;\n    }()\n  }]);\n  return MoviesController;\n}();\n\nexports[\"default\"] = MoviesController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdmllcy5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIk1vdmllc0NvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiTU9WSUVTX1BFUl9QQUdFIiwiTW92aWVzREFPIiwiZ2V0TW92aWVzIiwibW92aWVzTGlzdCIsInRvdGFsTnVtTW92aWVzIiwicmVzcG9uc2UiLCJtb3ZpZXMiLCJwYWdlIiwiZmlsdGVycyIsImVudHJpZXNfcGVyX3BhZ2UiLCJ0b3RhbF9yZXN1bHRzIiwianNvbiIsImNvdW50cmllcyIsInF1ZXJ5IiwiY291bnRyeUxpc3QiLCJBcnJheSIsImlzQXJyYXkiLCJnZXRNb3ZpZXNCeUNvdW50cnkiLCJ0aXRsZXMiLCJpZCIsInBhcmFtcyIsImdldE1vdmllQnlJRCIsIm1vdmllIiwic3RhdHVzIiwiZXJyb3IiLCJ1cGRhdGVkX3R5cGUiLCJsYXN0dXBkYXRlZCIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwicGFyc2VJbnQiLCJlIiwic2VhcmNoVHlwZSIsIk9iamVjdCIsImtleXMiLCJnZW5yZSIsImNhc3QiLCJ0ZXh0IiwiUmVnRXhwIiwiZmFjZXRlZFNlYXJjaCIsImZhY2V0ZWRTZWFyY2hSZXN1bHQiLCJmYWNldHMiLCJydW50aW1lIiwicmF0aW5nIiwiY291bnQiLCJnZXRDb25maWd1cmF0aW9uIiwicG9vbFNpemUiLCJ3dGltZW91dCIsImF1dGhJbmZvIiwicG9vbF9zaXplIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEsZ0I7Ozs7Ozs7O3lIQUNPQyxHLEVBQUtDLEcsRUFBS0MsSTs7Ozs7OztBQUM1QkMsZ0JBQUFBLGUsR0FBa0IsRTs7dUJBQ3FCQyxzQkFBVUMsU0FBVixFOzs7O0FBQXJDQyxnQkFBQUEsVSx5QkFBQUEsVTtBQUFZQyxnQkFBQUEsYyx5QkFBQUEsYztBQUNoQkMsZ0JBQUFBLFEsR0FBVztBQUNiQyxrQkFBQUEsTUFBTSxFQUFFSCxVQURLO0FBRWJJLGtCQUFBQSxJ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LHNCQUFVNEMsZ0JBQVYsRTs7OztBQUF2Q0MsZ0JBQUFBLFEseUJBQUFBLFE7QUFBVUMsZ0JBQUFBLFEseUJBQUFBLFE7QUFBVUMsZ0JBQUFBLFEseUJBQUFBLFE7O0FBQzVCLG9CQUFJO0FBQ0UzQyxrQkFBQUEsUUFERjtBQUVBNEMsb0JBQUFBLFNBQVMsRUFBRUgsUUFGWDtBQUdBQyxvQkFBQUEsUUFBUSxFQUFSQTtBQUhBLHFCQUlHQyxRQUpIO0FBTUZsRCxrQkFBQUEsR0FBRyxDQUFDYSxJQUFKLENBQVNOLFFBQVQ7QUFDRCxpQkFQRCxDQU9FLE9BQU8wQixDQUFQLEVBQVU7QUFDVmpDLGtCQUFBQSxHQUFHLENBQUN5QixNQUFKLENBQVcsR0FBWCxFQUFnQlosSUFBaEIsQ0FBcUI7QUFBRWEsb0JBQUFBLEtBQUssRUFBRU87QUFBVCxtQkFBckI7QUFDRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXE5hZGF2IFNoZXJmXFxtZmxpeC1qc1xcc3JjXFxhcGlcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNb3ZpZXNEQU8gZnJvbSBcIi4uL2Rhby9tb3ZpZXNEQU9cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3ZpZXNDb250cm9sbGVyIHtcbiAgc3RhdGljIGFzeW5jIGFwaUdldE1vdmllcyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IE1PVklFU19QRVJfUEFHRSA9IDIwXG4gICAgY29uc3QgeyBtb3ZpZXNMaXN0LCB0b3RhbE51bU1vdmllcyB9ID0gYXdhaXQgTW92aWVzREFPLmdldE1vdmllcygpXG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgbW92aWVzOiBtb3ZpZXNMaXN0LFxuICAgICAgcGFnZTogMCxcbiAgICAgIGZpbHRlcnM6IHt9LFxuICAgICAgZW50cmllc19wZXJfcGFnZTogTU9WSUVTX1BFUl9QQUdFLFxuICAgICAgdG90YWxfcmVzdWx0czogdG90YWxOdW1Nb3ZpZXMsXG4gICAgfVxuICAgIHJlcy5qc29uKHJlc3BvbnNlKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGFwaUdldE1vdmllc0J5Q291bnRyeShyZXEsIHJlcywgbmV4dCkge1xuICAgIGxldCBjb3VudHJpZXMgPSByZXEucXVlcnkuY291bnRyaWVzID09IFwiXCIgPyBcIlVTQVwiIDogcmVxLnF1ZXJ5LmNvdW50cmllc1xuICAgIGxldCBjb3VudHJ5TGlzdCA9IEFycmF5LmlzQXJyYXkoY291bnRyaWVzKSA/IGNvdW50cmllcyA6IEFycmF5KGNvdW50cmllcylcbiAgICBsZXQgbW92aWVzTGlzdCA9IGF3YWl0IE1vdmllc0RBTy5nZXRNb3ZpZXNCeUNvdW50cnkoY291bnRyeUxpc3QpXG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgdGl0bGVzOiBtb3ZpZXNMaXN0LFxuICAgIH1cbiAgICByZXMuanNvbihyZXNwb25zZSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBhcGlHZXRNb3ZpZUJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZCB8fCB7fVxuICAgICAgbGV0IG1vdmllID0gYXdhaXQgTW92aWVzREFPLmdldE1vdmllQnlJRChpZClcbiAgICAgIGlmICghbW92aWUpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogXCJOb3QgZm91bmRcIiB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGxldCB1cGRhdGVkX3R5cGUgPSBtb3ZpZS5sYXN0dXBkYXRlZCBpbnN0YW5jZW9mIERhdGUgPyBcIkRhdGVcIiA6IFwib3RoZXJcIlxuICAgICAgcmVzLmpzb24oeyBtb3ZpZSwgdXBkYXRlZF90eXBlIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coYGFwaSwgJHtlfWApXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGFwaVNlYXJjaE1vdmllcyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IE1PVklFU19QRVJfUEFHRSA9IDIwXG4gICAgbGV0IHBhZ2VcbiAgICB0cnkge1xuICAgICAgcGFnZSA9IHJlcS5xdWVyeS5wYWdlID8gcGFyc2VJbnQocmVxLnF1ZXJ5LnBhZ2UsIDEwKSA6IDBcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBHb3QgYmFkIHZhbHVlIGZvciBwYWdlOiwgJHtlfWApXG4gICAgICBwYWdlID0gMFxuICAgIH1cbiAgICBsZXQgc2VhcmNoVHlwZVxuICAgIHRyeSB7XG4gICAgICBzZWFyY2hUeXBlID0gT2JqZWN0LmtleXMocmVxLnF1ZXJ5KVswXVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYE5vIHNlYXJjaCBrZXlzIHNwZWNpZmllZDogJHtlfWApXG4gICAgfVxuXG4gICAgbGV0IGZpbHRlcnMgPSB7fVxuXG4gICAgc3dpdGNoIChzZWFyY2hUeXBlKSB7XG4gICAgICBjYXNlIFwiZ2VucmVcIjpcbiAgICAgICAgaWYgKHJlcS5xdWVyeS5nZW5yZSAhPT0gXCJcIikge1xuICAgICAgICAgIGZpbHRlcnMuZ2VucmUgPSByZXEucXVlcnkuZ2VucmVcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBcImNhc3RcIjpcbiAgICAgICAgaWYgKHJlcS5xdWVyeS5jYXN0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgZmlsdGVycy5jYXN0ID0gcmVxLnF1ZXJ5LmNhc3RcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgaWYgKHJlcS5xdWVyeS50ZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgZmlsdGVycy50ZXh0ID0gcmVxLnF1ZXJ5LnRleHRcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vdGhpbmcgdG8gZG9cbiAgICB9XG5cbiAgICBjb25zdCB7IG1vdmllc0xpc3QsIHRvdGFsTnVtTW92aWVzIH0gPSBhd2FpdCBNb3ZpZXNEQU8uZ2V0TW92aWVzKHtcbiAgICAgIGZpbHRlcnMsXG4gICAgICBwYWdlLFxuICAgICAgTU9WSUVTX1BFUl9QQUdFLFxuICAgIH0pXG5cbiAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICBtb3ZpZXM6IG1vdmllc0xpc3QsXG4gICAgICBwYWdlOiBwYWdlLFxuICAgICAgZmlsdGVycyxcbiAgICAgIGVudHJpZXNfcGVyX3BhZ2U6IE1PVklFU19QRVJfUEFHRSxcbiAgICAgIHRvdGFsX3Jlc3VsdHM6IHRvdGFsTnVtTW92aWVzLFxuICAgIH1cblxuICAgIHJlcy5qc29uKHJlc3BvbnNlKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGFwaUZhY2V0ZWRTZWFyY2gocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCBNT1ZJRVNfUEVSX1BBR0UgPSAyMFxuXG4gICAgbGV0IHBhZ2VcbiAgICB0cnkge1xuICAgICAgcGFnZSA9IHJlcS5xdWVyeS5wYWdlID8gcGFyc2VJbnQocmVxLnF1ZXJ5LnBhZ2UsIDEwKSA6IDBcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBHb3QgYmFkIHZhbHVlIGZvciBwYWdlLCBkZWZhdWx0aW5nIHRvIDA6ICR7ZX1gKVxuICAgICAgcGFnZSA9IDBcbiAgICB9XG5cbiAgICBsZXQgZmlsdGVycyA9IHt9XG5cbiAgICBmaWx0ZXJzID1cbiAgICAgIHJlcS5xdWVyeS5jYXN0ICE9PSBcIlwiXG4gICAgICAgID8geyBjYXN0OiBuZXcgUmVnRXhwKHJlcS5xdWVyeS5jYXN0LCBcImlcIikgfVxuICAgICAgICA6IHsgY2FzdDogXCJUb20gSGFua3NcIiB9XG5cbiAgICBjb25zdCBmYWNldGVkU2VhcmNoUmVzdWx0ID0gYXdhaXQgTW92aWVzREFPLmZhY2V0ZWRTZWFyY2goe1xuICAgICAgZmlsdGVycyxcbiAgICAgIHBhZ2UsXG4gICAgICBNT1ZJRVNfUEVSX1BBR0UsXG4gICAgfSlcblxuICAgIGxldCByZXNwb25zZSA9IHtcbiAgICAgIG1vdmllczogZmFjZXRlZFNlYXJjaFJlc3VsdC5tb3ZpZXMsXG4gICAgICBmYWNldHM6IHtcbiAgICAgICAgcnVudGltZTogZmFjZXRlZFNlYXJjaFJlc3VsdC5ydW50aW1lLFxuICAgICAgICByYXRpbmc6IGZhY2V0ZWRTZWFyY2hSZXN1bHQucmF0aW5nLFxuICAgICAgfSxcbiAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICBmaWx0ZXJzLFxuICAgICAgZW50cmllc19wZXJfcGFnZTogTU9WSUVTX1BFUl9QQUdFLFxuICAgICAgdG90YWxfcmVzdWx0czogZmFjZXRlZFNlYXJjaFJlc3VsdC5jb3VudCxcbiAgICB9XG5cbiAgICByZXMuanNvbihyZXNwb25zZSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRDb25maWcocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IHBvb2xTaXplLCB3dGltZW91dCwgYXV0aEluZm8gfSA9IGF3YWl0IE1vdmllc0RBTy5nZXRDb25maWd1cmF0aW9uKClcbiAgICB0cnkge1xuICAgICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgICBwb29sX3NpemU6IHBvb2xTaXplLFxuICAgICAgICB3dGltZW91dCxcbiAgICAgICAgLi4uYXV0aEluZm8sXG4gICAgICB9XG4gICAgICByZXMuanNvbihyZXNwb25zZSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlIH0pXG4gICAgfVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "movies.controller.js"
      ],
      "names": [
        "MoviesController",
        "req",
        "res",
        "next",
        "MOVIES_PER_PAGE",
        "MoviesDAO",
        "getMovies",
        "moviesList",
        "totalNumMovies",
        "response",
        "movies",
        "page",
        "filters",
        "entries_per_page",
        "total_results",
        "json",
        "countries",
        "query",
        "countryList",
        "Array",
        "isArray",
        "getMoviesByCountry",
        "titles",
        "id",
        "params",
        "getMovieByID",
        "movie",
        "status",
        "error",
        "updated_type",
        "lastupdated",
        "Date",
        "console",
        "log",
        "parseInt",
        "e",
        "searchType",
        "Object",
        "keys",
        "genre",
        "cast",
        "text",
        "RegExp",
        "facetedSearch",
        "facetedSearchResult",
        "facets",
        "runtime",
        "rating",
        "count",
        "getConfiguration",
        "poolSize",
        "wtimeout",
        "authInfo",
        "pool_size"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "sourcesContent": [
        "import MoviesDAO from \"../dao/moviesDAO\"\n\nexport default class MoviesController {\n  static async apiGetMovies(req, res, next) {\n    const MOVIES_PER_PAGE = 20\n    const { moviesList, totalNumMovies } = await MoviesDAO.getMovies()\n    let response = {\n      movies: moviesList,\n      page: 0,\n      filters: {},\n      entries_per_page: MOVIES_PER_PAGE,\n      total_results: totalNumMovies,\n    }\n    res.json(response)\n  }\n\n  static async apiGetMoviesByCountry(req, res, next) {\n    let countries = req.query.countries == \"\" ? \"USA\" : req.query.countries\n    let countryList = Array.isArray(countries) ? countries : Array(countries)\n    let moviesList = await MoviesDAO.getMoviesByCountry(countryList)\n    let response = {\n      titles: moviesList,\n    }\n    res.json(response)\n  }\n\n  static async apiGetMovieById(req, res, next) {\n    try {\n      let id = req.params.id || {}\n      let movie = await MoviesDAO.getMovieByID(id)\n      if (!movie) {\n        res.status(404).json({ error: \"Not found\" })\n        return\n      }\n      let updated_type = movie.lastupdated instanceof Date ? \"Date\" : \"other\"\n      res.json({ movie, updated_type })\n    } catch (e) {\n      console.log(`api, ${e}`)\n      res.status(500).json({ error: e })\n    }\n  }\n\n  static async apiSearchMovies(req, res, next) {\n    const MOVIES_PER_PAGE = 20\n    let page\n    try {\n      page = req.query.page ? parseInt(req.query.page, 10) : 0\n    } catch (e) {\n      console.error(`Got bad value for page:, ${e}`)\n      page = 0\n    }\n    let searchType\n    try {\n      searchType = Object.keys(req.query)[0]\n    } catch (e) {\n      console.error(`No search keys specified: ${e}`)\n    }\n\n    let filters = {}\n\n    switch (searchType) {\n      case \"genre\":\n        if (req.query.genre !== \"\") {\n          filters.genre = req.query.genre\n        }\n        break\n      case \"cast\":\n        if (req.query.cast !== \"\") {\n          filters.cast = req.query.cast\n        }\n        break\n      case \"text\":\n        if (req.query.text !== \"\") {\n          filters.text = req.query.text\n        }\n        break\n      default:\n      // nothing to do\n    }\n\n    const { moviesList, totalNumMovies } = await MoviesDAO.getMovies({\n      filters,\n      page,\n      MOVIES_PER_PAGE,\n    })\n\n    let response = {\n      movies: moviesList,\n      page: page,\n      filters,\n      entries_per_page: MOVIES_PER_PAGE,\n      total_results: totalNumMovies,\n    }\n\n    res.json(response)\n  }\n\n  static async apiFacetedSearch(req, res, next) {\n    const MOVIES_PER_PAGE = 20\n\n    let page\n    try {\n      page = req.query.page ? parseInt(req.query.page, 10) : 0\n    } catch (e) {\n      console.error(`Got bad value for page, defaulting to 0: ${e}`)\n      page = 0\n    }\n\n    let filters = {}\n\n    filters =\n      req.query.cast !== \"\"\n        ? { cast: new RegExp(req.query.cast, \"i\") }\n        : { cast: \"Tom Hanks\" }\n\n    const facetedSearchResult = await MoviesDAO.facetedSearch({\n      filters,\n      page,\n      MOVIES_PER_PAGE,\n    })\n\n    let response = {\n      movies: facetedSearchResult.movies,\n      facets: {\n        runtime: facetedSearchResult.runtime,\n        rating: facetedSearchResult.rating,\n      },\n      page: page,\n      filters,\n      entries_per_page: MOVIES_PER_PAGE,\n      total_results: facetedSearchResult.count,\n    }\n\n    res.json(response)\n  }\n\n  static async getConfig(req, res, next) {\n    const { poolSize, wtimeout, authInfo } = await MoviesDAO.getConfiguration()\n    try {\n      let response = {\n        pool_size: poolSize,\n        wtimeout,\n        ...authInfo,\n      }\n      res.json(response)\n    } catch (e) {\n      res.status(500).json({ error: e })\n    }\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\moviesDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\moviesDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\moviesDAO.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\moviesDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
        "sourceFileName": "moviesDAO.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _bson = require(\"bson\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar movies;\nvar mflix;\nvar DEFAULT_SORT = [[\"tomatoes.viewer.numReviews\", -1]];\n\nvar MoviesDAO = /*#__PURE__*/function () {\n  function MoviesDAO() {\n    (0, _classCallCheck2[\"default\"])(this, MoviesDAO);\n  }\n\n  (0, _createClass2[\"default\"])(MoviesDAO, null, [{\n    key: \"injectDB\",\n    value: function () {\n      var _injectDB = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(conn) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!movies) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.prev = 2;\n                _context.next = 5;\n                return conn.db(process.env.MFLIX_NS);\n\n              case 5:\n                mflix = _context.sent;\n                _context.next = 8;\n                return conn.db(process.env.MFLIX_NS).collection(\"movies\");\n\n              case 8:\n                movies = _context.sent;\n                this.movies = movies; // this is only for testing\n\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](2);\n                console.error(\"Unable to establish a collection handle in moviesDAO: \".concat(_context.t0));\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 12]]);\n      }));\n\n      function injectDB(_x) {\n        return _injectDB.apply(this, arguments);\n      }\n\n      return injectDB;\n    }()\n    /**\n     * Retrieves the connection pool size, write concern and user roles on the\n     * current client.\n     * @returns {Promise<ConfigurationResult>} An object with configuration details.\n     */\n\n  }, {\n    key: \"getConfiguration\",\n    value: function () {\n      var _getConfiguration = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n        var roleInfo, authInfo, _movies$s$db$serverCo, poolSize, wtimeout, response;\n\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return mflix.command({\n                  connectionStatus: 1\n                });\n\n              case 2:\n                roleInfo = _context2.sent;\n                authInfo = roleInfo.authInfo.authenticatedUserRoles[0];\n                _movies$s$db$serverCo = movies.s.db.serverConfig.s.options, poolSize = _movies$s$db$serverCo.poolSize, wtimeout = _movies$s$db$serverCo.wtimeout;\n                response = {\n                  poolSize: poolSize,\n                  wtimeout: wtimeout,\n                  authInfo: authInfo\n                };\n                return _context2.abrupt(\"return\", response);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getConfiguration() {\n        return _getConfiguration.apply(this, arguments);\n      }\n\n      return getConfiguration;\n    }()\n    /**\n     * Finds and returns movies originating from one or more countries.\n     * Returns a list of objects, each object contains a title and an _id.\n     * @param {string[]} countries - The list of countries.\n     * @returns {Promise<CountryResult>} A promise that will resolve to a list of CountryResults.\n     */\n\n  }, {\n    key: \"getMoviesByCountry\",\n    value: function () {\n      var _getMoviesByCountry = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(countries) {\n        var cursor;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return movies.find({\n                  \"countries\": {\n                    $in: countries\n                  }\n                }, {\n                  projection: {\n                    title: 1\n                  }\n                });\n\n              case 3:\n                cursor = _context3.sent;\n                _context3.next = 10;\n                break;\n\n              case 6:\n                _context3.prev = 6;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.error(\"Unable to issue find command, \".concat(_context3.t0));\n                return _context3.abrupt(\"return\", []);\n\n              case 10:\n                return _context3.abrupt(\"return\", cursor.toArray());\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 6]]);\n      }));\n\n      function getMoviesByCountry(_x2) {\n        return _getMoviesByCountry.apply(this, arguments);\n      }\n\n      return getMoviesByCountry;\n    }()\n    /**\n     * Finds and returns movies matching a given text in their title or description.\n     * @param {string} text - The text to match with.\n     * @returns {QueryParams} The QueryParams for text search\n     */\n\n  }, {\n    key: \"textSearchQuery\",\n    value: function textSearchQuery(text) {\n      var query = {\n        $text: {\n          $search: text\n        }\n      };\n      var meta_score = {\n        $meta: \"textScore\"\n      };\n      var sort = [[\"score\", meta_score]];\n      var project = {\n        score: meta_score\n      };\n      return {\n        query: query,\n        project: project,\n        sort: sort\n      };\n    }\n    /**\n     * Finds and returns movies including one or more cast members.\n     * @param {string[]} cast - The cast members to match with.\n     * @returns {QueryParams} The QueryParams for cast search\n     */\n\n  }, {\n    key: \"castSearchQuery\",\n    value: function castSearchQuery(cast) {\n      var searchCast = Array.isArray(cast) ? cast : cast.split(\", \");\n      var query = {\n        cast: {\n          $in: searchCast\n        }\n      };\n      var project = {};\n      var sort = DEFAULT_SORT;\n      return {\n        query: query,\n        project: project,\n        sort: sort\n      };\n    }\n    /**\n     * Finds and returns movies matching a one or more genres.\n     * @param {string[]} genre - The genres to match with.\n     * @returns {QueryParams} The QueryParams for genre search\n     */\n\n  }, {\n    key: \"genreSearchQuery\",\n    value: function genreSearchQuery(genre) {\n      /**\n      Ticket: Text and Subfield Search\n       Given an array of one or more genres, construct a query that searches\n      MongoDB for movies with that genre.\n      */\n      var searchGenre = Array.isArray(genre) ? genre : genre.split(\", \"); // TODO Ticket: Text and Subfield Search\n      // Construct a query that will search for the chosen genre.\n\n      var query = {\n        genres: {\n          $in: searchGenre\n        }\n      };\n      var project = {};\n      var sort = DEFAULT_SORT;\n      return {\n        query: query,\n        project: project,\n        sort: sort\n      };\n    }\n    /**\n     *\n     * @param {Object} filters - The search parameter to use in the query. Comes\n     * in the form of `{cast: { $in: [...castMembers]}}`\n     * @param {number} page - The page of movies to retrieve.\n     * @param {number} moviesPerPage - The number of movies to display per page.\n     * @returns {FacetedSearchReturn} FacetedSearchReturn\n     */\n\n  }, {\n    key: \"facetedSearch\",\n    value: function () {\n      var _facetedSearch = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4() {\n        var _ref,\n            _ref$filters,\n            filters,\n            _ref$page,\n            page,\n            _ref$moviesPerPage,\n            moviesPerPage,\n            matchStage,\n            sortStage,\n            countingPipeline,\n            skipStage,\n            limitStage,\n            facetStage,\n            queryPipeline,\n            results,\n            count,\n            _args4 = arguments;\n\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _ref = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : {}, _ref$filters = _ref.filters, filters = _ref$filters === void 0 ? null : _ref$filters, _ref$page = _ref.page, page = _ref$page === void 0 ? 0 : _ref$page, _ref$moviesPerPage = _ref.moviesPerPage, moviesPerPage = _ref$moviesPerPage === void 0 ? 20 : _ref$moviesPerPage;\n\n                if (!(!filters || !filters.cast)) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Must specify cast members to filter by.\");\n\n              case 3:\n                matchStage = {\n                  $match: filters\n                };\n                sortStage = {\n                  $sort: {\n                    \"tomatoes.viewer.numReviews\": -1\n                  }\n                };\n                countingPipeline = [matchStage, sortStage, {\n                  $count: \"count\"\n                }];\n                skipStage = {\n                  $skip: moviesPerPage * page\n                };\n                limitStage = {\n                  $limit: moviesPerPage\n                };\n                facetStage = {\n                  $facet: {\n                    runtime: [{\n                      $bucket: {\n                        groupBy: \"$runtime\",\n                        boundaries: [0, 60, 90, 120, 180],\n                        \"default\": \"other\",\n                        output: {\n                          count: {\n                            $sum: 1\n                          }\n                        }\n                      }\n                    }],\n                    rating: [{\n                      $bucket: {\n                        groupBy: \"$metacritic\",\n                        boundaries: [0, 50, 70, 90, 100],\n                        \"default\": \"other\",\n                        output: {\n                          count: {\n                            $sum: 1\n                          }\n                        }\n                      }\n                    }],\n                    movies: [{\n                      $addFields: {\n                        title: \"$title\"\n                      }\n                    }]\n                  }\n                };\n                /**\n                Ticket: Faceted Search\n                 Please append the skipStage, limitStage, and facetStage to the queryPipeline\n                (in that order). You can accomplish this by adding the stages directly to\n                the queryPipeline.\n                 The queryPipeline is a Javascript array, so you can use push() or concat()\n                to complete this task, but you might have to do something about `const`.\n                */\n\n                queryPipeline = [matchStage, sortStage, // TODO Ticket: Faceted Search\n                // Add the stages to queryPipeline in the correct order.\n                skipStage, limitStage, facetStage];\n                _context4.prev = 10;\n                _context4.next = 13;\n                return movies.aggregate(queryPipeline);\n\n              case 13:\n                _context4.next = 15;\n                return _context4.sent.next();\n\n              case 15:\n                results = _context4.sent;\n                _context4.next = 18;\n                return movies.aggregate(countingPipeline);\n\n              case 18:\n                _context4.next = 20;\n                return _context4.sent.next();\n\n              case 20:\n                count = _context4.sent;\n                return _context4.abrupt(\"return\", _objectSpread(_objectSpread({}, results), count));\n\n              case 24:\n                _context4.prev = 24;\n                _context4.t0 = _context4[\"catch\"](10);\n                return _context4.abrupt(\"return\", {\n                  error: \"Results too large, be more restrictive in filter\"\n                });\n\n              case 27:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[10, 24]]);\n      }));\n\n      function facetedSearch() {\n        return _facetedSearch.apply(this, arguments);\n      }\n\n      return facetedSearch;\n    }()\n    /**\n     * Finds and returns movies by country.\n     * Returns a list of objects, each object contains a title and an _id.\n     * @param {Object} filters - The search parameters to use in the query.\n     * @param {number} page - The page of movies to retrieve.\n     * @param {number} moviesPerPage - The number of movies to display per page.\n     * @returns {GetMoviesResult} An object with movie results and total results\n     * that would match this query\n     */\n\n  }, {\n    key: \"getMovies\",\n    value: function () {\n      var _getMovies = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n        var _ref2,\n            _ref2$filters,\n            filters,\n            _ref2$page,\n            page,\n            _ref2$moviesPerPage,\n            moviesPerPage,\n            queryParams,\n            _queryParams,\n            _queryParams$query,\n            query,\n            _queryParams$project,\n            project,\n            _queryParams$sort,\n            sort,\n            cursor,\n            displayCursor,\n            moviesList,\n            totalNumMovies,\n            _args5 = arguments;\n\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _ref2 = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : {}, _ref2$filters = _ref2.filters, filters = _ref2$filters === void 0 ? null : _ref2$filters, _ref2$page = _ref2.page, page = _ref2$page === void 0 ? 0 : _ref2$page, _ref2$moviesPerPage = _ref2.moviesPerPage, moviesPerPage = _ref2$moviesPerPage === void 0 ? 20 : _ref2$moviesPerPage;\n                queryParams = {};\n\n                if (filters) {\n                  if (\"text\" in filters) {\n                    queryParams = this.textSearchQuery(filters[\"text\"]);\n                  } else if (\"cast\" in filters) {\n                    queryParams = this.castSearchQuery(filters[\"cast\"]);\n                  } else if (\"genre\" in filters) {\n                    queryParams = this.genreSearchQuery(filters[\"genre\"]);\n                  }\n                }\n\n                _queryParams = queryParams, _queryParams$query = _queryParams.query, query = _queryParams$query === void 0 ? {} : _queryParams$query, _queryParams$project = _queryParams.project, project = _queryParams$project === void 0 ? {} : _queryParams$project, _queryParams$sort = _queryParams.sort, sort = _queryParams$sort === void 0 ? DEFAULT_SORT : _queryParams$sort;\n                _context5.prev = 4;\n                _context5.next = 7;\n                return movies.find(query).project(project).sort(sort);\n\n              case 7:\n                cursor = _context5.sent;\n                _context5.next = 14;\n                break;\n\n              case 10:\n                _context5.prev = 10;\n                _context5.t0 = _context5[\"catch\"](4);\n                console.error(\"Unable to issue find command, \".concat(_context5.t0));\n                return _context5.abrupt(\"return\", {\n                  moviesList: [],\n                  totalNumMovies: 0\n                });\n\n              case 14:\n                /**\n                Ticket: Paging\n                 Before this method returns back to the API, use the \"moviesPerPage\" and\n                \"page\" arguments to decide the movies to display.\n                 Paging can be implemented by using the skip() and limit() cursor methods.\n                */\n                // TODO Ticket: Paging\n                // Use the cursor to only return the movies that belong on the current page\n                displayCursor = cursor.skip(page * moviesPerPage).limit(moviesPerPage);\n                _context5.prev = 15;\n                _context5.next = 18;\n                return displayCursor.toArray();\n\n              case 18:\n                moviesList = _context5.sent;\n\n                if (!(page === 0)) {\n                  _context5.next = 25;\n                  break;\n                }\n\n                _context5.next = 22;\n                return movies.countDocuments(query);\n\n              case 22:\n                _context5.t1 = _context5.sent;\n                _context5.next = 26;\n                break;\n\n              case 25:\n                _context5.t1 = 0;\n\n              case 26:\n                totalNumMovies = _context5.t1;\n                return _context5.abrupt(\"return\", {\n                  moviesList: moviesList,\n                  totalNumMovies: totalNumMovies\n                });\n\n              case 30:\n                _context5.prev = 30;\n                _context5.t2 = _context5[\"catch\"](15);\n                console.error(\"Unable to convert cursor to array or problem counting documents, \".concat(_context5.t2));\n                return _context5.abrupt(\"return\", {\n                  moviesList: [],\n                  totalNumMovies: 0\n                });\n\n              case 34:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[4, 10], [15, 30]]);\n      }));\n\n      function getMovies() {\n        return _getMovies.apply(this, arguments);\n      }\n\n      return getMovies;\n    }()\n    /**\n     * Gets a movie by its id\n     * @param {string} id - The desired movie id, the _id in Mongo\n     * @returns {MflixMovie | null} Returns either a single movie or nothing\n     */\n\n  }, {\n    key: \"getMovieByID\",\n    value: function () {\n      var _getMovieByID = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(id) {\n        var pipeline;\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n\n                /**\n                Ticket: Get Comments\n                 Given a movie ID, build an Aggregation Pipeline to retrieve the comments\n                matching that movie's ID.\n                 The $match stage is already completed. You will need to add a $lookup\n                stage that searches the `comments` collection for the correct comments.\n                */\n                // TODO Ticket: Get Comments\n                // Implement the required pipeline.\n                pipeline = [{\n                  $match: {\n                    _id: (0, _bson.ObjectId)(id)\n                  }\n                }, {\n                  $lookup: {\n                    from: 'comments',\n                    \"let\": {\n                      'id': '$_id'\n                    },\n                    pipeline: [{\n                      $match: {\n                        '$expr': {\n                          '$eq': ['$movie_id', \"$$id\"]\n                        }\n                      }\n                    }, {\n                      $sort: {\n                        date: -1\n                      }\n                    }],\n                    as: 'comments'\n                  }\n                }];\n                _context6.next = 4;\n                return movies.aggregate(pipeline).next();\n\n              case 4:\n                return _context6.abrupt(\"return\", _context6.sent);\n\n              case 7:\n                _context6.prev = 7;\n                _context6.t0 = _context6[\"catch\"](0);\n\n                /**\n                Ticket: Error Handling\n                 Handle the error that occurs when an invalid ID is passed to this method.\n                When this specific error is thrown, the method should return `null`.\n                */\n                // TODO Ticket: Error Handling\n                // Catch the InvalidId error by string matching, and then handle it.\n                console.error(\"Something went wrong in getMovieByID: \".concat(_context6.t0));\n                throw _context6.t0;\n\n              case 11:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[0, 7]]);\n      }));\n\n      function getMovieByID(_x3) {\n        return _getMovieByID.apply(this, arguments);\n      }\n\n      return getMovieByID;\n    }()\n  }]);\n  return MoviesDAO;\n}();\n/**\n * This is a parsed query, sort, and project bundle.\n * @typedef QueryParams\n * @property {Object} query - The specified query, transformed accordingly\n * @property {any[]} sort - The specified sort\n * @property {Object} project - The specified project, if any\n */\n\n/**\n * Represents a single country result\n * @typedef CountryResult\n * @property {string} ObjectID - The ObjectID of the movie\n * @property {string} title - The title of the movie\n */\n\n/**\n * A Movie from mflix\n * @typedef MflixMovie\n * @property {string} _id\n * @property {string} title\n * @property {number} year\n * @property {number} runtime\n * @property {Date} released\n * @property {string[]} cast\n * @property {number} metacriticd\n * @property {string} poster\n * @property {string} plot\n * @property {string} fullplot\n * @property {string|Date} lastupdated\n * @property {string} type\n * @property {string[]} languages\n * @property {string[]} directors\n * @property {string[]} writers\n * @property {IMDB} imdb\n * @property {string[]} countries\n * @property {string[]} rated\n * @property {string[]} genres\n * @property {string[]} comments\n */\n\n/**\n * IMDB subdocument\n * @typedef IMDB\n * @property {number} rating\n * @property {number} votes\n * @property {number} id\n */\n\n/**\n * Result set for getMovies method\n * @typedef GetMoviesResult\n * @property {MflixMovies[]} moviesList\n * @property {number} totalNumResults\n */\n\n/**\n * Faceted Search Return\n *\n * The type of return from faceted search. It will be a single document with\n * 3 fields: rating, runtime, and movies.\n * @typedef FacetedSearchReturn\n * @property {object} rating\n * @property {object} runtime\n * @property {MFlixMovie[]}movies\n */\n\n\nexports[\"default\"] = MoviesDAO;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdmllc0RBTy5qcyJdLCJuYW1lcyI6WyJtb3ZpZXMiLCJtZmxpeCIsIkRFRkFVTFRfU09SVCIsIk1vdmllc0RBTyIsImNvbm4iLCJkYiIsInByb2Nlc3MiLCJlbnYiLCJNRkxJWF9OUyIsImNvbGxlY3Rpb24iLCJjb25zb2xlIiwiZXJyb3IiLCJjb21tYW5kIiwiY29ubmVjdGlvblN0YXR1cyIsInJvbGVJbmZvIiwiYXV0aEluZm8iLCJhdXRoZW50aWNhdGVkVXNlclJvbGVzIiwicyIsInNlcnZlckNvbmZpZyIsIm9wdGlvbnMiLCJwb29sU2l6ZSIsInd0aW1lb3V0IiwicmVzcG9uc2UiLCJjb3VudHJpZXMiLCJmaW5kIiwiJGluIiwicHJvamVjdGlvbiIsInRpdGxlIiwiY3Vyc29yIiwidG9BcnJheSIsInRleHQiLCJxdWVyeSIsIiR0ZXh0IiwiJHNlYXJjaCIsIm1ldGFfc2NvcmUiLCIkbWV0YSIsInNvcnQiLCJwcm9qZWN0Iiwic2NvcmUiLCJjYXN0Iiwic2VhcmNoQ2FzdCIsIkFycmF5IiwiaXNBcnJheSIsInNwbGl0IiwiZ2VucmUiLCJzZWFyY2hHZW5yZSIsImdlbnJlcyIsImZpbHRlcnMiLCJwYWdlIiwibW92aWVzUGVyUGFnZSIsIkVycm9yIiwibWF0Y2hTdGFnZSIsIiRtYXRjaCIsInNvcnRTdGFnZSIsIiRzb3J0IiwiY291bnRpbmdQaXBlbGluZSIsIiRjb3VudCIsInNraXBTdGFnZSIsIiRza2lwIiwibGltaXRTdGFnZSIsIiRsaW1pdCIsImZhY2V0U3RhZ2UiLCIkZmFjZXQiLCJydW50aW1lIiwiJGJ1Y2tldCIsImdyb3VwQnkiLCJib3VuZGFyaWVzIiwib3V0cHV0IiwiY291bnQiLCIkc3VtIiwicmF0aW5nIiwiJGFkZEZpZWxkcyIsInF1ZXJ5UGlwZWxpbmUiLCJhZ2dyZWdhdGUiLCJuZXh0IiwicmVzdWx0cyIsInF1ZXJ5UGFyYW1zIiwidGV4dFNlYXJjaFF1ZXJ5IiwiY2FzdFNlYXJjaFF1ZXJ5IiwiZ2VucmVTZWFyY2hRdWVyeSIsIm1vdmllc0xpc3QiLCJ0b3RhbE51bU1vdmllcyIsImRpc3BsYXlDdXJzb3IiLCJza2lwIiwibGltaXQiLCJjb3VudERvY3VtZW50cyIsImlkIiwicGlwZWxpbmUiLCJfaWQiLCIkbG9va3VwIiwiZnJvbSIsImRhdGUiLCJhcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7QUFFQSxJQUFJQSxNQUFKO0FBQ0EsSUFBSUMsS0FBSjtBQUNBLElBQU1DLFlBQVksR0FBRyxDQUFDLENBQUMsNEJBQUQsRUFBK0IsQ0FBQyxDQUFoQyxDQUFELENBQXJCOztJQUVxQkMsUzs7Ozs7Ozs7cUhBQ0dDLEk7Ozs7O3FCQUNoQkosTTs7Ozs7Ozs7Ozt1QkFJWUksSUFBSSxDQUFDQyxFQUFMLENBQVFDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFwQixDOzs7QUFBZFAsZ0JBQUFBLEs7O3VCQUNlRyxJQUFJLENBQUNDLEVBQUwsQ0FBUUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQXBCLEVBQThCQyxVQUE5QixDQUF5QyxRQUF6QyxDOzs7QUFBZlQsZ0JBQUFBLE07QUFDQSxxQkFBS0EsTUFBTCxHQUFjQSxNQUFkLEMsQ0FBcUI7Ozs7Ozs7O0FBRXJCVSxnQkFBQUEsT0FBTyxDQUFDQyxLQUFSOzs7Ozs7Ozs7Ozs7Ozs7O0FBTUo7Ozs7Ozs7Ozs7Ozs7Ozs7O3VCQU15QlYsS0FBSyxDQUFDVyxPQUFOLENBQWM7QUFBRUMsa0JBQUFBLGdCQUFnQixFQUFFO0FBQXBCLGlCQUFkLEM7OztBQUFqQkMsZ0JBQUFBLFE7QUFDQUMsZ0JBQUFBLFEsR0FBV0QsUUFBUSxDQUFDQyxRQUFULENBQWtCQyxzQkFBbEIsQ0FBeUMsQ0FBekMsQzt3Q0FDY2hCLE1BQU0sQ0FBQ2lCLENBQVAsQ0FBU1osRUFBVCxDQUFZYSxZQUFaLENBQXlCRCxDQUF6QixDQUEyQkUsTyxFQUFsREMsUSx5QkFBQUEsUSxFQUFVQyxRLHlCQUFBQSxRO0FBQ2RDLGdCQUFBQSxRLEdBQVc7QUFDYkYsa0JBQUFBLFFBQVEsRUFB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REM7QUFEVixpQkFEZSxFQU1mO0FBQ0VHLGtCQUFBQSxPQUFPLEVBQ0w7QUFDRUMsb0JBQUFBLElBQUksRUFBRSxVQURSO0FBRUUsMkJBQUk7QUFBQyw0QkFBSztBQUFOLHFCQUZOO0FBR0VILG9CQUFBQSxRQUFRLEVBQUUsQ0FBQztBQUFDbkMsc0JBQUFBLE1BQU0sRUFDakI7QUFBQyxpQ0FBUztBQUFDLGlDQUFPLENBQUMsV0FBRCxFQUFhLE1BQWI7QUFBUjtBQUFWO0FBRFUscUJBQUQsRUFFVDtBQUFDRSxzQkFBQUEsS0FBSyxFQUFDO0FBQUNxQyx3QkFBQUEsSUFBSSxFQUFDLENBQUM7QUFBUDtBQUFQLHFCQUZTLENBSFo7QUFPRUMsb0JBQUFBLEVBQUUsRUFBRTtBQVBOO0FBRkosaUJBTmUsQzs7dUJBbUJKNUYsTUFBTSxDQUFDeUUsU0FBUCxDQUFpQmMsUUFBakIsRUFBMkJiLElBQTNCLEU7Ozs7Ozs7OztBQUViOzs7OztBQU9BO0FBQ0E7QUFDQWhFLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTU47Ozs7Ozs7O0FBUUE7Ozs7Ozs7QUFPQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXlCQTs7Ozs7Ozs7QUFRQTs7Ozs7OztBQU9BIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXGRhb1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JqZWN0SWQgfSBmcm9tIFwiYnNvblwiXG5cbmxldCBtb3ZpZXNcbmxldCBtZmxpeFxuY29uc3QgREVGQVVMVF9TT1JUID0gW1tcInRvbWF0b2VzLnZpZXdlci5udW1SZXZpZXdzXCIsIC0xXV1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW92aWVzREFPIHtcbiAgc3RhdGljIGFzeW5jIGluamVjdERCKGNvbm4pIHtcbiAgICBpZiAobW92aWVzKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIG1mbGl4ID0gYXdhaXQgY29ubi5kYihwcm9jZXNzLmVudi5NRkxJWF9OUylcbiAgICAgIG1vdmllcyA9IGF3YWl0IGNvbm4uZGIocHJvY2Vzcy5lbnYuTUZMSVhfTlMpLmNvbGxlY3Rpb24oXCJtb3ZpZXNcIilcbiAgICAgIHRoaXMubW92aWVzID0gbW92aWVzIC8vIHRoaXMgaXMgb25seSBmb3IgdGVzdGluZ1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBVbmFibGUgdG8gZXN0YWJsaXNoIGEgY29sbGVjdGlvbiBoYW5kbGUgaW4gbW92aWVzREFPOiAke2V9YCxcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBjb25uZWN0aW9uIHBvb2wgc2l6ZSwgd3JpdGUgY29uY2VybiBhbmQgdXNlciByb2xlcyBvbiB0aGVcbiAgICogY3VycmVudCBjbGllbnQuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPENvbmZpZ3VyYXRpb25SZXN1bHQ+fSBBbiBvYmplY3Qgd2l0aCBjb25maWd1cmF0aW9uIGRldGFpbHMuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0Q29uZmlndXJhdGlvbigpIHtcbiAgICBjb25zdCByb2xlSW5mbyA9IGF3YWl0IG1mbGl4LmNvbW1hbmQoeyBjb25uZWN0aW9uU3RhdHVzOiAxIH0pXG4gICAgY29uc3QgYXV0aEluZm8gPSByb2xlSW5mby5hdXRoSW5mby5hdXRoZW50aWNhdGVkVXNlclJvbGVzWzBdXG4gICAgY29uc3QgeyBwb29sU2l6ZSwgd3RpbWVvdXQgfSA9IG1vdmllcy5zLmRiLnNlcnZlckNvbmZpZy5zLm9wdGlvbnNcbiAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICBwb29sU2l6ZSxcbiAgICAgIHd0aW1lb3V0LFxuICAgICAgYXV0aEluZm8sXG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIGFuZCByZXR1cm5zIG1vdmllcyBvcmlnaW5hdGluZyBmcm9tIG9uZSBvciBtb3JlIGNvdW50cmllcy5cbiAgICogUmV0dXJucyBhIGxpc3Qgb2Ygb2JqZWN0cywgZWFjaCBvYmplY3QgY29udGFpbnMgYSB0aXRsZSBhbmQgYW4gX2lkLlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBjb3VudHJpZXMgLSBUaGUgbGlzdCBvZiBjb3VudHJpZXMuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPENvdW50cnlSZXN1bHQ+fSBBIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgdG8gYSBsaXN0IG9mIENvdW50cnlSZXN1bHRzLlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldE1vdmllc0J5Q291bnRyeShjb3VudHJpZXMpIHtcbiAgICAvKipcbiAgICBUaWNrZXQ6IFByb2plY3Rpb25cblxuICAgIFdyaXRlIGEgcXVlcnkgdGhhdCBtYXRjaGVzIG1vdmllcyB3aXRoIHRoZSBjb3VudHJpZXMgaW4gdGhlIFwiY291bnRyaWVzXCJcbiAgICBsaXN0LCBidXQgb25seSByZXR1cm5zIHRoZSB0aXRsZSBhbmQgX2lkIG9mIGVhY2ggbW92aWUuXG5cbiAgICBSZW1lbWJlciB0aGF0IGluIE1vbmdvREIsIHRoZSAkaW4gb3BlcmF0b3IgY2FuIGJlIHVzZWQgd2l0aCBhIGxpc3QgdG9cbiAgICBtYXRjaCBvbmUgb3IgbW9yZSB2YWx1ZXMgb2YgYSBzcGVjaWZpYyBmaWVsZC5cbiAgICAqL1xuXG4gICAgbGV0IGN1cnNvclxuICAgIHRyeSB7XG4gICAgICAvLyBUT0RPIFRpY2tldDogUHJvamVjdGlvblxuICAgICAgLy8gRmluZCBtb3ZpZXMgbWF0Y2hpbmcgdGhlIFwiY291bnRyaWVzXCIgbGlzdCwgYnV0IG9ubHkgcmV0dXJuIHRoZSB0aXRsZVxuICAgICAgLy8gYW5kIF9pZC4gRG8gbm90IHB1dCBhIGxpbWl0IGluIHlvdXIgb3duIGltcGxlbWVudGF0aW9uLCB0aGUgbGltaXRcbiAgICAgIC8vIGhlcmUgaXMgb25seSBpbmNsdWRlZCB0byBhdm9pZCBzZW5kaW5nIDQ2MDAwIGRvY3VtZW50cyBkb3duIHRoZVxuICAgICAgLy8gd2lyZS5cbiAgICAgIGN1cnNvciA9IGF3YWl0IG1vdmllcy5maW5kKFxuICAgICAgICB7XCJjb3VudHJpZXNcIjogeyRpbjogY291bnRyaWVzfX0sXG4gICAgICAgIHtwcm9qZWN0aW9uOiB7dGl0bGU6MX0gfVxuICAgICAgKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byBpc3N1ZSBmaW5kIGNvbW1hbmQsICR7ZX1gKVxuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnNvci50b0FycmF5KClcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBhbmQgcmV0dXJucyBtb3ZpZXMgbWF0Y2hpbmcgYSBnaXZlbiB0ZXh0IGluIHRoZWlyIHRpdGxlIG9yIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIG1hdGNoIHdpdGguXG4gICAqIEByZXR1cm5zIHtRdWVyeVBhcmFtc30gVGhlIFF1ZXJ5UGFyYW1zIGZvciB0ZXh0IHNlYXJjaFxuICAgKi9cbiAgc3RhdGljIHRleHRTZWFyY2hRdWVyeSh0ZXh0KSB7XG4gICAgY29uc3QgcXVlcnkgPSB7ICR0ZXh0OiB7ICRzZWFyY2g6IHRleHQgfSB9XG4gICAgY29uc3QgbWV0YV9zY29yZSA9IHsgJG1ldGE6IFwidGV4dFNjb3JlXCIgfVxuICAgIGNvbnN0IHNvcnQgPSBbW1wic2NvcmVcIiwgbWV0YV9zY29yZV1dXG4gICAgY29uc3QgcHJvamVjdCA9IHsgc2NvcmU6IG1ldGFfc2NvcmUgfVxuXG4gICAgcmV0dXJuIHsgcXVlcnksIHByb2plY3QsIHNvcnQgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIGFuZCByZXR1cm5zIG1vdmllcyBpbmNsdWRpbmcgb25lIG9yIG1vcmUgY2FzdCBtZW1iZXJzLlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBjYXN0IC0gVGhlIGNhc3QgbWVtYmVycyB0byBtYXRjaCB3aXRoLlxuICAgKiBAcmV0dXJucyB7UXVlcnlQYXJhbXN9IFRoZSBRdWVyeVBhcmFtcyBmb3IgY2FzdCBzZWFyY2hcbiAgICovXG4gIHN0YXRpYyBjYXN0U2VhcmNoUXVlcnkoY2FzdCkge1xuICAgIGNvbnN0IHNlYXJjaENhc3QgPSBBcnJheS5pc0FycmF5KGNhc3QpID8gY2FzdCA6IGNhc3Quc3BsaXQoXCIsIFwiKVxuXG4gICAgY29uc3QgcXVlcnkgPSB7IGNhc3Q6IHsgJGluOiBzZWFyY2hDYXN0IH0gfVxuICAgIGNvbnN0IHByb2plY3QgPSB7fVxuICAgIGNvbnN0IHNvcnQgPSBERUZBVUxUX1NPUlRcblxuICAgIHJldHVybiB7IHF1ZXJ5LCBwcm9qZWN0LCBzb3J0IH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBhbmQgcmV0dXJucyBtb3ZpZXMgbWF0Y2hpbmcgYSBvbmUgb3IgbW9yZSBnZW5yZXMuXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IGdlbnJlIC0gVGhlIGdlbnJlcyB0byBtYXRjaCB3aXRoLlxuICAgKiBAcmV0dXJucyB7UXVlcnlQYXJhbXN9IFRoZSBRdWVyeVBhcmFtcyBmb3IgZ2VucmUgc2VhcmNoXG4gICAqL1xuICBzdGF0aWMgZ2VucmVTZWFyY2hRdWVyeShnZW5yZSkge1xuICAgIC8qKlxuICAgIFRpY2tldDogVGV4dCBhbmQgU3ViZmllbGQgU2VhcmNoXG5cbiAgICBHaXZlbiBhbiBhcnJheSBvZiBvbmUgb3IgbW9yZSBnZW5yZXMsIGNvbnN0cnVjdCBhIHF1ZXJ5IHRoYXQgc2VhcmNoZXNcbiAgICBNb25nb0RCIGZvciBtb3ZpZXMgd2l0aCB0aGF0IGdlbnJlLlxuICAgICovXG5cbiAgICBjb25zdCBzZWFyY2hHZW5yZSA9IEFycmF5LmlzQXJyYXkoZ2VucmUpID8gZ2VucmUgOiBnZW5yZS5zcGxpdChcIiwgXCIpXG5cbiAgICAvLyBUT0RPIFRpY2tldDogVGV4dCBhbmQgU3ViZmllbGQgU2VhcmNoXG4gICAgLy8gQ29uc3RydWN0IGEgcXVlcnkgdGhhdCB3aWxsIHNlYXJjaCBmb3IgdGhlIGNob3NlbiBnZW5yZS5cbiAgICBjb25zdCBxdWVyeSA9IHtnZW5yZXM6IHskaW46c2VhcmNoR2VucmV9fVxuICAgIGNvbnN0IHByb2plY3QgPSB7fVxuICAgIGNvbnN0IHNvcnQgPSBERUZBVUxUX1NPUlRcblxuICAgIHJldHVybiB7IHF1ZXJ5LCBwcm9qZWN0LCBzb3J0IH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZmlsdGVycyAtIFRoZSBzZWFyY2ggcGFyYW1ldGVyIHRvIHVzZSBpbiB0aGUgcXVlcnkuIENvbWVzXG4gICAqIGluIHRoZSBmb3JtIG9mIGB7Y2FzdDogeyAkaW46IFsuLi5jYXN0TWVtYmVyc119fWBcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2UgLSBUaGUgcGFnZSBvZiBtb3ZpZXMgdG8gcmV0cmlldmUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtb3ZpZXNQZXJQYWdlIC0gVGhlIG51bWJlciBvZiBtb3ZpZXMgdG8gZGlzcGxheSBwZXIgcGFnZS5cbiAgICogQHJldHVybnMge0ZhY2V0ZWRTZWFyY2hSZXR1cm59IEZhY2V0ZWRTZWFyY2hSZXR1cm5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBmYWNldGVkU2VhcmNoKHtcbiAgICBmaWx0ZXJzID0gbnVsbCxcbiAgICBwYWdlID0gMCxcbiAgICBtb3ZpZXNQZXJQYWdlID0gMjAsXG4gIH0gPSB7fSkge1xuICAgIGlmICghZmlsdGVycyB8fCAhZmlsdGVycy5jYXN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHNwZWNpZnkgY2FzdCBtZW1iZXJzIHRvIGZpbHRlciBieS5cIilcbiAgICB9XG4gICAgY29uc3QgbWF0Y2hTdGFnZSA9IHsgJG1hdGNoOiBmaWx0ZXJzIH1cbiAgICBjb25zdCBzb3J0U3RhZ2UgPSB7ICRzb3J0OiB7IFwidG9tYXRvZXMudmlld2VyLm51bVJldmlld3NcIjogLTEgfSB9XG4gICAgY29uc3QgY291bnRpbmdQaXBlbGluZSA9IFttYXRjaFN0YWdlLCBzb3J0U3RhZ2UsIHsgJGNvdW50OiBcImNvdW50XCIgfV1cbiAgICBjb25zdCBza2lwU3RhZ2UgPSB7ICRza2lwOiBtb3ZpZXNQZXJQYWdlICogcGFnZSB9XG4gICAgY29uc3QgbGltaXRTdGFnZSA9IHsgJGxpbWl0OiBtb3ZpZXNQZXJQYWdlIH1cbiAgICBjb25zdCBmYWNldFN0YWdlID0ge1xuICAgICAgJGZhY2V0OiB7XG4gICAgICAgIHJ1bnRpbWU6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAkYnVja2V0OiB7XG4gICAgICAgICAgICAgIGdyb3VwQnk6IFwiJHJ1bnRpbWVcIixcbiAgICAgICAgICAgICAgYm91bmRhcmllczogWzAsIDYwLCA5MCwgMTIwLCAxODBdLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBcIm90aGVyXCIsXG4gICAgICAgICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgICAgIGNvdW50OiB7ICRzdW06IDEgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgcmF0aW5nOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgJGJ1Y2tldDoge1xuICAgICAgICAgICAgICBncm91cEJ5OiBcIiRtZXRhY3JpdGljXCIsXG4gICAgICAgICAgICAgIGJvdW5kYXJpZXM6IFswLCA1MCwgNzAsIDkwLCAxMDBdLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBcIm90aGVyXCIsXG4gICAgICAgICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgICAgIGNvdW50OiB7ICRzdW06IDEgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgbW92aWVzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgJGFkZEZpZWxkczoge1xuICAgICAgICAgICAgICB0aXRsZTogXCIkdGl0bGVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgLyoqXG4gICAgVGlja2V0OiBGYWNldGVkIFNlYXJjaFxuXG4gICAgUGxlYXNlIGFwcGVuZCB0aGUgc2tpcFN0YWdlLCBsaW1pdFN0YWdlLCBhbmQgZmFjZXRTdGFnZSB0byB0aGUgcXVlcnlQaXBlbGluZVxuICAgIChpbiB0aGF0IG9yZGVyKS4gWW91IGNhbiBhY2NvbXBsaXNoIHRoaXMgYnkgYWRkaW5nIHRoZSBzdGFnZXMgZGlyZWN0bHkgdG9cbiAgICB0aGUgcXVlcnlQaXBlbGluZS5cblxuICAgIFRoZSBxdWVyeVBpcGVsaW5lIGlzIGEgSmF2YXNjcmlwdCBhcnJheSwgc28geW91IGNhbiB1c2UgcHVzaCgpIG9yIGNvbmNhdCgpXG4gICAgdG8gY29tcGxldGUgdGhpcyB0YXNrLCBidXQgeW91IG1pZ2h0IGhhdmUgdG8gZG8gc29tZXRoaW5nIGFib3V0IGBjb25zdGAuXG4gICAgKi9cblxuICAgIGNvbnN0IHF1ZXJ5UGlwZWxpbmUgPSBbXG4gICAgICBtYXRjaFN0YWdlLFxuICAgICAgc29ydFN0YWdlLFxuICAgICAgLy8gVE9ETyBUaWNrZXQ6IEZhY2V0ZWQgU2VhcmNoXG4gICAgICAvLyBBZGQgdGhlIHN0YWdlcyB0byBxdWVyeVBpcGVsaW5lIGluIHRoZSBjb3JyZWN0IG9yZGVyLlxuICAgICAgc2tpcFN0YWdlLFxuICAgICAgbGltaXRTdGFnZSxcbiAgICAgIGZhY2V0U3RhZ2VcbiAgICBdXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IChhd2FpdCBtb3ZpZXMuYWdncmVnYXRlKHF1ZXJ5UGlwZWxpbmUpKS5uZXh0KClcbiAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgKGF3YWl0IG1vdmllcy5hZ2dyZWdhdGUoY291bnRpbmdQaXBlbGluZSkpLm5leHQoKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzdWx0cyxcbiAgICAgICAgLi4uY291bnQsXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IFwiUmVzdWx0cyB0b28gbGFyZ2UsIGJlIG1vcmUgcmVzdHJpY3RpdmUgaW4gZmlsdGVyXCIgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBhbmQgcmV0dXJucyBtb3ZpZXMgYnkgY291bnRyeS5cbiAgICogUmV0dXJucyBhIGxpc3Qgb2Ygb2JqZWN0cywgZWFjaCBvYmplY3QgY29udGFpbnMgYSB0aXRsZSBhbmQgYW4gX2lkLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZmlsdGVycyAtIFRoZSBzZWFyY2ggcGFyYW1ldGVycyB0byB1c2UgaW4gdGhlIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZSAtIFRoZSBwYWdlIG9mIG1vdmllcyB0byByZXRyaWV2ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1vdmllc1BlclBhZ2UgLSBUaGUgbnVtYmVyIG9mIG1vdmllcyB0byBkaXNwbGF5IHBlciBwYWdlLlxuICAgKiBAcmV0dXJucyB7R2V0TW92aWVzUmVzdWx0fSBBbiBvYmplY3Qgd2l0aCBtb3ZpZSByZXN1bHRzIGFuZCB0b3RhbCByZXN1bHRzXG4gICAqIHRoYXQgd291bGQgbWF0Y2ggdGhpcyBxdWVyeVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldE1vdmllcyh7XG4gICAgLy8gaGVyZSdzIHdoZXJlIHRoZSBkZWZhdWx0IHBhcmFtZXRlcnMgYXJlIHNldCBmb3IgdGhlIGdldE1vdmllcyBtZXRob2RcbiAgICBmaWx0ZXJzID0gbnVsbCxcbiAgICBwYWdlID0gMCxcbiAgICBtb3ZpZXNQZXJQYWdlID0gMjAsXG4gIH0gPSB7fSkge1xuICAgIGxldCBxdWVyeVBhcmFtcyA9IHt9XG4gICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgIGlmIChcInRleHRcIiBpbiBmaWx0ZXJzKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zID0gdGhpcy50ZXh0U2VhcmNoUXVlcnkoZmlsdGVyc1tcInRleHRcIl0pXG4gICAgICB9IGVsc2UgaWYgKFwiY2FzdFwiIGluIGZpbHRlcnMpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMgPSB0aGlzLmNhc3RTZWFyY2hRdWVyeShmaWx0ZXJzW1wiY2FzdFwiXSlcbiAgICAgIH0gZWxzZSBpZiAoXCJnZW5yZVwiIGluIGZpbHRlcnMpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMgPSB0aGlzLmdlbnJlU2VhcmNoUXVlcnkoZmlsdGVyc1tcImdlbnJlXCJdKVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB7IHF1ZXJ5ID0ge30sIHByb2plY3QgPSB7fSwgc29ydCA9IERFRkFVTFRfU09SVCB9ID0gcXVlcnlQYXJhbXNcbiAgICBsZXQgY3Vyc29yXG4gICAgdHJ5IHtcbiAgICAgIGN1cnNvciA9IGF3YWl0IG1vdmllc1xuICAgICAgICAuZmluZChxdWVyeSlcbiAgICAgICAgLnByb2plY3QocHJvamVjdClcbiAgICAgICAgLnNvcnQoc29ydClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gaXNzdWUgZmluZCBjb21tYW5kLCAke2V9YClcbiAgICAgIHJldHVybiB7IG1vdmllc0xpc3Q6IFtdLCB0b3RhbE51bU1vdmllczogMCB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgVGlja2V0OiBQYWdpbmdcblxuICAgIEJlZm9yZSB0aGlzIG1ldGhvZCByZXR1cm5zIGJhY2sgdG8gdGhlIEFQSSwgdXNlIHRoZSBcIm1vdmllc1BlclBhZ2VcIiBhbmRcbiAgICBcInBhZ2VcIiBhcmd1bWVudHMgdG8gZGVjaWRlIHRoZSBtb3ZpZXMgdG8gZGlzcGxheS5cblxuICAgIFBhZ2luZyBjYW4gYmUgaW1wbGVtZW50ZWQgYnkgdXNpbmcgdGhlIHNraXAoKSBhbmQgbGltaXQoKSBjdXJzb3IgbWV0aG9kcy5cbiAgICAqL1xuICAgXG5cbiAgICAvLyBUT0RPIFRpY2tldDogUGFnaW5nXG4gICAgLy8gVXNlIHRoZSBjdXJzb3IgdG8gb25seSByZXR1cm4gdGhlIG1vdmllcyB0aGF0IGJlbG9uZyBvbiB0aGUgY3VycmVudCBwYWdlXG4gICAgY29uc3QgZGlzcGxheUN1cnNvciA9IGN1cnNvci5za2lwKHBhZ2UqbW92aWVzUGVyUGFnZSkubGltaXQobW92aWVzUGVyUGFnZSlcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBtb3ZpZXNMaXN0ID0gYXdhaXQgZGlzcGxheUN1cnNvci50b0FycmF5KClcbiAgICAgIGNvbnN0IHRvdGFsTnVtTW92aWVzID0gcGFnZSA9PT0gMCA/IGF3YWl0IG1vdmllcy5jb3VudERvY3VtZW50cyhxdWVyeSkgOiAwXG5cbiAgICAgIHJldHVybiB7IG1vdmllc0xpc3QsIHRvdGFsTnVtTW92aWVzIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgVW5hYmxlIHRvIGNvbnZlcnQgY3Vyc29yIHRvIGFycmF5IG9yIHByb2JsZW0gY291bnRpbmcgZG9jdW1lbnRzLCAke2V9YCxcbiAgICAgIClcbiAgICAgIHJldHVybiB7IG1vdmllc0xpc3Q6IFtdLCB0b3RhbE51bU1vdmllczogMCB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBtb3ZpZSBieSBpdHMgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGRlc2lyZWQgbW92aWUgaWQsIHRoZSBfaWQgaW4gTW9uZ29cbiAgICogQHJldHVybnMge01mbGl4TW92aWUgfCBudWxsfSBSZXR1cm5zIGVpdGhlciBhIHNpbmdsZSBtb3ZpZSBvciBub3RoaW5nXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0TW92aWVCeUlEKGlkKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8qKlxuICAgICAgVGlja2V0OiBHZXQgQ29tbWVudHNcblxuICAgICAgR2l2ZW4gYSBtb3ZpZSBJRCwgYnVpbGQgYW4gQWdncmVnYXRpb24gUGlwZWxpbmUgdG8gcmV0cmlldmUgdGhlIGNvbW1lbnRzXG4gICAgICBtYXRjaGluZyB0aGF0IG1vdmllJ3MgSUQuXG5cbiAgICAgIFRoZSAkbWF0Y2ggc3RhZ2UgaXMgYWxyZWFkeSBjb21wbGV0ZWQuIFlvdSB3aWxsIG5lZWQgdG8gYWRkIGEgJGxvb2t1cFxuICAgICAgc3RhZ2UgdGhhdCBzZWFyY2hlcyB0aGUgYGNvbW1lbnRzYCBjb2xsZWN0aW9uIGZvciB0aGUgY29ycmVjdCBjb21tZW50cy5cbiAgICAgICovXG5cbiAgICAgIC8vIFRPRE8gVGlja2V0OiBHZXQgQ29tbWVudHNcbiAgICAgIC8vIEltcGxlbWVudCB0aGUgcmVxdWlyZWQgcGlwZWxpbmUuXG4gICAgICBjb25zdCBwaXBlbGluZSA9IFtcbiAgICAgICAge1xuICAgICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICAgX2lkOiBPYmplY3RJZChpZClcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAkbG9va3VwOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBmcm9tOiAnY29tbWVudHMnLFxuICAgICAgICAgICAgICBsZXQ6eydpZCc6JyRfaWQnfSxcbiAgICAgICAgICAgICAgcGlwZWxpbmU6IFt7JG1hdGNoOlxuICAgICAgICAgICAgICAgeyckZXhwcic6IHsnJGVxJzogWyckbW92aWVfaWQnLFwiJCRpZFwiXX19fSxcbiAgICAgICAgICAgICAgIHskc29ydDp7ZGF0ZTotMX19XG4gICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgYXM6ICdjb21tZW50cydcbiAgICAgICAgICAgIH1cbiAgICAgICB9XG4gICAgICBdXG4gICAgICByZXR1cm4gYXdhaXQgbW92aWVzLmFnZ3JlZ2F0ZShwaXBlbGluZSkubmV4dCgpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLyoqXG4gICAgICBUaWNrZXQ6IEVycm9yIEhhbmRsaW5nXG5cbiAgICAgIEhhbmRsZSB0aGUgZXJyb3IgdGhhdCBvY2N1cnMgd2hlbiBhbiBpbnZhbGlkIElEIGlzIHBhc3NlZCB0byB0aGlzIG1ldGhvZC5cbiAgICAgIFdoZW4gdGhpcyBzcGVjaWZpYyBlcnJvciBpcyB0aHJvd24sIHRoZSBtZXRob2Qgc2hvdWxkIHJldHVybiBgbnVsbGAuXG4gICAgICAqL1xuXG4gICAgICAvLyBUT0RPIFRpY2tldDogRXJyb3IgSGFuZGxpbmdcbiAgICAgIC8vIENhdGNoIHRoZSBJbnZhbGlkSWQgZXJyb3IgYnkgc3RyaW5nIG1hdGNoaW5nLCBhbmQgdGhlbiBoYW5kbGUgaXQuXG4gICAgICBjb25zb2xlLmVycm9yKGBTb21ldGhpbmcgd2VudCB3cm9uZyBpbiBnZXRNb3ZpZUJ5SUQ6ICR7ZX1gKVxuICAgICAgdGhyb3cgZVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgYSBwYXJzZWQgcXVlcnksIHNvcnQsIGFuZCBwcm9qZWN0IGJ1bmRsZS5cbiAqIEB0eXBlZGVmIFF1ZXJ5UGFyYW1zXG4gKiBAcHJvcGVydHkge09iamVjdH0gcXVlcnkgLSBUaGUgc3BlY2lmaWVkIHF1ZXJ5LCB0cmFuc2Zvcm1lZCBhY2NvcmRpbmdseVxuICogQHByb3BlcnR5IHthbnlbXX0gc29ydCAtIFRoZSBzcGVjaWZpZWQgc29ydFxuICogQHByb3BlcnR5IHtPYmplY3R9IHByb2plY3QgLSBUaGUgc3BlY2lmaWVkIHByb2plY3QsIGlmIGFueVxuICovXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHNpbmdsZSBjb3VudHJ5IHJlc3VsdFxuICogQHR5cGVkZWYgQ291bnRyeVJlc3VsdFxuICogQHByb3BlcnR5IHtzdHJpbmd9IE9iamVjdElEIC0gVGhlIE9iamVjdElEIG9mIHRoZSBtb3ZpZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHRpdGxlIC0gVGhlIHRpdGxlIG9mIHRoZSBtb3ZpZVxuICovXG5cbi8qKlxuICogQSBNb3ZpZSBmcm9tIG1mbGl4XG4gKiBAdHlwZWRlZiBNZmxpeE1vdmllXG4gKiBAcHJvcGVydHkge3N0cmluZ30gX2lkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdGl0bGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5ZWFyXG4gKiBAcHJvcGVydHkge251bWJlcn0gcnVudGltZVxuICogQHByb3BlcnR5IHtEYXRlfSByZWxlYXNlZFxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gY2FzdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1ldGFjcml0aWNkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcG9zdGVyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcGxvdFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGZ1bGxwbG90XG4gKiBAcHJvcGVydHkge3N0cmluZ3xEYXRlfSBsYXN0dXBkYXRlZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGxhbmd1YWdlc1xuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZGlyZWN0b3JzXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSB3cml0ZXJzXG4gKiBAcHJvcGVydHkge0lNREJ9IGltZGJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGNvdW50cmllc1xuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gcmF0ZWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGdlbnJlc1xuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gY29tbWVudHNcbiAqL1xuXG4vKipcbiAqIElNREIgc3ViZG9jdW1lbnRcbiAqIEB0eXBlZGVmIElNREJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByYXRpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB2b3Rlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGlkXG4gKi9cblxuLyoqXG4gKiBSZXN1bHQgc2V0IGZvciBnZXRNb3ZpZXMgbWV0aG9kXG4gKiBAdHlwZWRlZiBHZXRNb3ZpZXNSZXN1bHRcbiAqIEBwcm9wZXJ0eSB7TWZsaXhNb3ZpZXNbXX0gbW92aWVzTGlzdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRvdGFsTnVtUmVzdWx0c1xuICovXG5cbi8qKlxuICogRmFjZXRlZCBTZWFyY2ggUmV0dXJuXG4gKlxuICogVGhlIHR5cGUgb2YgcmV0dXJuIGZyb20gZmFjZXRlZCBzZWFyY2guIEl0IHdpbGwgYmUgYSBzaW5nbGUgZG9jdW1lbnQgd2l0aFxuICogMyBmaWVsZHM6IHJhdGluZywgcnVudGltZSwgYW5kIG1vdmllcy5cbiAqIEB0eXBlZGVmIEZhY2V0ZWRTZWFyY2hSZXR1cm5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByYXRpbmdcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBydW50aW1lXG4gKiBAcHJvcGVydHkge01GbGl4TW92aWVbXX1tb3ZpZXNcbiAqL1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "moviesDAO.js"
      ],
      "names": [
        "movies",
        "mflix",
        "DEFAULT_SORT",
        "MoviesDAO",
        "conn",
        "db",
        "process",
        "env",
        "MFLIX_NS",
        "collection",
        "console",
        "error",
        "command",
        "connectionStatus",
        "roleInfo",
        "authInfo",
        "authenticatedUserRoles",
        "s",
        "serverConfig",
        "options",
        "poolSize",
        "wtimeout",
        "response",
        "countries",
        "find",
        "$in",
        "projection",
        "title",
        "cursor",
        "toArray",
        "text",
        "query",
        "$text",
        "$search",
        "meta_score",
        "$meta",
        "sort",
        "project",
        "score",
        "cast",
        "searchCast",
        "Array",
        "isArray",
        "split",
        "genre",
        "searchGenre",
        "genres",
        "filters",
        "page",
        "moviesPerPage",
        "Error",
        "matchStage",
        "$match",
        "sortStage",
        "$sort",
        "countingPipeline",
        "$count",
        "skipStage",
        "$skip",
        "limitStage",
        "$limit",
        "facetStage",
        "$facet",
        "runtime",
        "$bucket",
        "groupBy",
        "boundaries",
        "output",
        "count",
        "$sum",
        "rating",
        "$addFields",
        "queryPipeline",
        "aggregate",
        "next",
        "results",
        "queryParams",
        "textSearchQuery",
        "castSearchQuery",
        "genreSearchQuery",
        "moviesList",
        "totalNumMovies",
        "displayCursor",
        "skip",
        "limit",
        "countDocuments",
        "id",
        "pipeline",
        "_id",
        "$lookup",
        "from",
        "date",
        "as"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "sourcesContent": [
        "import { ObjectId } from \"bson\"\n\nlet movies\nlet mflix\nconst DEFAULT_SORT = [[\"tomatoes.viewer.numReviews\", -1]]\n\nexport default class MoviesDAO {\n  static async injectDB(conn) {\n    if (movies) {\n      return\n    }\n    try {\n      mflix = await conn.db(process.env.MFLIX_NS)\n      movies = await conn.db(process.env.MFLIX_NS).collection(\"movies\")\n      this.movies = movies // this is only for testing\n    } catch (e) {\n      console.error(\n        `Unable to establish a collection handle in moviesDAO: ${e}`,\n      )\n    }\n  }\n\n  /**\n   * Retrieves the connection pool size, write concern and user roles on the\n   * current client.\n   * @returns {Promise<ConfigurationResult>} An object with configuration details.\n   */\n  static async getConfiguration() {\n    const roleInfo = await mflix.command({ connectionStatus: 1 })\n    const authInfo = roleInfo.authInfo.authenticatedUserRoles[0]\n    const { poolSize, wtimeout } = movies.s.db.serverConfig.s.options\n    let response = {\n      poolSize,\n      wtimeout,\n      authInfo,\n    }\n    return response\n  }\n\n  /**\n   * Finds and returns movies originating from one or more countries.\n   * Returns a list of objects, each object contains a title and an _id.\n   * @param {string[]} countries - The list of countries.\n   * @returns {Promise<CountryResult>} A promise that will resolve to a list of CountryResults.\n   */\n  static async getMoviesByCountry(countries) {\n    /**\n    Ticket: Projection\n\n    Write a query that matches movies with the countries in the \"countries\"\n    list, but only returns the title and _id of each movie.\n\n    Remember that in MongoDB, the $in operator can be used with a list to\n    match one or more values of a specific field.\n    */\n\n    let cursor\n    try {\n      // TODO Ticket: Projection\n      // Find movies matching the \"countries\" list, but only return the title\n      // and _id. Do not put a limit in your own implementation, the limit\n      // here is only included to avoid sending 46000 documents down the\n      // wire.\n      cursor = await movies.find(\n        {\"countries\": {$in: countries}},\n        {projection: {title:1} }\n      )\n    } catch (e) {\n      console.error(`Unable to issue find command, ${e}`)\n      return []\n    }\n\n    return cursor.toArray()\n  }\n\n  /**\n   * Finds and returns movies matching a given text in their title or description.\n   * @param {string} text - The text to match with.\n   * @returns {QueryParams} The QueryParams for text search\n   */\n  static textSearchQuery(text) {\n    const query = { $text: { $search: text } }\n    const meta_score = { $meta: \"textScore\" }\n    const sort = [[\"score\", meta_score]]\n    const project = { score: meta_score }\n\n    return { query, project, sort }\n  }\n\n  /**\n   * Finds and returns movies including one or more cast members.\n   * @param {string[]} cast - The cast members to match with.\n   * @returns {QueryParams} The QueryParams for cast search\n   */\n  static castSearchQuery(cast) {\n    const searchCast = Array.isArray(cast) ? cast : cast.split(\", \")\n\n    const query = { cast: { $in: searchCast } }\n    const project = {}\n    const sort = DEFAULT_SORT\n\n    return { query, project, sort }\n  }\n\n  /**\n   * Finds and returns movies matching a one or more genres.\n   * @param {string[]} genre - The genres to match with.\n   * @returns {QueryParams} The QueryParams for genre search\n   */\n  static genreSearchQuery(genre) {\n    /**\n    Ticket: Text and Subfield Search\n\n    Given an array of one or more genres, construct a query that searches\n    MongoDB for movies with that genre.\n    */\n\n    const searchGenre = Array.isArray(genre) ? genre : genre.split(\", \")\n\n    // TODO Ticket: Text and Subfield Search\n    // Construct a query that will search for the chosen genre.\n    const query = {genres: {$in:searchGenre}}\n    const project = {}\n    const sort = DEFAULT_SORT\n\n    return { query, project, sort }\n  }\n\n  /**\n   *\n   * @param {Object} filters - The search parameter to use in the query. Comes\n   * in the form of `{cast: { $in: [...castMembers]}}`\n   * @param {number} page - The page of movies to retrieve.\n   * @param {number} moviesPerPage - The number of movies to display per page.\n   * @returns {FacetedSearchReturn} FacetedSearchReturn\n   */\n  static async facetedSearch({\n    filters = null,\n    page = 0,\n    moviesPerPage = 20,\n  } = {}) {\n    if (!filters || !filters.cast) {\n      throw new Error(\"Must specify cast members to filter by.\")\n    }\n    const matchStage = { $match: filters }\n    const sortStage = { $sort: { \"tomatoes.viewer.numReviews\": -1 } }\n    const countingPipeline = [matchStage, sortStage, { $count: \"count\" }]\n    const skipStage = { $skip: moviesPerPage * page }\n    const limitStage = { $limit: moviesPerPage }\n    const facetStage = {\n      $facet: {\n        runtime: [\n          {\n            $bucket: {\n              groupBy: \"$runtime\",\n              boundaries: [0, 60, 90, 120, 180],\n              default: \"other\",\n              output: {\n                count: { $sum: 1 },\n              },\n            },\n          },\n        ],\n        rating: [\n          {\n            $bucket: {\n              groupBy: \"$metacritic\",\n              boundaries: [0, 50, 70, 90, 100],\n              default: \"other\",\n              output: {\n                count: { $sum: 1 },\n              },\n            },\n          },\n        ],\n        movies: [\n          {\n            $addFields: {\n              title: \"$title\",\n            },\n          },\n        ],\n      },\n    }\n\n    /**\n    Ticket: Faceted Search\n\n    Please append the skipStage, limitStage, and facetStage to the queryPipeline\n    (in that order). You can accomplish this by adding the stages directly to\n    the queryPipeline.\n\n    The queryPipeline is a Javascript array, so you can use push() or concat()\n    to complete this task, but you might have to do something about `const`.\n    */\n\n    const queryPipeline = [\n      matchStage,\n      sortStage,\n      // TODO Ticket: Faceted Search\n      // Add the stages to queryPipeline in the correct order.\n      skipStage,\n      limitStage,\n      facetStage\n    ]\n\n    try {\n      const results = await (await movies.aggregate(queryPipeline)).next()\n      const count = await (await movies.aggregate(countingPipeline)).next()\n      return {\n        ...results,\n        ...count,\n      }\n    } catch (e) {\n      return { error: \"Results too large, be more restrictive in filter\" }\n    }\n  }\n\n  /**\n   * Finds and returns movies by country.\n   * Returns a list of objects, each object contains a title and an _id.\n   * @param {Object} filters - The search parameters to use in the query.\n   * @param {number} page - The page of movies to retrieve.\n   * @param {number} moviesPerPage - The number of movies to display per page.\n   * @returns {GetMoviesResult} An object with movie results and total results\n   * that would match this query\n   */\n  static async getMovies({\n    // here's where the default parameters are set for the getMovies method\n    filters = null,\n    page = 0,\n    moviesPerPage = 20,\n  } = {}) {\n    let queryParams = {}\n    if (filters) {\n      if (\"text\" in filters) {\n        queryParams = this.textSearchQuery(filters[\"text\"])\n      } else if (\"cast\" in filters) {\n        queryParams = this.castSearchQuery(filters[\"cast\"])\n      } else if (\"genre\" in filters) {\n        queryParams = this.genreSearchQuery(filters[\"genre\"])\n      }\n    }\n\n    let { query = {}, project = {}, sort = DEFAULT_SORT } = queryParams\n    let cursor\n    try {\n      cursor = await movies\n        .find(query)\n        .project(project)\n        .sort(sort)\n    } catch (e) {\n      console.error(`Unable to issue find command, ${e}`)\n      return { moviesList: [], totalNumMovies: 0 }\n    }\n\n    /**\n    Ticket: Paging\n\n    Before this method returns back to the API, use the \"moviesPerPage\" and\n    \"page\" arguments to decide the movies to display.\n\n    Paging can be implemented by using the skip() and limit() cursor methods.\n    */\n   \n\n    // TODO Ticket: Paging\n    // Use the cursor to only return the movies that belong on the current page\n    const displayCursor = cursor.skip(page*moviesPerPage).limit(moviesPerPage)\n\n    try {\n      const moviesList = await displayCursor.toArray()\n      const totalNumMovies = page === 0 ? await movies.countDocuments(query) : 0\n\n      return { moviesList, totalNumMovies }\n    } catch (e) {\n      console.error(\n        `Unable to convert cursor to array or problem counting documents, ${e}`,\n      )\n      return { moviesList: [], totalNumMovies: 0 }\n    }\n  }\n\n  /**\n   * Gets a movie by its id\n   * @param {string} id - The desired movie id, the _id in Mongo\n   * @returns {MflixMovie | null} Returns either a single movie or nothing\n   */\n  static async getMovieByID(id) {\n    try {\n      /**\n      Ticket: Get Comments\n\n      Given a movie ID, build an Aggregation Pipeline to retrieve the comments\n      matching that movie's ID.\n\n      The $match stage is already completed. You will need to add a $lookup\n      stage that searches the `comments` collection for the correct comments.\n      */\n\n      // TODO Ticket: Get Comments\n      // Implement the required pipeline.\n      const pipeline = [\n        {\n          $match: {\n            _id: ObjectId(id)\n          }\n        },\n        {\n          $lookup:\n            {\n              from: 'comments',\n              let:{'id':'$_id'},\n              pipeline: [{$match:\n               {'$expr': {'$eq': ['$movie_id',\"$$id\"]}}},\n               {$sort:{date:-1}}\n                         ],\n              as: 'comments'\n            }\n       }\n      ]\n      return await movies.aggregate(pipeline).next()\n    } catch (e) {\n      /**\n      Ticket: Error Handling\n\n      Handle the error that occurs when an invalid ID is passed to this method.\n      When this specific error is thrown, the method should return `null`.\n      */\n\n      // TODO Ticket: Error Handling\n      // Catch the InvalidId error by string matching, and then handle it.\n      console.error(`Something went wrong in getMovieByID: ${e}`)\n      throw e\n    }\n  }\n}\n\n/**\n * This is a parsed query, sort, and project bundle.\n * @typedef QueryParams\n * @property {Object} query - The specified query, transformed accordingly\n * @property {any[]} sort - The specified sort\n * @property {Object} project - The specified project, if any\n */\n\n/**\n * Represents a single country result\n * @typedef CountryResult\n * @property {string} ObjectID - The ObjectID of the movie\n * @property {string} title - The title of the movie\n */\n\n/**\n * A Movie from mflix\n * @typedef MflixMovie\n * @property {string} _id\n * @property {string} title\n * @property {number} year\n * @property {number} runtime\n * @property {Date} released\n * @property {string[]} cast\n * @property {number} metacriticd\n * @property {string} poster\n * @property {string} plot\n * @property {string} fullplot\n * @property {string|Date} lastupdated\n * @property {string} type\n * @property {string[]} languages\n * @property {string[]} directors\n * @property {string[]} writers\n * @property {IMDB} imdb\n * @property {string[]} countries\n * @property {string[]} rated\n * @property {string[]} genres\n * @property {string[]} comments\n */\n\n/**\n * IMDB subdocument\n * @typedef IMDB\n * @property {number} rating\n * @property {number} votes\n * @property {number} id\n */\n\n/**\n * Result set for getMovies method\n * @typedef GetMoviesResult\n * @property {MflixMovies[]} moviesList\n * @property {number} totalNumResults\n */\n\n/**\n * Faceted Search Return\n *\n * The type of return from faceted search. It will be a single document with\n * 3 fields: rating, runtime, and movies.\n * @typedef FacetedSearchReturn\n * @property {object} rating\n * @property {object} runtime\n * @property {MFlixMovie[]}movies\n */\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600076575322
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\comments.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\comments.controller.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\comments.controller.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\comments.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
        "sourceFileName": "comments.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _usersDAO = _interopRequireDefault(require(\"../dao/usersDAO\"));\n\nvar _commentsDAO = _interopRequireDefault(require(\"../dao/commentsDAO\"));\n\nvar _moviesDAO = _interopRequireDefault(require(\"../dao/moviesDAO\"));\n\nvar _users = require(\"./users.controller\");\n\nvar _bson = require(\"bson\");\n\nvar CommentsController = /*#__PURE__*/function () {\n  function CommentsController() {\n    (0, _classCallCheck2[\"default\"])(this, CommentsController);\n  }\n\n  (0, _createClass2[\"default\"])(CommentsController, null, [{\n    key: \"apiPostComment\",\n    value: function () {\n      var _apiPostComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n        var userJwt, user, error, movieId, comment, date, commentResponse, updatedComments;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context.next = 4;\n                return _users.User.decoded(userJwt);\n\n              case 4:\n                user = _context.sent;\n                error = user.error;\n\n                if (!error) {\n                  _context.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context.abrupt(\"return\");\n\n              case 9:\n                movieId = req.body.movie_id;\n                comment = req.body.comment;\n                date = new Date();\n                _context.next = 14;\n                return _commentsDAO[\"default\"].addComment((0, _bson.ObjectId)(movieId), user, comment, date);\n\n              case 14:\n                commentResponse = _context.sent;\n                _context.next = 17;\n                return _moviesDAO[\"default\"].getMovieByID(movieId);\n\n              case 17:\n                updatedComments = _context.sent;\n                res.json({\n                  status: \"success\",\n                  comments: updatedComments.comments\n                });\n                _context.next = 24;\n                break;\n\n              case 21:\n                _context.prev = 21;\n                _context.t0 = _context[\"catch\"](0);\n                res.status(500).json({\n                  e: _context.t0\n                });\n\n              case 24:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 21]]);\n      }));\n\n      function apiPostComment(_x, _x2, _x3) {\n        return _apiPostComment.apply(this, arguments);\n      }\n\n      return apiPostComment;\n    }()\n  }, {\n    key: \"apiUpdateComment\",\n    value: function () {\n      var _apiUpdateComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res, next) {\n        var userJwt, user, error, commentId, text, date, commentResponse, movieId, updatedComments;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context2.next = 4;\n                return _users.User.decoded(userJwt);\n\n              case 4:\n                user = _context2.sent;\n                error = user.error;\n\n                if (!error) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context2.abrupt(\"return\");\n\n              case 9:\n                commentId = req.body.comment_id;\n                text = req.body.updated_comment;\n                date = new Date();\n                _context2.next = 14;\n                return _commentsDAO[\"default\"].updateComment((0, _bson.ObjectId)(commentId), user.email, text, date);\n\n              case 14:\n                commentResponse = _context2.sent;\n                error = commentResponse.error;\n\n                if (error) {\n                  res.status(400).json({\n                    error: error\n                  });\n                }\n\n                if (!(commentResponse.modifiedCount === 0)) {\n                  _context2.next = 19;\n                  break;\n                }\n\n                throw new Error(\"unable to update comment - user may not be original poster\");\n\n              case 19:\n                movieId = req.body.movie_id;\n                _context2.next = 22;\n                return _moviesDAO[\"default\"].getMovieByID(movieId);\n\n              case 22:\n                updatedComments = _context2.sent;\n                res.json({\n                  comments: updatedComments.comments\n                });\n                _context2.next = 29;\n                break;\n\n              case 26:\n                _context2.prev = 26;\n                _context2.t0 = _context2[\"catch\"](0);\n                res.status(500).json({\n                  e: _context2.t0\n                });\n\n              case 29:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 26]]);\n      }));\n\n      function apiUpdateComment(_x4, _x5, _x6) {\n        return _apiUpdateComment.apply(this, arguments);\n      }\n\n      return apiUpdateComment;\n    }()\n  }, {\n    key: \"apiDeleteComment\",\n    value: function () {\n      var _apiDeleteComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res, next) {\n        var userJwt, user, error, commentId, userEmail, commentResponse, movieId, _yield$MoviesDAO$getM, comments;\n\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context3.next = 4;\n                return _users.User.decoded(userJwt);\n\n              case 4:\n                user = _context3.sent;\n                error = user.error;\n\n                if (!error) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context3.abrupt(\"return\");\n\n              case 9:\n                commentId = req.body.comment_id;\n                userEmail = user.email;\n                _context3.next = 13;\n                return _commentsDAO[\"default\"].deleteComment((0, _bson.ObjectId)(commentId), userEmail);\n\n              case 13:\n                commentResponse = _context3.sent;\n                movieId = req.body.movie_id;\n                _context3.next = 17;\n                return _moviesDAO[\"default\"].getMovieByID(movieId);\n\n              case 17:\n                _yield$MoviesDAO$getM = _context3.sent;\n                comments = _yield$MoviesDAO$getM.comments;\n                res.json({\n                  comments: comments\n                });\n                _context3.next = 25;\n                break;\n\n              case 22:\n                _context3.prev = 22;\n                _context3.t0 = _context3[\"catch\"](0);\n                res.status(500).json({\n                  e: _context3.t0\n                });\n\n              case 25:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 22]]);\n      }));\n\n      function apiDeleteComment(_x7, _x8, _x9) {\n        return _apiDeleteComment.apply(this, arguments);\n      }\n\n      return apiDeleteComment;\n    }()\n  }, {\n    key: \"apiCommentReport\",\n    value: function () {\n      var _apiCommentReport = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res, next) {\n        var userJwt, user, error, report;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context4.next = 4;\n                return _users.User.decoded(userJwt);\n\n              case 4:\n                user = _context4.sent;\n                error = user.error;\n\n                if (!error) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context4.abrupt(\"return\");\n\n              case 9:\n                if (!_usersDAO[\"default\"].checkAdmin(user.email)) {\n                  _context4.next = 15;\n                  break;\n                }\n\n                _context4.next = 12;\n                return _commentsDAO[\"default\"].mostActiveCommenters();\n\n              case 12:\n                report = _context4.sent;\n                res.json({\n                  report: report\n                });\n                return _context4.abrupt(\"return\");\n\n              case 15:\n                res.status(401).json({\n                  status: \"fail\"\n                });\n                _context4.next = 21;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](0);\n                res.status(500).json({\n                  e: _context4.t0\n                });\n\n              case 21:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 18]]);\n      }));\n\n      function apiCommentReport(_x10, _x11, _x12) {\n        return _apiCommentReport.apply(this, arguments);\n      }\n\n      return apiCommentReport;\n    }()\n  }]);\n  return CommentsController;\n}();\n\nexports[\"default\"] = CommentsController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiQ29tbWVudHNDb250cm9sbGVyIiwicmVxIiwicmVzIiwibmV4dCIsInVzZXJKd3QiLCJnZXQiLCJzbGljZSIsImxlbmd0aCIsIlVzZXIiLCJkZWNvZGVkIiwidXNlciIsImVycm9yIiwic3RhdHVzIiwianNvbiIsIm1vdmllSWQiLCJib2R5IiwibW92aWVfaWQiLCJjb21tZW50IiwiZGF0ZSIsIkRhdGUiLCJDb21tZW50c0RBTyIsImFkZENvbW1lbnQiLCJjb21tZW50UmVzcG9uc2UiLCJNb3ZpZXNEQU8iLCJnZXRNb3ZpZUJ5SUQiLCJ1cGRhdGVkQ29tbWVudHMiLCJjb21tZW50cyIsImUiLCJjb21tZW50SWQiLCJjb21tZW50X2lkIiwidGV4dCIsInVwZGF0ZWRfY29tbWVudCIsInVwZGF0ZUNvbW1lbnQiLCJlbWFpbCIsIm1vZGlmaWVkQ291bnQiLCJFcnJvciIsInVzZXJFbWFpbCIsImRlbGV0ZUNvbW1lbnQiLCJVc2Vyc0RBTyIsImNoZWNrQWRtaW4iLCJtb3N0QWN0aXZlQ29tbWVudGVycyIsInJlcG9ydCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7SUFFcUJBLGtCOzs7Ozs7OzsySEFDU0MsRyxFQUFLQyxHLEVBQUtDLEk7Ozs7Ozs7QUFFNUJDLGdCQUFBQSxPLEdBQVVILEdBQUcsQ0FBQ0ksR0FBSixDQUFRLGVBQVIsRUFBeUJDLEtBQXpCLENBQStCLFVBQVVDLE1BQXpDLEM7O3VCQUNHQyxZQUFLQyxPQUFMLENBQWFMLE9BQWIsQzs7O0FBQWJNLGdCQUFBQSxJO0FBQ0FDLGdCQUFBQSxLLEdBQVVELEksQ0FBVkMsSzs7cUJBQ0ZBLEs7Ozs7O0FBQ0ZULGdCQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRixrQkFBQUEsS0FBSyxFQUFMQTtBQUFGLGlCQUFyQjs7OztB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d0JBQVlvQixvQkFBWixFOzs7QUFBZkMsZ0JBQUFBLE07QUFDTnZDLGdCQUFBQSxHQUFHLENBQUNXLElBQUosQ0FBUztBQUFFNEIsa0JBQUFBLE1BQU0sRUFBTkE7QUFBRixpQkFBVDs7OztBQUlGdkMsZ0JBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVELGtCQUFBQSxNQUFNLEVBQUU7QUFBVixpQkFBckI7Ozs7Ozs7QUFFQVYsZ0JBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVjLGtCQUFBQSxDQUFDO0FBQUgsaUJBQXJCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXGFwaVxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXJzREFPIGZyb20gXCIuLi9kYW8vdXNlcnNEQU9cIlxuaW1wb3J0IENvbW1lbnRzREFPIGZyb20gXCIuLi9kYW8vY29tbWVudHNEQU9cIlxuaW1wb3J0IE1vdmllc0RBTyBmcm9tIFwiLi4vZGFvL21vdmllc0RBT1wiXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4vdXNlcnMuY29udHJvbGxlclwiXG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gXCJic29uXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbWVudHNDb250cm9sbGVyIHtcbiAgc3RhdGljIGFzeW5jIGFwaVBvc3RDb21tZW50KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5kZWNvZGVkKHVzZXJKd3QpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gdXNlclxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3IgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1vdmllSWQgPSByZXEuYm9keS5tb3ZpZV9pZFxuICAgICAgY29uc3QgY29tbWVudCA9IHJlcS5ib2R5LmNvbW1lbnRcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXG5cbiAgICAgIGNvbnN0IGNvbW1lbnRSZXNwb25zZSA9IGF3YWl0IENvbW1lbnRzREFPLmFkZENvbW1lbnQoXG4gICAgICAgIE9iamVjdElkKG1vdmllSWQpLFxuICAgICAgICB1c2VyLFxuICAgICAgICBjb21tZW50LFxuICAgICAgICBkYXRlLFxuICAgICAgKVxuXG4gICAgICBjb25zdCB1cGRhdGVkQ29tbWVudHMgPSBhd2FpdCBNb3ZpZXNEQU8uZ2V0TW92aWVCeUlEKG1vdmllSWQpXG5cbiAgICAgIHJlcy5qc29uKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgY29tbWVudHM6IHVwZGF0ZWRDb21tZW50cy5jb21tZW50cyB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZSB9KVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBhcGlVcGRhdGVDb21tZW50KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5kZWNvZGVkKHVzZXJKd3QpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gdXNlclxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3IgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbW1lbnRJZCA9IHJlcS5ib2R5LmNvbW1lbnRfaWRcbiAgICAgIGNvbnN0IHRleHQgPSByZXEuYm9keS51cGRhdGVkX2NvbW1lbnRcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXG5cbiAgICAgIGNvbnN0IGNvbW1lbnRSZXNwb25zZSA9IGF3YWl0IENvbW1lbnRzREFPLnVwZGF0ZUNvbW1lbnQoXG4gICAgICAgIE9iamVjdElkKGNvbW1lbnRJZCksXG4gICAgICAgIHVzZXIuZW1haWwsXG4gICAgICAgIHRleHQsXG4gICAgICAgIGRhdGUsXG4gICAgICApXG5cbiAgICAgIHZhciB7IGVycm9yIH0gPSBjb21tZW50UmVzcG9uc2VcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChjb21tZW50UmVzcG9uc2UubW9kaWZpZWRDb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJ1bmFibGUgdG8gdXBkYXRlIGNvbW1lbnQgLSB1c2VyIG1heSBub3QgYmUgb3JpZ2luYWwgcG9zdGVyXCIsXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgY29uc3QgbW92aWVJZCA9IHJlcS5ib2R5Lm1vdmllX2lkXG4gICAgICBjb25zdCB1cGRhdGVkQ29tbWVudHMgPSBhd2FpdCBNb3ZpZXNEQU8uZ2V0TW92aWVCeUlEKG1vdmllSWQpXG5cbiAgICAgIHJlcy5qc29uKHsgY29tbWVudHM6IHVwZGF0ZWRDb21tZW50cy5jb21tZW50cyB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZSB9KVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBhcGlEZWxldGVDb21tZW50KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5kZWNvZGVkKHVzZXJKd3QpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gdXNlclxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3IgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbW1lbnRJZCA9IHJlcS5ib2R5LmNvbW1lbnRfaWRcbiAgICAgIGNvbnN0IHVzZXJFbWFpbCA9IHVzZXIuZW1haWxcbiAgICAgIGNvbnN0IGNvbW1lbnRSZXNwb25zZSA9IGF3YWl0IENvbW1lbnRzREFPLmRlbGV0ZUNvbW1lbnQoXG4gICAgICAgIE9iamVjdElkKGNvbW1lbnRJZCksXG4gICAgICAgIHVzZXJFbWFpbCxcbiAgICAgIClcblxuICAgICAgY29uc3QgbW92aWVJZCA9IHJlcS5ib2R5Lm1vdmllX2lkXG5cbiAgICAgIGNvbnN0IHsgY29tbWVudHMgfSA9IGF3YWl0IE1vdmllc0RBTy5nZXRNb3ZpZUJ5SUQobW92aWVJZClcbiAgICAgIHJlcy5qc29uKHsgY29tbWVudHMgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGUgfSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgYXBpQ29tbWVudFJlcG9ydChyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VySnd0ID0gcmVxLmdldChcIkF1dGhvcml6YXRpb25cIikuc2xpY2UoXCJCZWFyZXIgXCIubGVuZ3RoKVxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZGVjb2RlZCh1c2VySnd0KVxuICAgICAgdmFyIHsgZXJyb3IgfSA9IHVzZXJcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoVXNlcnNEQU8uY2hlY2tBZG1pbih1c2VyLmVtYWlsKSkge1xuICAgICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBDb21tZW50c0RBTy5tb3N0QWN0aXZlQ29tbWVudGVycygpXG4gICAgICAgIHJlcy5qc29uKHsgcmVwb3J0IH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IHN0YXR1czogXCJmYWlsXCIgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGUgfSlcbiAgICB9XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "comments.controller.js"
      ],
      "names": [
        "CommentsController",
        "req",
        "res",
        "next",
        "userJwt",
        "get",
        "slice",
        "length",
        "User",
        "decoded",
        "user",
        "error",
        "status",
        "json",
        "movieId",
        "body",
        "movie_id",
        "comment",
        "date",
        "Date",
        "CommentsDAO",
        "addComment",
        "commentResponse",
        "MoviesDAO",
        "getMovieByID",
        "updatedComments",
        "comments",
        "e",
        "commentId",
        "comment_id",
        "text",
        "updated_comment",
        "updateComment",
        "email",
        "modifiedCount",
        "Error",
        "userEmail",
        "deleteComment",
        "UsersDAO",
        "checkAdmin",
        "mostActiveCommenters",
        "report"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "sourcesContent": [
        "import UsersDAO from \"../dao/usersDAO\"\nimport CommentsDAO from \"../dao/commentsDAO\"\nimport MoviesDAO from \"../dao/moviesDAO\"\nimport { User } from \"./users.controller\"\nimport { ObjectId } from \"bson\"\n\nexport default class CommentsController {\n  static async apiPostComment(req, res, next) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const user = await User.decoded(userJwt)\n      var { error } = user\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n\n      const movieId = req.body.movie_id\n      const comment = req.body.comment\n      const date = new Date()\n\n      const commentResponse = await CommentsDAO.addComment(\n        ObjectId(movieId),\n        user,\n        comment,\n        date,\n      )\n\n      const updatedComments = await MoviesDAO.getMovieByID(movieId)\n\n      res.json({ status: \"success\", comments: updatedComments.comments })\n    } catch (e) {\n      res.status(500).json({ e })\n    }\n  }\n\n  static async apiUpdateComment(req, res, next) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const user = await User.decoded(userJwt)\n      var { error } = user\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n\n      const commentId = req.body.comment_id\n      const text = req.body.updated_comment\n      const date = new Date()\n\n      const commentResponse = await CommentsDAO.updateComment(\n        ObjectId(commentId),\n        user.email,\n        text,\n        date,\n      )\n\n      var { error } = commentResponse\n      if (error) {\n        res.status(400).json({ error })\n      }\n\n      if (commentResponse.modifiedCount === 0) {\n        throw new Error(\n          \"unable to update comment - user may not be original poster\",\n        )\n      }\n\n      const movieId = req.body.movie_id\n      const updatedComments = await MoviesDAO.getMovieByID(movieId)\n\n      res.json({ comments: updatedComments.comments })\n    } catch (e) {\n      res.status(500).json({ e })\n    }\n  }\n\n  static async apiDeleteComment(req, res, next) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const user = await User.decoded(userJwt)\n      var { error } = user\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n\n      const commentId = req.body.comment_id\n      const userEmail = user.email\n      const commentResponse = await CommentsDAO.deleteComment(\n        ObjectId(commentId),\n        userEmail,\n      )\n\n      const movieId = req.body.movie_id\n\n      const { comments } = await MoviesDAO.getMovieByID(movieId)\n      res.json({ comments })\n    } catch (e) {\n      res.status(500).json({ e })\n    }\n  }\n\n  static async apiCommentReport(req, res, next) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const user = await User.decoded(userJwt)\n      var { error } = user\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n\n      if (UsersDAO.checkAdmin(user.email)) {\n        const report = await CommentsDAO.mostActiveCommenters()\n        res.json({ report })\n        return\n      }\n\n      res.status(401).json({ status: \"fail\" })\n    } catch (e) {\n      res.status(500).json({ e })\n    }\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\usersDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\usersDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\usersDAO.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\usersDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
        "sourceFileName": "usersDAO.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar users;\nvar sessions;\n\nvar UsersDAO = /*#__PURE__*/function () {\n  function UsersDAO() {\n    (0, _classCallCheck2[\"default\"])(this, UsersDAO);\n  }\n\n  (0, _createClass2[\"default\"])(UsersDAO, null, [{\n    key: \"injectDB\",\n    value: function () {\n      var _injectDB = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(conn) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(users && sessions)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.prev = 2;\n                _context.next = 5;\n                return conn.db(process.env.MFLIX_NS).collection(\"users\");\n\n              case 5:\n                users = _context.sent;\n                _context.next = 8;\n                return conn.db(process.env.MFLIX_NS).collection(\"sessions\");\n\n              case 8:\n                sessions = _context.sent;\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](2);\n                console.error(\"Unable to establish collection handles in userDAO: \".concat(_context.t0));\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 11]]);\n      }));\n\n      function injectDB(_x) {\n        return _injectDB.apply(this, arguments);\n      }\n\n      return injectDB;\n    }()\n    /**\n    Ticket: User Management\n     For this ticket, you will need to implement the following five methods:\n     - getUser\n    - addUser\n    - loginUser\n    - logoutUser\n    - getUserSession\n     You can find these methods below this comment. Make sure to read the comments\n    in each method to better understand the implementation.\n     The method deleteUser is already given to you.\n    */\n\n    /**\n     * Finds a user in the `users` collection\n     * @param {string} email - The email of the desired user\n     * @returns {Object | null} Returns either a single user or nothing\n     */\n\n  }, {\n    key: \"getUser\",\n    value: function () {\n      var _getUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(email) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return users.findOne({\n                  \"email\": email\n                });\n\n              case 2:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getUser(_x2) {\n        return _getUser.apply(this, arguments);\n      }\n\n      return getUser;\n    }()\n    /**\n     * Adds a user to the `users` collection\n     * @param {UserInfo} userInfo - The information of the user to add\n     * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n     */\n\n  }, {\n    key: \"addUser\",\n    value: function () {\n      var _addUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(userInfo) {\n        var name, email, password;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                // TODO Ticket: User Management\n                // Insert a user with the \"name\", \"email\", and \"password\" fields.\n                // TODO Ticket: Durable Writes\n                // Use a more durable Write Concern for this operation.\n                name = userInfo.name, email = userInfo.email, password = userInfo.password;\n                _context3.next = 4;\n                return users.insertOne({\n                  \"name\": name,\n                  \"email\": email,\n                  \"password\": password\n                }, {\n                  writeConcern: {\n                    w: \"majority\"\n                  }\n                });\n\n              case 4:\n                return _context3.abrupt(\"return\", {\n                  success: true\n                });\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n\n                if (!String(_context3.t0).startsWith(\"MongoError: E11000 duplicate key error\")) {\n                  _context3.next = 11;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", {\n                  error: \"A user with the given email already exists.\"\n                });\n\n              case 11:\n                console.error(\"Error occurred while adding new user, \".concat(_context3.t0, \".\"));\n                return _context3.abrupt(\"return\", {\n                  error: _context3.t0\n                });\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function addUser(_x3) {\n        return _addUser.apply(this, arguments);\n      }\n\n      return addUser;\n    }()\n    /**\n     * Adds a user to the `sessions` collection\n     * @param {string} email - The email of the user to login\n     * @param {string} jwt - A JSON web token representing the user's claims\n     * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n     */\n\n  }, {\n    key: \"loginUser\",\n    value: function () {\n      var _loginUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(email, jwt) {\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return sessions.updateOne({\n                  user_id: email\n                }, {\n                  $set: {\n                    \"jwt\": jwt\n                  }\n                }, {\n                  upsert: true\n                });\n\n              case 3:\n                return _context4.abrupt(\"return\", {\n                  success: true\n                });\n\n              case 6:\n                _context4.prev = 6;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.error(\"Error occurred while logging in user, \".concat(_context4.t0));\n                return _context4.abrupt(\"return\", {\n                  error: _context4.t0\n                });\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 6]]);\n      }));\n\n      function loginUser(_x4, _x5) {\n        return _loginUser.apply(this, arguments);\n      }\n\n      return loginUser;\n    }()\n    /**\n     * Removes a user from the `sessons` collection\n     * @param {string} email - The email of the user to logout\n     * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n     */\n\n  }, {\n    key: \"logoutUser\",\n    value: function () {\n      var _logoutUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(email) {\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return sessions.deleteOne({\n                  \"user_id\": email\n                });\n\n              case 3:\n                return _context5.abrupt(\"return\", {\n                  success: true\n                });\n\n              case 6:\n                _context5.prev = 6;\n                _context5.t0 = _context5[\"catch\"](0);\n                console.error(\"Error occurred while logging out user, \".concat(_context5.t0));\n                return _context5.abrupt(\"return\", {\n                  error: _context5.t0\n                });\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 6]]);\n      }));\n\n      function logoutUser(_x6) {\n        return _logoutUser.apply(this, arguments);\n      }\n\n      return logoutUser;\n    }()\n    /**\n     * Gets a user from the `sessions` collection\n     * @param {string} email - The email of the user to search for in `sessions`\n     * @returns {Object | null} Returns a user session Object, an \"error\" Object\n     * if something went wrong, or null if user was not found.\n     */\n\n  }, {\n    key: \"getUserSession\",\n    value: function () {\n      var _getUserSession = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(email) {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                return _context6.abrupt(\"return\", sessions.findOne({\n                  \"user_id\": email\n                }));\n\n              case 4:\n                _context6.prev = 4;\n                _context6.t0 = _context6[\"catch\"](0);\n                console.error(\"Error occurred while retrieving user session, \".concat(_context6.t0));\n                return _context6.abrupt(\"return\", null);\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[0, 4]]);\n      }));\n\n      function getUserSession(_x7) {\n        return _getUserSession.apply(this, arguments);\n      }\n\n      return getUserSession;\n    }()\n    /**\n     * Removes a user from the `sessions` and `users` collections\n     * @param {string} email - The email of the user to delete\n     * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n     */\n\n  }, {\n    key: \"deleteUser\",\n    value: function () {\n      var _deleteUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(email) {\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.prev = 0;\n                _context7.next = 3;\n                return users.deleteOne({\n                  email: email\n                });\n\n              case 3:\n                _context7.next = 5;\n                return sessions.deleteOne({\n                  user_id: email\n                });\n\n              case 5:\n                _context7.next = 7;\n                return this.getUser(email);\n\n              case 7:\n                _context7.t0 = !_context7.sent;\n\n                if (!_context7.t0) {\n                  _context7.next = 12;\n                  break;\n                }\n\n                _context7.next = 11;\n                return this.getUserSession(email);\n\n              case 11:\n                _context7.t0 = !_context7.sent;\n\n              case 12:\n                if (!_context7.t0) {\n                  _context7.next = 16;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", {\n                  success: true\n                });\n\n              case 16:\n                console.error(\"Deletion unsuccessful\");\n                return _context7.abrupt(\"return\", {\n                  error: \"Deletion unsuccessful\"\n                });\n\n              case 18:\n                _context7.next = 24;\n                break;\n\n              case 20:\n                _context7.prev = 20;\n                _context7.t1 = _context7[\"catch\"](0);\n                console.error(\"Error occurred while deleting user, \".concat(_context7.t1));\n                return _context7.abrupt(\"return\", {\n                  error: _context7.t1\n                });\n\n              case 24:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[0, 20]]);\n      }));\n\n      function deleteUser(_x8) {\n        return _deleteUser.apply(this, arguments);\n      }\n\n      return deleteUser;\n    }()\n    /**\n     * Given a user's email and an object of new preferences, update that user's\n     * data to include those preferences.\n     * @param {string} email - The email of the user to update.\n     * @param {Object} preferences - The preferences to include in the user's data.\n     * @returns {DAOResponse}\n     */\n\n  }, {\n    key: \"updatePreferences\",\n    value: function () {\n      var _updatePreferences = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(email, preferences) {\n        var updateResponse;\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n\n                /**\n                Ticket: User Preferences\n                 Update the \"preferences\" field in the corresponding user's document to\n                reflect the new information in preferences.\n                */\n                preferences = preferences || {}; // TODO Ticket: User Preferences\n                // Use the data in \"preferences\" to update the user's preferences.\n\n                _context8.next = 4;\n                return users.updateOne({\n                  \"email\": email\n                }, {\n                  $set: {\n                    \"preferences\": preferences\n                  }\n                });\n\n              case 4:\n                updateResponse = _context8.sent;\n\n                if (!(updateResponse.matchedCount === 0)) {\n                  _context8.next = 7;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", {\n                  error: \"No user found with that email\"\n                });\n\n              case 7:\n                return _context8.abrupt(\"return\", updateResponse);\n\n              case 10:\n                _context8.prev = 10;\n                _context8.t0 = _context8[\"catch\"](0);\n                console.error(\"An error occurred while updating this user's preferences, \".concat(_context8.t0));\n                return _context8.abrupt(\"return\", {\n                  error: _context8.t0\n                });\n\n              case 14:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, null, [[0, 10]]);\n      }));\n\n      function updatePreferences(_x9, _x10) {\n        return _updatePreferences.apply(this, arguments);\n      }\n\n      return updatePreferences;\n    }()\n  }, {\n    key: \"checkAdmin\",\n    value: function () {\n      var _checkAdmin = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(email) {\n        var _yield$this$getUser, isAdmin;\n\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                _context9.next = 3;\n                return this.getUser(email);\n\n              case 3:\n                _yield$this$getUser = _context9.sent;\n                isAdmin = _yield$this$getUser.isAdmin;\n                return _context9.abrupt(\"return\", isAdmin || false);\n\n              case 8:\n                _context9.prev = 8;\n                _context9.t0 = _context9[\"catch\"](0);\n                return _context9.abrupt(\"return\", {\n                  error: _context9.t0\n                });\n\n              case 11:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[0, 8]]);\n      }));\n\n      function checkAdmin(_x11) {\n        return _checkAdmin.apply(this, arguments);\n      }\n\n      return checkAdmin;\n    }()\n  }, {\n    key: \"makeAdmin\",\n    value: function () {\n      var _makeAdmin = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(email) {\n        var updateResponse;\n        return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.prev = 0;\n                updateResponse = users.updateOne({\n                  email: email\n                }, {\n                  $set: {\n                    isAdmin: true\n                  }\n                });\n                return _context10.abrupt(\"return\", updateResponse);\n\n              case 5:\n                _context10.prev = 5;\n                _context10.t0 = _context10[\"catch\"](0);\n                return _context10.abrupt(\"return\", {\n                  error: _context10.t0\n                });\n\n              case 8:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, null, [[0, 5]]);\n      }));\n\n      function makeAdmin(_x12) {\n        return _makeAdmin.apply(this, arguments);\n      }\n\n      return makeAdmin;\n    }()\n  }]);\n  return UsersDAO;\n}();\n/**\n * Parameter passed to addUser method\n * @typedef UserInfo\n * @property {string} name\n * @property {string} email\n * @property {string} password\n */\n\n/**\n * Success/Error return object\n * @typedef DAOResponse\n * @property {boolean} [success] - Success\n * @property {string} [error] - Error\n */\n\n\nexports[\"default\"] = UsersDAO;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzREFPLmpzIl0sIm5hbWVzIjpbInVzZXJzIiwic2Vzc2lvbnMiLCJVc2Vyc0RBTyIsImNvbm4iLCJkYiIsInByb2Nlc3MiLCJlbnYiLCJNRkxJWF9OUyIsImNvbGxlY3Rpb24iLCJjb25zb2xlIiwiZXJyb3IiLCJlbWFpbCIsImZpbmRPbmUiLCJ1c2VySW5mbyIsIm5hbWUiLCJwYXNzd29yZCIsImluc2VydE9uZSIsIndyaXRlQ29uY2VybiIsInciLCJzdWNjZXNzIiwiU3RyaW5nIiwic3RhcnRzV2l0aCIsImp3dCIsInVwZGF0ZU9uZSIsInVzZXJfaWQiLCIkc2V0IiwidXBzZXJ0IiwiZGVsZXRlT25lIiwiZ2V0VXNlciIsImdldFVzZXJTZXNzaW9uIiwicHJlZmVyZW5jZXMiLCJ1cGRhdGVSZXNwb25zZSIsIm1hdGNoZWRDb3VudCIsImlzQWRtaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsS0FBSjtBQUNBLElBQUlDLFFBQUo7O0lBRXFCQyxROzs7Ozs7OztxSEFDR0MsSTs7Ozs7c0JBQ2hCSCxLQUFLLElBQUlDLFE7Ozs7Ozs7Ozs7dUJBSUdFLElBQUksQ0FBQ0MsRUFBTCxDQUFRQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBcEIsRUFBOEJDLFVBQTlCLENBQXlDLE9BQXpDLEM7OztBQUFkUixnQkFBQUEsSzs7dUJBQ2lCRyxJQUFJLENBQUNDLEVBQUwsQ0FBUUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQXBCLEVBQThCQyxVQUE5QixDQUF5QyxVQUF6QyxDOzs7QUFBakJQLGdCQUFBQSxROzs7Ozs7O0FBRUFRLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJSjs7Ozs7Ozs7Ozs7OztBQWlCQTs7Ozs7Ozs7O3FIQUtxQkMsSzs7Ozs7O3VCQUdOWCxLQUFLLENBQUNZLE9BQU4sQ0FBYztBQUFFLDJCQUFTRDtBQUFYLGlCQUFkLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHZjs7Ozs7Ozs7O3FIQUtxQkUsUTs7Ozs7OztBQVNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNPQyxnQkFBQUEsSSxHQUF1QkQsUSxDQUF2QkMsSSxFQUFLSCxLLEdBQWtCRSxRLENBQWxCRixLLEVBQU1JLFEsR0FBWUYsUSxDQUFaRSxROzt1QkFDWmYsS0FBSyxDQUFDZ0IsU0FBTixDQUFnQjtBQUFDLDBCQUFRRixJQUFUO0FBQ0EsMkJBQVFILEtBRFI7QUFFQSw4QkFBV0k7QUFGWCxpQkFBaEIsRUFHZ0I7QUFBRUUsa0JBQUFBLFlBQVksRUFBRTtBQUFFQyxvQkFBQUEsQ0FBQyxFQUFFO0FBQUw7QUFBaEIsaUJBSGhCLEM7OztrREFJQztBQUFFQyxrQkFBQUEsT0FBTyxFQUFFO0FBQVgsaUI7Ozs7OztxQkFFSEMsTUFBTSxjQUFOLENBQVVDLFVBQVYsQ0FBcUIsd0NBQXJCLEM7Ozs7O2tEQUNLO0FBQUVYLGtCQUFBQSxLQUFLLEVBQUU7QUFBVCxpQjs7O0FBRVRELGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7a0RBQ087QUFBRUEsa0JBQUFBLEtBQUs7QUFBUCxpQjs7Ozs7Ozs7Ozs7Ozs7OztBQUlYOzs7Ozs7Ozs7O3VIQU11QkMsSyxFQUFPVyxHOzs7Ozs7O3VCQUtwQnJCLFFBQVEsQ0FBQ3NCLFNBQVQsQ0FDSjtBQUFFQyxrQkFBQUEsT0FBTyxFQUFFYjtBQUFYLGlCQURJLEVBRUo7QUFBRWMsa0JBQUFBLElBQUksRUFBRTtBQUFFLDJCQUFPSDtBQUFUO0FBQVIsaUJBRkksRUFHSjtBQUFDSSxrQkFBQUEsTUFBTSxFQUFDO0FBQVIsaUJBSEksQzs7O2tEQUtDO0FBQUVQLGtCQUFBQSxPQUFPLEVBQUU7QUFBWCxpQjs7Ozs7QUFFUFYsZ0JBQUFBLE9BQU8sQ0FBQ0MsS0FBUjtrREFDTztBQUFFQSxrQkFBQUEsS0FBSztBQUFQLGlCOzs7Ozs7Ozs7Ozs7Ozs7O0FBSVg7Ozs7Ozs7Ozt3SEFLd0JDLEs7Ozs7Ozs7dUJBSWRWLFFBQVEsQ0FBQzBCLFNBQVQsQ0FBbUI7QUFBRSw2QkFBV2hCO0FBQWIsaUJBQW5CLEM7OztrREFDQztBQUFFUSxrQkFBQUEsT0FBTyxFQUFFO0FBQVgsaUI7Ozs7O0FBRVBWLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7a0RBQ087QUFBRUEsa0JBQUFBLEtBQUs7QUFBUCxpQjs7Ozs7Ozs7Ozs7Ozs7OztBQUlYOzs7Ozs7Ozs7OzRIQU00QkMsSzs7Ozs7O2tEQUlqQlYsUUFBUSxDQUFDVyxPQUFULENBQWlCO0FBQUUsNkJBQVdEO0FBQWIsaUJBQWpCLEM7Ozs7O0FBRVBGLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7a0RBQ08sSTs7Ozs7Ozs7Ozs7Ozs7OztBQUlYOzs7Ozs7Ozs7d0hBS3dCQyxLOzs7Ozs7O3VCQUVkWCxLQUFLLENBQUMyQixTQUFOLENBQWdCO0FBQUVoQixrQkFBQUEsS0FBSyxFQUFMQTtBQUFGLGlCQUFoQixDOzs7O3VCQUNBVixRQUFRLENBQUMwQixTQUFULENBQW1CO0FBQUVILGtCQUFBQSxPQUFPLEVBQUViO0FBQVgsaUJBQW5CLEM7Ozs7dUJBQ00sS0FBS2lCLE9BQUwsQ0FBYWpCLEtBQWIsQzs7Ozs7Ozs7Ozs7dUJBQWdDLEtBQUtrQixjQUFMLENBQW9CbEIsS0FBcEIsQzs7Ozs7Ozs7Ozs7a0RBQ25DO0FBQUVRLGtCQUFBQSxPQUFPLEVBQUU7QUFBWCxpQjs7O0FBRVBWLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7a0RBQ087QUFBRUEsa0JBQUFBLEtBQUs7QUFBUCxpQjs7Ozs7Ozs7O0FBR1RELGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7a0RBQ087QUFBRUEsa0JBQUFBLEtBQUs7QUFBUCxpQjs7Ozs7Ozs7Ozs7Ozs7OztBQUlYOzs7Ozs7Ozs7OzsrSEFPK0JDLEssRUFBT21CLFc7Ozs7Ozs7O0FBRWxDOzs7OztBQU9BQSxnQkFBQUEsV0FBVyxHQUFHQSxXQUFXLElBQUksRUFBN0IsQyxDQUVBO0FBQ0E7Ozt1QkFDNkI5QixLQUFLLENBQUN1QixTQUFOLENBQzNCO0FBQUUsMkJBQVNaO0FBQVgsaUJBRDJCLEVBRTNCO0FBQUVjLGtCQUFBQSxJQUFJLEVBQUU7QUFBRSxtQ0FBZUs7QUFBakI7QUFBUixpQkFGMkIsQzs7O0FBQXZCQyxnQkFBQUEsYzs7c0JBS0ZBLGNBQWMsQ0FBQ0MsWUFBZixLQUFnQyxDOzs7OztrREFDM0I7QUFBRXRCLGtCQUFBQSxLQUFLLEVBQUU7QUFBVCxpQjs7O2tEQUVGcUIsYzs7Ozs7QUFFUHRCLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7a0RBR087QUFBRUEsa0JBQUFBLEtBQUs7QUFBUCxpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt3SEFJYUMsSzs7Ozs7Ozs7O3VCQUVNLEtBQUtpQixPQUFMLENBQWFqQixLQUFiLEM7Ozs7QUFBbEJzQixnQkFBQUEsTyx1QkFBQUEsTztrREFDREEsT0FBTyxJQUFJLEs7Ozs7O2tEQUVYO0FBQUV2QixrQkFBQUEsS0FBSztBQUFQLGlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O3dIQUlZQyxLOzs7Ozs7O0FBRWJvQixnQkFBQUEsYyxHQUFpQi9CLEtBQUssQ0FBQ3VCLFNBQU4sQ0FDckI7QUFBRVosa0JBQUFBLEtBQUssRUFBTEE7QUFBRixpQkFEcUIsRUFFckI7QUFBRWMsa0JBQUFBLElBQUksRUFBRTtBQUFFUSxvQkFBQUEsT0FBTyxFQUFFO0FBQVg7QUFBUixpQkFGcUIsQzttREFJaEJGLGM7Ozs7O21EQUVBO0FBQUVyQixrQkFBQUEsS0FBSztBQUFQLGlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2I7Ozs7Ozs7O0FBUUEiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxOYWRhdiBTaGVyZlxcbWZsaXgtanNcXHNyY1xcZGFvXFwiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdXNlcnNcbmxldCBzZXNzaW9uc1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2Vyc0RBTyB7XG4gIHN0YXRpYyBhc3luYyBpbmplY3REQihjb25uKSB7XG4gICAgaWYgKHVzZXJzICYmIHNlc3Npb25zKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHVzZXJzID0gYXdhaXQgY29ubi5kYihwcm9jZXNzLmVudi5NRkxJWF9OUykuY29sbGVjdGlvbihcInVzZXJzXCIpXG4gICAgICBzZXNzaW9ucyA9IGF3YWl0IGNvbm4uZGIocHJvY2Vzcy5lbnYuTUZMSVhfTlMpLmNvbGxlY3Rpb24oXCJzZXNzaW9uc1wiKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byBlc3RhYmxpc2ggY29sbGVjdGlvbiBoYW5kbGVzIGluIHVzZXJEQU86ICR7ZX1gKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICBUaWNrZXQ6IFVzZXIgTWFuYWdlbWVudFxuXG4gIEZvciB0aGlzIHRpY2tldCwgeW91IHdpbGwgbmVlZCB0byBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBmaXZlIG1ldGhvZHM6XG5cbiAgLSBnZXRVc2VyXG4gIC0gYWRkVXNlclxuICAtIGxvZ2luVXNlclxuICAtIGxvZ291dFVzZXJcbiAgLSBnZXRVc2VyU2Vzc2lvblxuXG4gIFlvdSBjYW4gZmluZCB0aGVzZSBtZXRob2RzIGJlbG93IHRoaXMgY29tbWVudC4gTWFrZSBzdXJlIHRvIHJlYWQgdGhlIGNvbW1lbnRzXG4gIGluIGVhY2ggbWV0aG9kIHRvIGJldHRlciB1bmRlcnN0YW5kIHRoZSBpbXBsZW1lbnRhdGlvbi5cblxuICBUaGUgbWV0aG9kIGRlbGV0ZVVzZXIgaXMgYWxyZWFkeSBnaXZlbiB0byB5b3UuXG4gICovXG5cbiAgLyoqXG4gICAqIEZpbmRzIGEgdXNlciBpbiB0aGUgYHVzZXJzYCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCAtIFRoZSBlbWFpbCBvZiB0aGUgZGVzaXJlZCB1c2VyXG4gICAqIEByZXR1cm5zIHtPYmplY3QgfCBudWxsfSBSZXR1cm5zIGVpdGhlciBhIHNpbmdsZSB1c2VyIG9yIG5vdGhpbmdcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRVc2VyKGVtYWlsKSB7XG4gICAgLy8gVE9ETyBUaWNrZXQ6IFVzZXIgTWFuYWdlbWVudFxuICAgIC8vIFJldHJpZXZlIHRoZSB1c2VyIGRvY3VtZW50IGNvcnJlc3BvbmRpbmcgd2l0aCB0aGUgdXNlcidzIGVtYWlsLlxuICAgIHJldHVybiBhd2FpdCB1c2Vycy5maW5kT25lKHsgXCJlbWFpbFwiOiBlbWFpbCB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB1c2VyIHRvIHRoZSBgdXNlcnNgIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIHtVc2VySW5mb30gdXNlckluZm8gLSBUaGUgaW5mb3JtYXRpb24gb2YgdGhlIHVzZXIgdG8gYWRkXG4gICAqIEByZXR1cm5zIHtEQU9SZXNwb25zZX0gUmV0dXJucyBlaXRoZXIgYSBcInN1Y2Nlc3NcIiBvciBhbiBcImVycm9yXCIgT2JqZWN0XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgYWRkVXNlcih1c2VySW5mbykge1xuICAgIC8qKlxuICAgIFRpY2tldDogRHVyYWJsZSBXcml0ZXNcblxuICAgIFBsZWFzZSBpbmNyZWFzZSB0aGUgZHVyYWJpbGl0eSBvZiB0aGlzIG1ldGhvZCBieSB1c2luZyBhIG5vbi1kZWZhdWx0IHdyaXRlXG4gICAgY29uY2VybiB3aXRoIGBgaW5zZXJ0T25lYGAuXG4gICAgKi9cblxuICAgIHRyeSB7XG4gICAgICAvLyBUT0RPIFRpY2tldDogVXNlciBNYW5hZ2VtZW50XG4gICAgICAvLyBJbnNlcnQgYSB1c2VyIHdpdGggdGhlIFwibmFtZVwiLCBcImVtYWlsXCIsIGFuZCBcInBhc3N3b3JkXCIgZmllbGRzLlxuICAgICAgLy8gVE9ETyBUaWNrZXQ6IER1cmFibGUgV3JpdGVzXG4gICAgICAvLyBVc2UgYSBtb3JlIGR1cmFibGUgV3JpdGUgQ29uY2VybiBmb3IgdGhpcyBvcGVyYXRpb24uXG4gICAgICBjb25zdCB7bmFtZSxlbWFpbCxwYXNzd29yZH0gPSB1c2VySW5mb1xuICAgICAgYXdhaXQgdXNlcnMuaW5zZXJ0T25lKHtcIm5hbWVcIjogbmFtZSAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbWFpbFwiOmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFzc3dvcmRcIjpwYXNzd29yZH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB3cml0ZUNvbmNlcm46IHsgdzogXCJtYWpvcml0eVwifX0pXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoU3RyaW5nKGUpLnN0YXJ0c1dpdGgoXCJNb25nb0Vycm9yOiBFMTEwMDAgZHVwbGljYXRlIGtleSBlcnJvclwiKSkge1xuICAgICAgICByZXR1cm4geyBlcnJvcjogXCJBIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gZW1haWwgYWxyZWFkeSBleGlzdHMuXCIgfVxuICAgICAgfVxuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQgd2hpbGUgYWRkaW5nIG5ldyB1c2VyLCAke2V9LmApXG4gICAgICByZXR1cm4geyBlcnJvcjogZSB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB1c2VyIHRvIHRoZSBgc2Vzc2lvbnNgIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVGhlIGVtYWlsIG9mIHRoZSB1c2VyIHRvIGxvZ2luXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBqd3QgLSBBIEpTT04gd2ViIHRva2VuIHJlcHJlc2VudGluZyB0aGUgdXNlcidzIGNsYWltc1xuICAgKiBAcmV0dXJucyB7REFPUmVzcG9uc2V9IFJldHVybnMgZWl0aGVyIGEgXCJzdWNjZXNzXCIgb3IgYW4gXCJlcnJvclwiIE9iamVjdFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGxvZ2luVXNlcihlbWFpbCwgand0KSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRPRE8gVGlja2V0OiBVc2VyIE1hbmFnZW1lbnRcbiAgICAgIC8vIFVzZSBhbiBVUFNFUlQgc3RhdGVtZW50IHRvIHVwZGF0ZSB0aGUgXCJqd3RcIiBmaWVsZCBpbiB0aGUgZG9jdW1lbnQsXG4gICAgICAvLyBtYXRjaGluZyB0aGUgXCJ1c2VyX2lkXCIgZmllbGQgd2l0aCB0aGUgZW1haWwgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24uXG4gICAgICBhd2FpdCBzZXNzaW9ucy51cGRhdGVPbmUoXG4gICAgICAgIHsgdXNlcl9pZDogZW1haWwgfSxcbiAgICAgICAgeyAkc2V0OiB7IFwiand0XCI6IGp3dCB9IH0sXG4gICAgICAgIHt1cHNlcnQ6dHJ1ZX1cbiAgICAgIClcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkIHdoaWxlIGxvZ2dpbmcgaW4gdXNlciwgJHtlfWApXG4gICAgICByZXR1cm4geyBlcnJvcjogZSB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSB1c2VyIGZyb20gdGhlIGBzZXNzb25zYCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCAtIFRoZSBlbWFpbCBvZiB0aGUgdXNlciB0byBsb2dvdXRcbiAgICogQHJldHVybnMge0RBT1Jlc3BvbnNlfSBSZXR1cm5zIGVpdGhlciBhIFwic3VjY2Vzc1wiIG9yIGFuIFwiZXJyb3JcIiBPYmplY3RcbiAgICovXG4gIHN0YXRpYyBhc3luYyBsb2dvdXRVc2VyKGVtYWlsKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRPRE8gVGlja2V0OiBVc2VyIE1hbmFnZW1lbnRcbiAgICAgIC8vIERlbGV0ZSB0aGUgZG9jdW1lbnQgaW4gdGhlIGBzZXNzaW9uc2AgY29sbGVjdGlvbiBtYXRjaGluZyB0aGUgZW1haWwuXG4gICAgICBhd2FpdCBzZXNzaW9ucy5kZWxldGVPbmUoeyBcInVzZXJfaWRcIjogZW1haWwgfSlcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkIHdoaWxlIGxvZ2dpbmcgb3V0IHVzZXIsICR7ZX1gKVxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgdXNlciBmcm9tIHRoZSBgc2Vzc2lvbnNgIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVGhlIGVtYWlsIG9mIHRoZSB1c2VyIHRvIHNlYXJjaCBmb3IgaW4gYHNlc3Npb25zYFxuICAgKiBAcmV0dXJucyB7T2JqZWN0IHwgbnVsbH0gUmV0dXJucyBhIHVzZXIgc2Vzc2lvbiBPYmplY3QsIGFuIFwiZXJyb3JcIiBPYmplY3RcbiAgICogaWYgc29tZXRoaW5nIHdlbnQgd3JvbmcsIG9yIG51bGwgaWYgdXNlciB3YXMgbm90IGZvdW5kLlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldFVzZXJTZXNzaW9uKGVtYWlsKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRPRE8gVGlja2V0OiBVc2VyIE1hbmFnZW1lbnRcbiAgICAgIC8vIFJldHJpZXZlIHRoZSBzZXNzaW9uIGRvY3VtZW50IGNvcnJlc3BvbmRpbmcgd2l0aCB0aGUgdXNlcidzIGVtYWlsLlxuICAgICAgcmV0dXJuIHNlc3Npb25zLmZpbmRPbmUoeyBcInVzZXJfaWRcIjogZW1haWwgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZCB3aGlsZSByZXRyaWV2aW5nIHVzZXIgc2Vzc2lvbiwgJHtlfWApXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgdXNlciBmcm9tIHRoZSBgc2Vzc2lvbnNgIGFuZCBgdXNlcnNgIGNvbGxlY3Rpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCAtIFRoZSBlbWFpbCBvZiB0aGUgdXNlciB0byBkZWxldGVcbiAgICogQHJldHVybnMge0RBT1Jlc3BvbnNlfSBSZXR1cm5zIGVpdGhlciBhIFwic3VjY2Vzc1wiIG9yIGFuIFwiZXJyb3JcIiBPYmplY3RcbiAgICovXG4gIHN0YXRpYyBhc3luYyBkZWxldGVVc2VyKGVtYWlsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHVzZXJzLmRlbGV0ZU9uZSh7IGVtYWlsIH0pXG4gICAgICBhd2FpdCBzZXNzaW9ucy5kZWxldGVPbmUoeyB1c2VyX2lkOiBlbWFpbCB9KVxuICAgICAgaWYgKCEoYXdhaXQgdGhpcy5nZXRVc2VyKGVtYWlsKSkgJiYgIShhd2FpdCB0aGlzLmdldFVzZXJTZXNzaW9uKGVtYWlsKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBEZWxldGlvbiB1bnN1Y2Nlc3NmdWxgKVxuICAgICAgICByZXR1cm4geyBlcnJvcjogYERlbGV0aW9uIHVuc3VjY2Vzc2Z1bGAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkIHdoaWxlIGRlbGV0aW5nIHVzZXIsICR7ZX1gKVxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiBhIHVzZXIncyBlbWFpbCBhbmQgYW4gb2JqZWN0IG9mIG5ldyBwcmVmZXJlbmNlcywgdXBkYXRlIHRoYXQgdXNlcidzXG4gICAqIGRhdGEgdG8gaW5jbHVkZSB0aG9zZSBwcmVmZXJlbmNlcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVGhlIGVtYWlsIG9mIHRoZSB1c2VyIHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHByZWZlcmVuY2VzIC0gVGhlIHByZWZlcmVuY2VzIHRvIGluY2x1ZGUgaW4gdGhlIHVzZXIncyBkYXRhLlxuICAgKiBAcmV0dXJucyB7REFPUmVzcG9uc2V9XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgdXBkYXRlUHJlZmVyZW5jZXMoZW1haWwsIHByZWZlcmVuY2VzKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8qKlxuICAgICAgVGlja2V0OiBVc2VyIFByZWZlcmVuY2VzXG5cbiAgICAgIFVwZGF0ZSB0aGUgXCJwcmVmZXJlbmNlc1wiIGZpZWxkIGluIHRoZSBjb3JyZXNwb25kaW5nIHVzZXIncyBkb2N1bWVudCB0b1xuICAgICAgcmVmbGVjdCB0aGUgbmV3IGluZm9ybWF0aW9uIGluIHByZWZlcmVuY2VzLlxuICAgICAgKi9cblxuICAgICAgcHJlZmVyZW5jZXMgPSBwcmVmZXJlbmNlcyB8fCB7fVxuXG4gICAgICAvLyBUT0RPIFRpY2tldDogVXNlciBQcmVmZXJlbmNlc1xuICAgICAgLy8gVXNlIHRoZSBkYXRhIGluIFwicHJlZmVyZW5jZXNcIiB0byB1cGRhdGUgdGhlIHVzZXIncyBwcmVmZXJlbmNlcy5cbiAgICAgIGNvbnN0IHVwZGF0ZVJlc3BvbnNlID0gYXdhaXQgdXNlcnMudXBkYXRlT25lKFxuICAgICAgICB7IFwiZW1haWxcIjogZW1haWwgfSxcbiAgICAgICAgeyAkc2V0OiB7IFwicHJlZmVyZW5jZXNcIjogcHJlZmVyZW5jZXMgfSB9LFxuICAgICAgKVxuXG4gICAgICBpZiAodXBkYXRlUmVzcG9uc2UubWF0Y2hlZENvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7IGVycm9yOiBcIk5vIHVzZXIgZm91bmQgd2l0aCB0aGF0IGVtYWlsXCIgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHVwZGF0ZVJlc3BvbnNlXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHVwZGF0aW5nIHRoaXMgdXNlcidzIHByZWZlcmVuY2VzLCAke2V9YCxcbiAgICAgIClcbiAgICAgIHJldHVybiB7IGVycm9yOiBlIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY2hlY2tBZG1pbihlbWFpbCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGlzQWRtaW4gfSA9IGF3YWl0IHRoaXMuZ2V0VXNlcihlbWFpbClcbiAgICAgIHJldHVybiBpc0FkbWluIHx8IGZhbHNlXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBtYWtlQWRtaW4oZW1haWwpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXBkYXRlUmVzcG9uc2UgPSB1c2Vycy51cGRhdGVPbmUoXG4gICAgICAgIHsgZW1haWwgfSxcbiAgICAgICAgeyAkc2V0OiB7IGlzQWRtaW46IHRydWUgfSB9LFxuICAgICAgKVxuICAgICAgcmV0dXJuIHVwZGF0ZVJlc3BvbnNlXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFBhcmFtZXRlciBwYXNzZWQgdG8gYWRkVXNlciBtZXRob2RcbiAqIEB0eXBlZGVmIFVzZXJJbmZvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVtYWlsXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcGFzc3dvcmRcbiAqL1xuXG4vKipcbiAqIFN1Y2Nlc3MvRXJyb3IgcmV0dXJuIG9iamVjdFxuICogQHR5cGVkZWYgREFPUmVzcG9uc2VcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3N1Y2Nlc3NdIC0gU3VjY2Vzc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtlcnJvcl0gLSBFcnJvclxuICovXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "usersDAO.js"
      ],
      "names": [
        "users",
        "sessions",
        "UsersDAO",
        "conn",
        "db",
        "process",
        "env",
        "MFLIX_NS",
        "collection",
        "console",
        "error",
        "email",
        "findOne",
        "userInfo",
        "name",
        "password",
        "insertOne",
        "writeConcern",
        "w",
        "success",
        "String",
        "startsWith",
        "jwt",
        "updateOne",
        "user_id",
        "$set",
        "upsert",
        "deleteOne",
        "getUser",
        "getUserSession",
        "preferences",
        "updateResponse",
        "matchedCount",
        "isAdmin"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "sourcesContent": [
        "let users\nlet sessions\n\nexport default class UsersDAO {\n  static async injectDB(conn) {\n    if (users && sessions) {\n      return\n    }\n    try {\n      users = await conn.db(process.env.MFLIX_NS).collection(\"users\")\n      sessions = await conn.db(process.env.MFLIX_NS).collection(\"sessions\")\n    } catch (e) {\n      console.error(`Unable to establish collection handles in userDAO: ${e}`)\n    }\n  }\n\n  /**\n  Ticket: User Management\n\n  For this ticket, you will need to implement the following five methods:\n\n  - getUser\n  - addUser\n  - loginUser\n  - logoutUser\n  - getUserSession\n\n  You can find these methods below this comment. Make sure to read the comments\n  in each method to better understand the implementation.\n\n  The method deleteUser is already given to you.\n  */\n\n  /**\n   * Finds a user in the `users` collection\n   * @param {string} email - The email of the desired user\n   * @returns {Object | null} Returns either a single user or nothing\n   */\n  static async getUser(email) {\n    // TODO Ticket: User Management\n    // Retrieve the user document corresponding with the user's email.\n    return await users.findOne({ \"email\": email })\n  }\n\n  /**\n   * Adds a user to the `users` collection\n   * @param {UserInfo} userInfo - The information of the user to add\n   * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n   */\n  static async addUser(userInfo) {\n    /**\n    Ticket: Durable Writes\n\n    Please increase the durability of this method by using a non-default write\n    concern with ``insertOne``.\n    */\n\n    try {\n      // TODO Ticket: User Management\n      // Insert a user with the \"name\", \"email\", and \"password\" fields.\n      // TODO Ticket: Durable Writes\n      // Use a more durable Write Concern for this operation.\n      const {name,email,password} = userInfo\n      await users.insertOne({\"name\": name ,\n                            \"email\":email,\n                            \"password\":password},\n                            { writeConcern: { w: \"majority\"}})\n      return { success: true }\n    } catch (e) {\n      if (String(e).startsWith(\"MongoError: E11000 duplicate key error\")) {\n        return { error: \"A user with the given email already exists.\" }\n      }\n      console.error(`Error occurred while adding new user, ${e}.`)\n      return { error: e }\n    }\n  }\n\n  /**\n   * Adds a user to the `sessions` collection\n   * @param {string} email - The email of the user to login\n   * @param {string} jwt - A JSON web token representing the user's claims\n   * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n   */\n  static async loginUser(email, jwt) {\n    try {\n      // TODO Ticket: User Management\n      // Use an UPSERT statement to update the \"jwt\" field in the document,\n      // matching the \"user_id\" field with the email passed to this function.\n      await sessions.updateOne(\n        { user_id: email },\n        { $set: { \"jwt\": jwt } },\n        {upsert:true}\n      )\n      return { success: true }\n    } catch (e) {\n      console.error(`Error occurred while logging in user, ${e}`)\n      return { error: e }\n    }\n  }\n\n  /**\n   * Removes a user from the `sessons` collection\n   * @param {string} email - The email of the user to logout\n   * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n   */\n  static async logoutUser(email) {\n    try {\n      // TODO Ticket: User Management\n      // Delete the document in the `sessions` collection matching the email.\n      await sessions.deleteOne({ \"user_id\": email })\n      return { success: true }\n    } catch (e) {\n      console.error(`Error occurred while logging out user, ${e}`)\n      return { error: e }\n    }\n  }\n\n  /**\n   * Gets a user from the `sessions` collection\n   * @param {string} email - The email of the user to search for in `sessions`\n   * @returns {Object | null} Returns a user session Object, an \"error\" Object\n   * if something went wrong, or null if user was not found.\n   */\n  static async getUserSession(email) {\n    try {\n      // TODO Ticket: User Management\n      // Retrieve the session document corresponding with the user's email.\n      return sessions.findOne({ \"user_id\": email })\n    } catch (e) {\n      console.error(`Error occurred while retrieving user session, ${e}`)\n      return null\n    }\n  }\n\n  /**\n   * Removes a user from the `sessions` and `users` collections\n   * @param {string} email - The email of the user to delete\n   * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n   */\n  static async deleteUser(email) {\n    try {\n      await users.deleteOne({ email })\n      await sessions.deleteOne({ user_id: email })\n      if (!(await this.getUser(email)) && !(await this.getUserSession(email))) {\n        return { success: true }\n      } else {\n        console.error(`Deletion unsuccessful`)\n        return { error: `Deletion unsuccessful` }\n      }\n    } catch (e) {\n      console.error(`Error occurred while deleting user, ${e}`)\n      return { error: e }\n    }\n  }\n\n  /**\n   * Given a user's email and an object of new preferences, update that user's\n   * data to include those preferences.\n   * @param {string} email - The email of the user to update.\n   * @param {Object} preferences - The preferences to include in the user's data.\n   * @returns {DAOResponse}\n   */\n  static async updatePreferences(email, preferences) {\n    try {\n      /**\n      Ticket: User Preferences\n\n      Update the \"preferences\" field in the corresponding user's document to\n      reflect the new information in preferences.\n      */\n\n      preferences = preferences || {}\n\n      // TODO Ticket: User Preferences\n      // Use the data in \"preferences\" to update the user's preferences.\n      const updateResponse = await users.updateOne(\n        { \"email\": email },\n        { $set: { \"preferences\": preferences } },\n      )\n\n      if (updateResponse.matchedCount === 0) {\n        return { error: \"No user found with that email\" }\n      }\n      return updateResponse\n    } catch (e) {\n      console.error(\n        `An error occurred while updating this user's preferences, ${e}`,\n      )\n      return { error: e }\n    }\n  }\n\n  static async checkAdmin(email) {\n    try {\n      const { isAdmin } = await this.getUser(email)\n      return isAdmin || false\n    } catch (e) {\n      return { error: e }\n    }\n  }\n\n  static async makeAdmin(email) {\n    try {\n      const updateResponse = users.updateOne(\n        { email },\n        { $set: { isAdmin: true } },\n      )\n      return updateResponse\n    } catch (e) {\n      return { error: e }\n    }\n  }\n}\n\n/**\n * Parameter passed to addUser method\n * @typedef UserInfo\n * @property {string} name\n * @property {string} email\n * @property {string} password\n */\n\n/**\n * Success/Error return object\n * @typedef DAOResponse\n * @property {boolean} [success] - Success\n * @property {string} [error] - Error\n */\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600072949825
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\commentsDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\commentsDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\commentsDAO.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\commentsDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
        "sourceFileName": "commentsDAO.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _bson = require(\"bson\");\n\nvar comments;\n\nvar CommentsDAO = /*#__PURE__*/function () {\n  function CommentsDAO() {\n    (0, _classCallCheck2[\"default\"])(this, CommentsDAO);\n  }\n\n  (0, _createClass2[\"default\"])(CommentsDAO, null, [{\n    key: \"injectDB\",\n    value: function () {\n      var _injectDB = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(conn) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!comments) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.prev = 2;\n                _context.next = 5;\n                return conn.db(process.env.MFLIX_NS).collection(\"comments\");\n\n              case 5:\n                comments = _context.sent;\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](2);\n                console.error(\"Unable to establish collection handles in userDAO: \".concat(_context.t0));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 8]]);\n      }));\n\n      function injectDB(_x) {\n        return _injectDB.apply(this, arguments);\n      }\n\n      return injectDB;\n    }()\n    /**\n    Ticket: Create/Update Comments\n     For this ticket, you will need to implement the following two methods:\n     - addComment\n    - updateComment\n     You can find these methods below this docstring. Make sure to read the comments\n    to better understand the task.\n    */\n\n    /**\n     * Inserts a comment into the `comments` collection, with the following fields:\n        - \"name\", the name of the user posting the comment\n       - \"email\", the email of the user posting the comment\n       - \"movie_id\", the _id of the movie pertaining to the comment\n       - \"text\", the text of the comment\n       - \"date\", the date when the comment was posted\n      * @param {string} movieId - The _id of the movie in the `movies` collection.\n     * @param {Object} user - An object containing the user's name and email.\n     * @param {string} comment - The text of the comment.\n     * @param {string} date - The date on which the comment was posted.\n     * @returns {DAOResponse} Returns an object with either DB response or \"error\"\n     */\n\n  }, {\n    key: \"addComment\",\n    value: function () {\n      var _addComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(movieId, user, comment, date) {\n        var commentDoc;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                // TODO Ticket: Create/Update Comments\n                // Construct the comment document to be inserted into MongoDB.\n                commentDoc = {\n                  'name': user.name,\n                  'email': user.email,\n                  'movie_id': (0, _bson.ObjectId)(movieId),\n                  'text': comment,\n                  'date': date\n                };\n                _context2.next = 4;\n                return comments.insertOne(commentDoc);\n\n              case 4:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.error(\"Unable to post comment: \".concat(_context2.t0));\n                return _context2.abrupt(\"return\", {\n                  error: _context2.t0\n                });\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 7]]);\n      }));\n\n      function addComment(_x2, _x3, _x4, _x5) {\n        return _addComment.apply(this, arguments);\n      }\n\n      return addComment;\n    }()\n    /**\n     * Updates the comment in the comment collection. Queries for the comment\n     * based by both comment _id field as well as the email field to doubly ensure\n     * the user has permission to edit this comment.\n     * @param {string} commentId - The _id of the comment to update.\n     * @param {string} userEmail - The email of the user who owns the comment.\n     * @param {string} text - The updated text of the comment.\n     * @param {string} date - The date on which the comment was updated.\n     * @returns {DAOResponse} Returns an object with either DB response or \"error\"  \n     */\n\n  }, {\n    key: \"updateComment\",\n    value: function () {\n      var _updateComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(commentId, userEmail, text, date) {\n        var updateResponse;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return comments.updateOne({\n                  _id: (0, _bson.ObjectId)(commentId),\n                  email: userEmail\n                }, {\n                  $set: {\n                    'text': text,\n                    'date': date\n                  }\n                });\n\n              case 3:\n                updateResponse = _context3.sent;\n                return _context3.abrupt(\"return\", updateResponse);\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.error(\"Unable to update comment: \".concat(_context3.t0));\n                return _context3.abrupt(\"return\", {\n                  error: _context3.t0\n                });\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function updateComment(_x6, _x7, _x8, _x9) {\n        return _updateComment.apply(this, arguments);\n      }\n\n      return updateComment;\n    }()\n  }, {\n    key: \"deleteComment\",\n    value: function () {\n      var _deleteComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(commentId, userEmail) {\n        var deleteResponse;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return comments.deleteOne({\n                  _id: (0, _bson.ObjectId)(commentId),\n                  email: userEmail\n                });\n\n              case 3:\n                deleteResponse = _context4.sent;\n                return _context4.abrupt(\"return\", deleteResponse);\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.error(\"Unable to delete comment: \".concat(_context4.t0));\n                return _context4.abrupt(\"return\", {\n                  error: _context4.t0\n                });\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 7]]);\n      }));\n\n      function deleteComment(_x10, _x11) {\n        return _deleteComment.apply(this, arguments);\n      }\n\n      return deleteComment;\n    }()\n  }, {\n    key: \"mostActiveCommenters\",\n    value: function () {\n      var _mostActiveCommenters = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n        var pipeline, readConcern, aggregateResult;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                // TODO Ticket: User Report\n                // Return the 20 users who have commented the most on MFlix.\n                pipeline = [{\n                  $sortByCount: \"$email\"\n                }, {\n                  $limit: 20\n                }]; // TODO Ticket: User Report\n                // Use a more durable Read Concern here to make sure this data is not stale.\n\n                readConcern = \"majority\";\n                _context5.next = 5;\n                return comments.aggregate(pipeline, {\n                  readConcern: readConcern\n                });\n\n              case 5:\n                aggregateResult = _context5.sent;\n                _context5.next = 8;\n                return aggregateResult.toArray();\n\n              case 8:\n                return _context5.abrupt(\"return\", _context5.sent);\n\n              case 11:\n                _context5.prev = 11;\n                _context5.t0 = _context5[\"catch\"](0);\n                console.error(\"Unable to retrieve most active commenters: \".concat(_context5.t0));\n                return _context5.abrupt(\"return\", {\n                  error: _context5.t0\n                });\n\n              case 15:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 11]]);\n      }));\n\n      function mostActiveCommenters() {\n        return _mostActiveCommenters.apply(this, arguments);\n      }\n\n      return mostActiveCommenters;\n    }()\n  }]);\n  return CommentsDAO;\n}();\n/**\n * Success/Error return object\n * @typedef DAOResponse\n * @property {boolean} [success] - Success\n * @property {string} [error] - Error\n */\n\n\nexports[\"default\"] = CommentsDAO;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzREFPLmpzIl0sIm5hbWVzIjpbImNvbW1lbnRzIiwiQ29tbWVudHNEQU8iLCJjb25uIiwiZGIiLCJwcm9jZXNzIiwiZW52IiwiTUZMSVhfTlMiLCJjb2xsZWN0aW9uIiwiY29uc29sZSIsImVycm9yIiwibW92aWVJZCIsInVzZXIiLCJjb21tZW50IiwiZGF0ZSIsImNvbW1lbnREb2MiLCJuYW1lIiwiZW1haWwiLCJpbnNlcnRPbmUiLCJjb21tZW50SWQiLCJ1c2VyRW1haWwiLCJ0ZXh0IiwidXBkYXRlT25lIiwiX2lkIiwiJHNldCIsInVwZGF0ZVJlc3BvbnNlIiwiZGVsZXRlT25lIiwiZGVsZXRlUmVzcG9uc2UiLCJwaXBlbGluZSIsIiRzb3J0QnlDb3VudCIsIiRsaW1pdCIsInJlYWRDb25jZXJuIiwiYWdncmVnYXRlIiwiYWdncmVnYXRlUmVzdWx0IiwidG9BcnJheSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFJQSxRQUFKOztJQUVxQkMsVzs7Ozs7Ozs7cUhBQ0dDLEk7Ozs7O3FCQUNoQkYsUTs7Ozs7Ozs7Ozt1QkFJZUUsSUFBSSxDQUFDQyxFQUFMLENBQVFDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFwQixFQUE4QkMsVUFBOUIsQ0FBeUMsVUFBekMsQzs7O0FBQWpCUCxnQkFBQUEsUTs7Ozs7OztBQUVBUSxnQkFBQUEsT0FBTyxDQUFDQyxLQUFSOzs7Ozs7Ozs7Ozs7Ozs7O0FBSUo7Ozs7Ozs7OztBQVlBOzs7Ozs7Ozs7Ozs7Ozs7Ozt3SEFld0JDLE8sRUFBU0MsSSxFQUFNQyxPLEVBQVNDLEk7Ozs7Ozs7QUFFNUM7QUFDQTtBQUNNQyxnQkFBQUEsVSxHQUFhO0FBQUcsMEJBQU9ILElBQUksQ0FBQ0ksSUFBZjtBQUNHLDJCQUFRSixJQUFJLENBQUNLLEtBRGhCO0FBRUcsOEJBQVcsb0JBQVNOLE9BQVQsQ0FGZDtBQUdHLDBCQUFPRSxPQUhWO0FBSUcsMEJBQU9DO0FBSlYsaUI7O3VCQU1OYixRQUFRLENBQUNpQixTQUFULENBQW1CSCxVQUFuQixDOzs7Ozs7OztBQUViTixnQkFBQUEsT0FBTyxDQUFDQyxLQUFSO2tEQUNPO0FBQUVBLGtCQUFBQSxLQUFLO0FBQVAsaUI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJWDs7Ozs7Ozs7Ozs7Ozs7MkhBVTJCUyxTLEVBQVdDLFMsRUFBV0MsSSxFQUFNUCxJOzs7Ozs7Ozt1QkFLdEJiLFFBQVEsQ0FBQ3FCLFNBQVQsQ0FDM0I7QUFBQ0Msa0JBQUFBLEdBQUcsRUFBQyxvQkFBU0osU0FBVCxDQUFMO0FBQXlCRixrQkFBQUEsS0FBSyxFQUFDRztBQUEvQixpQkFEMkIsRUFFM0I7QUFBRUksa0JBQUFBLElBQUksRUFBRTtBQUFFLDRCQUFRSCxJQUFWO0FBQWdCLDRCQUFPUDtBQUF2QjtBQUFSLGlCQUYyQixDOzs7QUFBdkJXLGdCQUFBQSxjO2tEQU1DQSxjOzs7OztBQUVQaEIsZ0JBQUFBLE9BQU8sQ0FBQ0MsS0FBUjtrREFDTztBQUFFQSxrQkFBQUEsS0FBSztBQUFQLGlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzJIQUlnQlMsUyxFQUFXQyxTOzs7Ozs7Ozt1QkFhTG5CLFFBQVEsQ0FBQ3lCLFNBQVQsQ0FBbUI7QUFDOUNILGtCQUFBQSxHQUFHLEVBQUUsb0JBQVNKLFNBQVQsQ0FEeUM7QUFDckJGLGtCQUFBQSxLQUFLLEVBQUNHO0FBRGUsaUJBQW5CLEM7OztBQUF2Qk8sZ0JBQUFBLGM7a0RBSUNBLGM7Ozs7O0FBRVBsQixnQkFBQUEsT0FBTyxDQUFDQyxLQUFSO2tEQUNPO0FBQUVBLGtCQUFBQSxLQUFLO0FBQVAsaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBYVA7QUFDQTtBQUNNa0IsZ0JBQUFBLFEsR0FBVyxDQUFDO0FBQUNDLGtCQUFBQSxZQUFZLEVBQUU7QUFBZixpQkFBRCxFQUNDO0FBQUNDLGtCQUFBQSxNQUFNLEVBQUM7QUFBUixpQkFERCxDLEVBR2pCO0FBQ0E7O0FBQ01DLGdCQUFBQSxXLEdBQWMsVTs7dUJBRVU5QixRQUFRLENBQUMrQixTQUFULENBQW1CSixRQUFuQixFQUE2QjtBQUN6REcsa0JBQUFBLFdBQVcsRUFBWEE7QUFEeUQsaUJBQTdCLEM7OztBQUF4QkUsZ0JBQUFBLGU7O3VCQUlPQSxlQUFlLENBQUNDLE9BQWhCLEU7Ozs7Ozs7O0FBRWJ6QixnQkFBQUEsT0FBTyxDQUFDQyxLQUFSO2tEQUNPO0FBQUVBLGtCQUFBQSxLQUFLO0FBQVAsaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLYiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXE5hZGF2IFNoZXJmXFxtZmxpeC1qc1xcc3JjXFxkYW9cXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9iamVjdElkIH0gZnJvbSBcImJzb25cIlxuXG5sZXQgY29tbWVudHNcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbWVudHNEQU8ge1xuICBzdGF0aWMgYXN5bmMgaW5qZWN0REIoY29ubikge1xuICAgIGlmIChjb21tZW50cykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb21tZW50cyA9IGF3YWl0IGNvbm4uZGIocHJvY2Vzcy5lbnYuTUZMSVhfTlMpLmNvbGxlY3Rpb24oXCJjb21tZW50c1wiKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byBlc3RhYmxpc2ggY29sbGVjdGlvbiBoYW5kbGVzIGluIHVzZXJEQU86ICR7ZX1gKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICBUaWNrZXQ6IENyZWF0ZS9VcGRhdGUgQ29tbWVudHNcblxuICBGb3IgdGhpcyB0aWNrZXQsIHlvdSB3aWxsIG5lZWQgdG8gaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgdHdvIG1ldGhvZHM6XG5cbiAgLSBhZGRDb21tZW50XG4gIC0gdXBkYXRlQ29tbWVudFxuXG4gIFlvdSBjYW4gZmluZCB0aGVzZSBtZXRob2RzIGJlbG93IHRoaXMgZG9jc3RyaW5nLiBNYWtlIHN1cmUgdG8gcmVhZCB0aGUgY29tbWVudHNcbiAgdG8gYmV0dGVyIHVuZGVyc3RhbmQgdGhlIHRhc2suXG4gICovXG5cbiAgLyoqXG4gICAqIEluc2VydHMgYSBjb21tZW50IGludG8gdGhlIGBjb21tZW50c2AgY29sbGVjdGlvbiwgd2l0aCB0aGUgZm9sbG93aW5nIGZpZWxkczpcblxuICAgICAtIFwibmFtZVwiLCB0aGUgbmFtZSBvZiB0aGUgdXNlciBwb3N0aW5nIHRoZSBjb21tZW50XG4gICAgIC0gXCJlbWFpbFwiLCB0aGUgZW1haWwgb2YgdGhlIHVzZXIgcG9zdGluZyB0aGUgY29tbWVudFxuICAgICAtIFwibW92aWVfaWRcIiwgdGhlIF9pZCBvZiB0aGUgbW92aWUgcGVydGFpbmluZyB0byB0aGUgY29tbWVudFxuICAgICAtIFwidGV4dFwiLCB0aGUgdGV4dCBvZiB0aGUgY29tbWVudFxuICAgICAtIFwiZGF0ZVwiLCB0aGUgZGF0ZSB3aGVuIHRoZSBjb21tZW50IHdhcyBwb3N0ZWRcblxuICAgKiBAcGFyYW0ge3N0cmluZ30gbW92aWVJZCAtIFRoZSBfaWQgb2YgdGhlIG1vdmllIGluIHRoZSBgbW92aWVzYCBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gdXNlciAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSB1c2VyJ3MgbmFtZSBhbmQgZW1haWwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tZW50IC0gVGhlIHRleHQgb2YgdGhlIGNvbW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRlIC0gVGhlIGRhdGUgb24gd2hpY2ggdGhlIGNvbW1lbnQgd2FzIHBvc3RlZC5cbiAgICogQHJldHVybnMge0RBT1Jlc3BvbnNlfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGVpdGhlciBEQiByZXNwb25zZSBvciBcImVycm9yXCJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBhZGRDb21tZW50KG1vdmllSWQsIHVzZXIsIGNvbW1lbnQsIGRhdGUpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVE9ETyBUaWNrZXQ6IENyZWF0ZS9VcGRhdGUgQ29tbWVudHNcbiAgICAgIC8vIENvbnN0cnVjdCB0aGUgY29tbWVudCBkb2N1bWVudCB0byBiZSBpbnNlcnRlZCBpbnRvIE1vbmdvREIuXG4gICAgICBjb25zdCBjb21tZW50RG9jID0geyAgJ25hbWUnOnVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW1haWwnOnVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21vdmllX2lkJzpPYmplY3RJZChtb3ZpZUlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGV4dCc6Y29tbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0ZSc6ZGF0ZSB9XG5cbiAgICAgIHJldHVybiBhd2FpdCBjb21tZW50cy5pbnNlcnRPbmUoY29tbWVudERvYylcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gcG9zdCBjb21tZW50OiAke2V9YClcbiAgICAgIHJldHVybiB7IGVycm9yOiBlIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY29tbWVudCBpbiB0aGUgY29tbWVudCBjb2xsZWN0aW9uLiBRdWVyaWVzIGZvciB0aGUgY29tbWVudFxuICAgKiBiYXNlZCBieSBib3RoIGNvbW1lbnQgX2lkIGZpZWxkIGFzIHdlbGwgYXMgdGhlIGVtYWlsIGZpZWxkIHRvIGRvdWJseSBlbnN1cmVcbiAgICogdGhlIHVzZXIgaGFzIHBlcm1pc3Npb24gdG8gZWRpdCB0aGlzIGNvbW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tZW50SWQgLSBUaGUgX2lkIG9mIHRoZSBjb21tZW50IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJFbWFpbCAtIFRoZSBlbWFpbCBvZiB0aGUgdXNlciB3aG8gb3ducyB0aGUgY29tbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdXBkYXRlZCB0ZXh0IG9mIHRoZSBjb21tZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0ZSAtIFRoZSBkYXRlIG9uIHdoaWNoIHRoZSBjb21tZW50IHdhcyB1cGRhdGVkLlxuICAgKiBAcmV0dXJucyB7REFPUmVzcG9uc2V9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggZWl0aGVyIERCIHJlc3BvbnNlIG9yIFwiZXJyb3JcIiAgXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgdXBkYXRlQ29tbWVudChjb21tZW50SWQsIHVzZXJFbWFpbCwgdGV4dCwgZGF0ZSkge1xuICAgIHRyeSB7XG4gICAgICAvLyBUT0RPIFRpY2tldDogQ3JlYXRlL1VwZGF0ZSBDb21tZW50c1xuICAgICAgLy8gVXNlIHRoZSBjb21tZW50SWQgYW5kIHVzZXJFbWFpbCB0byBzZWxlY3QgdGhlIHByb3BlciBjb21tZW50LCB0aGVuXG4gICAgICAvLyB1cGRhdGUgdGhlIFwidGV4dFwiIGFuZCBcImRhdGVcIiBmaWVsZHMgb2YgdGhlIHNlbGVjdGVkIGNvbW1lbnQuXG4gICAgICBjb25zdCB1cGRhdGVSZXNwb25zZSA9IGF3YWl0IGNvbW1lbnRzLnVwZGF0ZU9uZShcbiAgICAgICAge19pZDpPYmplY3RJZChjb21tZW50SWQpLGVtYWlsOnVzZXJFbWFpbCB9LFxuICAgICAgICB7ICRzZXQ6IHsgJ3RleHQnOiB0ZXh0LCAnZGF0ZSc6ZGF0ZSB9IH1cbiAgICAgIClcblxuICAgICAgXG4gICAgICByZXR1cm4gdXBkYXRlUmVzcG9uc2VcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gdXBkYXRlIGNvbW1lbnQ6ICR7ZX1gKVxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGVDb21tZW50KGNvbW1lbnRJZCwgdXNlckVtYWlsKSB7XG4gICAgLyoqXG4gICAgVGlja2V0OiBEZWxldGUgQ29tbWVudHNcblxuICAgIEltcGxlbWVudCB0aGUgZGVsZXRlT25lKCkgY2FsbCBpbiB0aGlzIG1ldGhvZC5cblxuICAgIEVuc3VyZSB0aGUgZGVsZXRlIG9wZXJhdGlvbiBpcyBsaW1pdGVkIHNvIG9ubHkgdGhlIHVzZXIgY2FuIGRlbGV0ZSB0aGVpciBvd25cbiAgICBjb21tZW50cywgYnV0IG5vdCBhbnlvbmUgZWxzZSdzIGNvbW1lbnRzLlxuICAgICovXG5cbiAgICB0cnkge1xuICAgICAgLy8gVE9ETyBUaWNrZXQ6IERlbGV0ZSBDb21tZW50c1xuICAgICAgLy8gVXNlIHRoZSB1c2VyRW1haWwgYW5kIGNvbW1lbnRJZCB0byBkZWxldGUgdGhlIHByb3BlciBjb21tZW50LlxuICAgICAgY29uc3QgZGVsZXRlUmVzcG9uc2UgPSBhd2FpdCBjb21tZW50cy5kZWxldGVPbmUoe1xuICAgICAgICBfaWQ6IE9iamVjdElkKGNvbW1lbnRJZCksZW1haWw6dXNlckVtYWlsXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gZGVsZXRlUmVzcG9uc2VcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gZGVsZXRlIGNvbW1lbnQ6ICR7ZX1gKVxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBtb3N0QWN0aXZlQ29tbWVudGVycygpIHtcbiAgICAvKipcbiAgICBUaWNrZXQ6IFVzZXIgUmVwb3J0XG5cbiAgICBCdWlsZCBhIHBpcGVsaW5lIHRoYXQgcmV0dXJucyB0aGUgMjAgbW9zdCBmcmVxdWVudCBjb21tZW50ZXJzIG9uIHRoZSBNRmxpeFxuICAgIHNpdGUuIFlvdSBjYW4gZG8gdGhpcyBieSBjb3VudGluZyB0aGUgbnVtYmVyIG9mIG9jY3VycmVuY2VzIG9mIGEgdXNlcidzXG4gICAgZW1haWwgaW4gdGhlIGBjb21tZW50c2AgY29sbGVjdGlvbi5cbiAgICAqL1xuICAgIHRyeSB7XG4gICAgICAvLyBUT0RPIFRpY2tldDogVXNlciBSZXBvcnRcbiAgICAgIC8vIFJldHVybiB0aGUgMjAgdXNlcnMgd2hvIGhhdmUgY29tbWVudGVkIHRoZSBtb3N0IG9uIE1GbGl4LlxuICAgICAgY29uc3QgcGlwZWxpbmUgPSBbeyRzb3J0QnlDb3VudDogXCIkZW1haWxcIn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7JGxpbWl0OjIwfV1cblxuICAgICAgLy8gVE9ETyBUaWNrZXQ6IFVzZXIgUmVwb3J0XG4gICAgICAvLyBVc2UgYSBtb3JlIGR1cmFibGUgUmVhZCBDb25jZXJuIGhlcmUgdG8gbWFrZSBzdXJlIHRoaXMgZGF0YSBpcyBub3Qgc3RhbGUuXG4gICAgICBjb25zdCByZWFkQ29uY2VybiA9IFwibWFqb3JpdHlcIlxuXG4gICAgICBjb25zdCBhZ2dyZWdhdGVSZXN1bHQgPSBhd2FpdCBjb21tZW50cy5hZ2dyZWdhdGUocGlwZWxpbmUsIHtcbiAgICAgICAgcmVhZENvbmNlcm4sXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gYXdhaXQgYWdncmVnYXRlUmVzdWx0LnRvQXJyYXkoKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byByZXRyaWV2ZSBtb3N0IGFjdGl2ZSBjb21tZW50ZXJzOiAke2V9YClcbiAgICAgIHJldHVybiB7IGVycm9yOiBlIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTdWNjZXNzL0Vycm9yIHJldHVybiBvYmplY3RcbiAqIEB0eXBlZGVmIERBT1Jlc3BvbnNlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzdWNjZXNzXSAtIFN1Y2Nlc3NcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZXJyb3JdIC0gRXJyb3JcbiAqL1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "commentsDAO.js"
      ],
      "names": [
        "comments",
        "CommentsDAO",
        "conn",
        "db",
        "process",
        "env",
        "MFLIX_NS",
        "collection",
        "console",
        "error",
        "movieId",
        "user",
        "comment",
        "date",
        "commentDoc",
        "name",
        "email",
        "insertOne",
        "commentId",
        "userEmail",
        "text",
        "updateOne",
        "_id",
        "$set",
        "updateResponse",
        "deleteOne",
        "deleteResponse",
        "pipeline",
        "$sortByCount",
        "$limit",
        "readConcern",
        "aggregate",
        "aggregateResult",
        "toArray"
      ],
      "mappings": ";;;;;;;;;;;;;;;;;AAAA;;AAEA,IAAIA,QAAJ;;IAEqBC,W;;;;;;;;qHACGC,I;;;;;qBAChBF,Q;;;;;;;;;;uBAIeE,IAAI,CAACC,EAAL,CAAQC,OAAO,CAACC,GAAR,CAAYC,QAApB,EAA8BC,UAA9B,CAAyC,UAAzC,C;;;AAAjBP,gBAAAA,Q;;;;;;;AAEAQ,gBAAAA,OAAO,CAACC,KAAR;;;;;;;;;;;;;;;;AAIJ;;;;;;;;;AAYA;;;;;;;;;;;;;;;;;wHAewBC,O,EAASC,I,EAAMC,O,EAASC,I;;;;;;;AAE5C;AACA;AACMC,gBAAAA,U,GAAa;AAAG,0BAAOH,IAAI,CAACI,IAAf;AACG,2BAAQJ,IAAI,CAACK,KADhB;AAEG,8BAAW,oBAASN,OAAT,CAFd;AAGG,0BAAOE,OAHV;AAIG,0BAAOC;AAJV,iB;;uBAMNb,QAAQ,CAACiB,SAAT,CAAmBH,UAAnB,C;;;;;;;;AAEbN,gBAAAA,OAAO,CAACC,KAAR;kDACO;AAAEA,kBAAAA,KAAK;AAAP,iB;;;;;;;;;;;;;;;;AAIX;;;;;;;;;;;;;;2HAU2BS,S,EAAWC,S,EAAWC,I,EAAMP,I;;;;;;;;uBAKtBb,QAAQ,CAACqB,SAAT,CAC3B;AAACC,kBAAAA,GAAG,EAAC,oBAASJ,SAAT,CAAL;AAAyBF,kBAAAA,KAAK,EAACG;AAA/B,iBAD2B,EAE3B;AAAEI,kBAAAA,IAAI,EAAE;AAAE,4BAAQH,IAAV;AAAgB,4BAAOP;AAAvB;AAAR,iBAF2B,C;;;AAAvBW,gBAAAA,c;kDAMCA,c;;;;;AAEPhB,gBAAAA,OAAO,CAACC,KAAR;kDACO;AAAEA,kBAAAA,KAAK;AAAP,iB;;;;;;;;;;;;;;;;;;;2HAIgBS,S,EAAWC,S;;;;;;;;uBAaLnB,QAAQ,CAACyB,SAAT,CAAmB;AAC9CH,kBAAAA,GAAG,EAAE,oBAASJ,SAAT,CADyC;AACrBF,kBAAAA,KAAK,EAACG;AADe,iBAAnB,C;;;AAAvBO,gBAAAA,c;kDAICA,c;;;;;AAEPlB,gBAAAA,OAAO,CAACC,KAAR;kDACO;AAAEA,kBAAAA,KAAK;AAAP,iB;;;;;;;;;;;;;;;;;;;;;;;;;;AAaP;AACA;AACMkB,gBAAAA,Q,GAAW,CAAC;AAACC,kBAAAA,YAAY,EAAE;AAAf,iBAAD,EACC;AAACC,kBAAAA,MAAM,EAAC;AAAR,iBADD,C,EAGjB;AACA;;AACMC,gBAAAA,W,GAAc,U;;uBAEU9B,QAAQ,CAAC+B,SAAT,CAAmBJ,QAAnB,EAA6B;AACzDG,kBAAAA,WAAW,EAAXA;AADyD,iBAA7B,C;;;AAAxBE,gBAAAA,e;;uBAIOA,eAAe,CAACC,OAAhB,E;;;;;;;;AAEbzB,gBAAAA,OAAO,CAACC,KAAR;kDACO;AAAEA,kBAAAA,KAAK;AAAP,iB;;;;;;;;;;;;;;;;;;;AAKb",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "sourcesContent": [
        "import { ObjectId } from \"bson\"\n\nlet comments\n\nexport default class CommentsDAO {\n  static async injectDB(conn) {\n    if (comments) {\n      return\n    }\n    try {\n      comments = await conn.db(process.env.MFLIX_NS).collection(\"comments\")\n    } catch (e) {\n      console.error(`Unable to establish collection handles in userDAO: ${e}`)\n    }\n  }\n\n  /**\n  Ticket: Create/Update Comments\n\n  For this ticket, you will need to implement the following two methods:\n\n  - addComment\n  - updateComment\n\n  You can find these methods below this docstring. Make sure to read the comments\n  to better understand the task.\n  */\n\n  /**\n   * Inserts a comment into the `comments` collection, with the following fields:\n\n     - \"name\", the name of the user posting the comment\n     - \"email\", the email of the user posting the comment\n     - \"movie_id\", the _id of the movie pertaining to the comment\n     - \"text\", the text of the comment\n     - \"date\", the date when the comment was posted\n\n   * @param {string} movieId - The _id of the movie in the `movies` collection.\n   * @param {Object} user - An object containing the user's name and email.\n   * @param {string} comment - The text of the comment.\n   * @param {string} date - The date on which the comment was posted.\n   * @returns {DAOResponse} Returns an object with either DB response or \"error\"\n   */\n  static async addComment(movieId, user, comment, date) {\n    try {\n      // TODO Ticket: Create/Update Comments\n      // Construct the comment document to be inserted into MongoDB.\n      const commentDoc = {  'name':user.name,\n                            'email':user.email,\n                            'movie_id':ObjectId(movieId),\n                            'text':comment,\n                            'date':date }\n\n      return await comments.insertOne(commentDoc)\n    } catch (e) {\n      console.error(`Unable to post comment: ${e}`)\n      return { error: e }\n    }\n  }\n\n  /**\n   * Updates the comment in the comment collection. Queries for the comment\n   * based by both comment _id field as well as the email field to doubly ensure\n   * the user has permission to edit this comment.\n   * @param {string} commentId - The _id of the comment to update.\n   * @param {string} userEmail - The email of the user who owns the comment.\n   * @param {string} text - The updated text of the comment.\n   * @param {string} date - The date on which the comment was updated.\n   * @returns {DAOResponse} Returns an object with either DB response or \"error\"  \n   */\n  static async updateComment(commentId, userEmail, text, date) {\n    try {\n      // TODO Ticket: Create/Update Comments\n      // Use the commentId and userEmail to select the proper comment, then\n      // update the \"text\" and \"date\" fields of the selected comment.\n      const updateResponse = await comments.updateOne(\n        {_id:ObjectId(commentId),email:userEmail },\n        { $set: { 'text': text, 'date':date } }\n      )\n\n      \n      return updateResponse\n    } catch (e) {\n      console.error(`Unable to update comment: ${e}`)\n      return { error: e }\n    }\n  }\n\n  static async deleteComment(commentId, userEmail) {\n    /**\n    Ticket: Delete Comments\n\n    Implement the deleteOne() call in this method.\n\n    Ensure the delete operation is limited so only the user can delete their own\n    comments, but not anyone else's comments.\n    */\n\n    try {\n      // TODO Ticket: Delete Comments\n      // Use the userEmail and commentId to delete the proper comment.\n      const deleteResponse = await comments.deleteOne({\n        _id: ObjectId(commentId),email:userEmail\n      })\n\n      return deleteResponse\n    } catch (e) {\n      console.error(`Unable to delete comment: ${e}`)\n      return { error: e }\n    }\n  }\n\n  static async mostActiveCommenters() {\n    /**\n    Ticket: User Report\n\n    Build a pipeline that returns the 20 most frequent commenters on the MFlix\n    site. You can do this by counting the number of occurrences of a user's\n    email in the `comments` collection.\n    */\n    try {\n      // TODO Ticket: User Report\n      // Return the 20 users who have commented the most on MFlix.\n      const pipeline = [{$sortByCount: \"$email\"},\n                        {$limit:20}]\n\n      // TODO Ticket: User Report\n      // Use a more durable Read Concern here to make sure this data is not stale.\n      const readConcern = \"majority\"\n\n      const aggregateResult = await comments.aggregate(pipeline, {\n        readConcern,\n      })\n\n      return await aggregateResult.toArray()\n    } catch (e) {\n      console.error(`Unable to retrieve most active commenters: ${e}`)\n      return { error: e }\n    }\n  }\n}\n\n/**\n * Success/Error return object\n * @typedef DAOResponse\n * @property {boolean} [success] - Success\n * @property {string} [error] - Error\n */\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600079931736
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\users.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.controller.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.controller.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
        "sourceFileName": "users.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.User = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _usersDAO = _interopRequireDefault(require(\"../dao/usersDAO\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar hashPassword = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(password) {\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _bcryptjs[\"default\"].hash(password, 10);\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function hashPassword(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar User = /*#__PURE__*/function () {\n  function User() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        name = _ref2.name,\n        email = _ref2.email,\n        password = _ref2.password,\n        _ref2$preferences = _ref2.preferences,\n        preferences = _ref2$preferences === void 0 ? {} : _ref2$preferences;\n\n    (0, _classCallCheck2[\"default\"])(this, User);\n    this.name = name;\n    this.email = email;\n    this.password = password;\n    this.preferences = preferences;\n  }\n\n  (0, _createClass2[\"default\"])(User, [{\n    key: \"toJson\",\n    value: function toJson() {\n      return {\n        name: this.name,\n        email: this.email,\n        preferences: this.preferences\n      };\n    }\n  }, {\n    key: \"comparePassword\",\n    value: function () {\n      var _comparePassword = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(plainText) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _bcryptjs[\"default\"].compare(plainText, this.password);\n\n              case 2:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function comparePassword(_x2) {\n        return _comparePassword.apply(this, arguments);\n      }\n\n      return comparePassword;\n    }()\n  }, {\n    key: \"encoded\",\n    value: function encoded() {\n      return _jsonwebtoken[\"default\"].sign(_objectSpread({\n        exp: Math.floor(Date.now() / 1000) + 60 * 60 * 4\n      }, this.toJson()), process.env.SECRET_KEY);\n    }\n  }], [{\n    key: \"decoded\",\n    value: function () {\n      var _decoded = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(userJwt) {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", _jsonwebtoken[\"default\"].verify(userJwt, process.env.SECRET_KEY, function (error, res) {\n                  if (error) {\n                    return {\n                      error: error\n                    };\n                  }\n\n                  return new User(res);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function decoded(_x3) {\n        return _decoded.apply(this, arguments);\n      }\n\n      return decoded;\n    }()\n  }]);\n  return User;\n}();\n\nexports.User = User;\n\nvar UserController = /*#__PURE__*/function () {\n  function UserController() {\n    (0, _classCallCheck2[\"default\"])(this, UserController);\n  }\n\n  (0, _createClass2[\"default\"])(UserController, null, [{\n    key: \"register\",\n    value: function () {\n      var _register = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n        var userFromBody, errors, userInfo, insertResult, userFromDB, user;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                userFromBody = req.body;\n                errors = {};\n\n                if (userFromBody && userFromBody.password.length < 8) {\n                  errors.password = \"Your password must be at least 8 characters.\";\n                }\n\n                if (userFromBody && userFromBody.name.length < 3) {\n                  errors.name = \"You must specify a name of at least 3 characters.\";\n                }\n\n                if (!(Object.keys(errors).length > 0)) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                res.status(400).json(errors);\n                return _context4.abrupt(\"return\");\n\n              case 8:\n                _context4.t0 = _objectSpread;\n                _context4.t1 = _objectSpread({}, userFromBody);\n                _context4.t2 = {};\n                _context4.next = 13;\n                return hashPassword(userFromBody.password);\n\n              case 13:\n                _context4.t3 = _context4.sent;\n                _context4.t4 = {\n                  password: _context4.t3\n                };\n                userInfo = (0, _context4.t0)(_context4.t1, _context4.t2, _context4.t4);\n                _context4.next = 18;\n                return _usersDAO[\"default\"].addUser(userInfo);\n\n              case 18:\n                insertResult = _context4.sent;\n\n                if (!insertResult.success) {\n                  errors.email = insertResult.error;\n                }\n\n                _context4.next = 22;\n                return _usersDAO[\"default\"].getUser(userFromBody.email);\n\n              case 22:\n                userFromDB = _context4.sent;\n\n                if (!userFromDB) {\n                  errors.general = \"Internal error, please try again later\";\n                }\n\n                if (!(Object.keys(errors).length > 0)) {\n                  _context4.next = 27;\n                  break;\n                }\n\n                res.status(400).json(errors);\n                return _context4.abrupt(\"return\");\n\n              case 27:\n                user = new User(userFromDB);\n                res.json({\n                  auth_token: user.encoded(),\n                  info: user.toJson()\n                });\n                _context4.next = 34;\n                break;\n\n              case 31:\n                _context4.prev = 31;\n                _context4.t5 = _context4[\"catch\"](0);\n                res.status(500).json({\n                  error: _context4.t5\n                });\n\n              case 34:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 31]]);\n      }));\n\n      function register(_x4, _x5) {\n        return _register.apply(this, arguments);\n      }\n\n      return register;\n    }()\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res, next) {\n        var _req$body, email, password, userData, user, loginResponse;\n\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _req$body = req.body, email = _req$body.email, password = _req$body.password;\n\n                if (!(!email || typeof email !== \"string\")) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Bad email format, expected string.\"\n                });\n                return _context5.abrupt(\"return\");\n\n              case 5:\n                if (!(!password || typeof password !== \"string\")) {\n                  _context5.next = 8;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Bad password format, expected string.\"\n                });\n                return _context5.abrupt(\"return\");\n\n              case 8:\n                _context5.next = 10;\n                return _usersDAO[\"default\"].getUser(email);\n\n              case 10:\n                userData = _context5.sent;\n\n                if (userData) {\n                  _context5.next = 14;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: \"Make sure your email is correct.\"\n                });\n                return _context5.abrupt(\"return\");\n\n              case 14:\n                user = new User(userData);\n                _context5.next = 17;\n                return user.comparePassword(password);\n\n              case 17:\n                if (_context5.sent) {\n                  _context5.next = 20;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: \"Make sure your password is correct.\"\n                });\n                return _context5.abrupt(\"return\");\n\n              case 20:\n                _context5.next = 22;\n                return _usersDAO[\"default\"].loginUser(user.email, user.encoded());\n\n              case 22:\n                loginResponse = _context5.sent;\n\n                if (loginResponse.success) {\n                  _context5.next = 26;\n                  break;\n                }\n\n                res.status(500).json({\n                  error: loginResponse.error\n                });\n                return _context5.abrupt(\"return\");\n\n              case 26:\n                res.json({\n                  auth_token: user.encoded(),\n                  info: user.toJson()\n                });\n                _context5.next = 33;\n                break;\n\n              case 29:\n                _context5.prev = 29;\n                _context5.t0 = _context5[\"catch\"](0);\n                res.status(400).json({\n                  error: _context5.t0\n                });\n                return _context5.abrupt(\"return\");\n\n              case 33:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 29]]);\n      }));\n\n      function login(_x6, _x7, _x8) {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n        var userJwt, userObj, error, logoutResult;\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context6.next = 4;\n                return User.decoded(userJwt);\n\n              case 4:\n                userObj = _context6.sent;\n                error = userObj.error;\n\n                if (!error) {\n                  _context6.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context6.abrupt(\"return\");\n\n              case 9:\n                _context6.next = 11;\n                return _usersDAO[\"default\"].logoutUser(userObj.email);\n\n              case 11:\n                logoutResult = _context6.sent;\n                error = logoutResult.error;\n\n                if (!error) {\n                  _context6.next = 16;\n                  break;\n                }\n\n                res.status(500).json({\n                  error: error\n                });\n                return _context6.abrupt(\"return\");\n\n              case 16:\n                res.json(logoutResult);\n                _context6.next = 22;\n                break;\n\n              case 19:\n                _context6.prev = 19;\n                _context6.t0 = _context6[\"catch\"](0);\n                res.status(500).json(_context6.t0);\n\n              case 22:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[0, 19]]);\n      }));\n\n      function logout(_x9, _x10) {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n        var password, userJwt, userClaim, error, user, deleteResult;\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.prev = 0;\n                password = req.body.password;\n\n                if (!(!password || typeof password !== \"string\")) {\n                  _context7.next = 5;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Bad password format, expected string.\"\n                });\n                return _context7.abrupt(\"return\");\n\n              case 5:\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context7.next = 8;\n                return User.decoded(userJwt);\n\n              case 8:\n                userClaim = _context7.sent;\n                error = userClaim.error;\n\n                if (!error) {\n                  _context7.next = 13;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context7.abrupt(\"return\");\n\n              case 13:\n                _context7.t0 = User;\n                _context7.next = 16;\n                return _usersDAO[\"default\"].getUser(userClaim.email);\n\n              case 16:\n                _context7.t1 = _context7.sent;\n                user = new _context7.t0(_context7.t1);\n                _context7.next = 20;\n                return user.comparePassword(password);\n\n              case 20:\n                if (_context7.sent) {\n                  _context7.next = 23;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: \"Make sure your password is correct.\"\n                });\n                return _context7.abrupt(\"return\");\n\n              case 23:\n                _context7.next = 25;\n                return _usersDAO[\"default\"].deleteUser(userClaim.email);\n\n              case 25:\n                deleteResult = _context7.sent;\n                error = deleteResult.error;\n\n                if (!error) {\n                  _context7.next = 30;\n                  break;\n                }\n\n                res.status(500).json({\n                  error: error\n                });\n                return _context7.abrupt(\"return\");\n\n              case 30:\n                res.json(deleteResult);\n                _context7.next = 36;\n                break;\n\n              case 33:\n                _context7.prev = 33;\n                _context7.t2 = _context7[\"catch\"](0);\n                res.status(500).json(_context7.t2);\n\n              case 36:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[0, 33]]);\n      }));\n\n      function _delete(_x11, _x12) {\n        return _delete2.apply(this, arguments);\n      }\n\n      return _delete;\n    }()\n  }, {\n    key: \"save\",\n    value: function () {\n      var _save = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(req, res) {\n        var userJwt, userFromHeader, error, userFromDB, updatedUser;\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context8.next = 4;\n                return User.decoded(userJwt);\n\n              case 4:\n                userFromHeader = _context8.sent;\n                error = userFromHeader.error;\n\n                if (!error) {\n                  _context8.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context8.abrupt(\"return\");\n\n              case 9:\n                _context8.next = 11;\n                return _usersDAO[\"default\"].updatePreferences(userFromHeader.email, req.body.preferences);\n\n              case 11:\n                _context8.next = 13;\n                return _usersDAO[\"default\"].getUser(userFromHeader.email);\n\n              case 13:\n                userFromDB = _context8.sent;\n                updatedUser = new User(userFromDB);\n                res.json({\n                  auth_token: updatedUser.encoded(),\n                  info: updatedUser.toJson()\n                });\n                _context8.next = 21;\n                break;\n\n              case 18:\n                _context8.prev = 18;\n                _context8.t0 = _context8[\"catch\"](0);\n                res.status(500).json(_context8.t0);\n\n              case 21:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, null, [[0, 18]]);\n      }));\n\n      function save(_x13, _x14) {\n        return _save.apply(this, arguments);\n      }\n\n      return save;\n    }() // for internal use only\n\n  }, {\n    key: \"createAdminUser\",\n    value: function () {\n      var _createAdminUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(req, res) {\n        var userFromBody, errors, userInfo, insertResult, makeAdminResponse, userFromDB, user, _jwt, loginResponse;\n\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                userFromBody = req.body;\n                errors = {};\n\n                if (userFromBody && userFromBody.password.length < 8) {\n                  errors.password = \"Your password must be at least 8 characters.\";\n                }\n\n                if (userFromBody && userFromBody.name.length < 3) {\n                  errors.name = \"You must specify a name of at least 3 characters.\";\n                }\n\n                if (!(Object.keys(errors).length > 0)) {\n                  _context9.next = 8;\n                  break;\n                }\n\n                res.status(400).json(errors);\n                return _context9.abrupt(\"return\");\n\n              case 8:\n                _context9.t0 = _objectSpread;\n                _context9.t1 = _objectSpread({}, userFromBody);\n                _context9.t2 = {};\n                _context9.next = 13;\n                return hashPassword(userFromBody.password);\n\n              case 13:\n                _context9.t3 = _context9.sent;\n                _context9.t4 = {\n                  password: _context9.t3\n                };\n                userInfo = (0, _context9.t0)(_context9.t1, _context9.t2, _context9.t4);\n                _context9.next = 18;\n                return _usersDAO[\"default\"].addUser(userInfo);\n\n              case 18:\n                insertResult = _context9.sent;\n\n                if (!insertResult.success) {\n                  errors.email = insertResult.error;\n                }\n\n                if (!(Object.keys(errors).length > 0)) {\n                  _context9.next = 23;\n                  break;\n                }\n\n                res.status(400).json(errors);\n                return _context9.abrupt(\"return\");\n\n              case 23:\n                _context9.next = 25;\n                return _usersDAO[\"default\"].makeAdmin(userFromBody.email);\n\n              case 25:\n                makeAdminResponse = _context9.sent;\n                _context9.next = 28;\n                return _usersDAO[\"default\"].getUser(userFromBody.email);\n\n              case 28:\n                userFromDB = _context9.sent;\n\n                if (!userFromDB) {\n                  errors.general = \"Internal error, please try again later\";\n                }\n\n                if (!(Object.keys(errors).length > 0)) {\n                  _context9.next = 33;\n                  break;\n                }\n\n                res.status(400).json(errors);\n                return _context9.abrupt(\"return\");\n\n              case 33:\n                user = new User(userFromDB);\n                _jwt = user.encoded();\n                _context9.next = 37;\n                return _usersDAO[\"default\"].loginUser(user.email, _jwt);\n\n              case 37:\n                loginResponse = _context9.sent;\n                res.json({\n                  auth_token: _jwt,\n                  info: user.toJson()\n                });\n                _context9.next = 44;\n                break;\n\n              case 41:\n                _context9.prev = 41;\n                _context9.t5 = _context9[\"catch\"](0);\n                res.status(500).json(_context9.t5);\n\n              case 44:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, null, [[0, 41]]);\n      }));\n\n      function createAdminUser(_x15, _x16) {\n        return _createAdminUser.apply(this, arguments);\n      }\n\n      return createAdminUser;\n    }()\n  }]);\n  return UserController;\n}();\n\nexports[\"default\"] = UserController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInByZWZlcmVuY2VzIiwicGxhaW5UZXh0IiwiY29tcGFyZSIsImp3dCIsInNpZ24iLCJleHAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwidG9Kc29uIiwicHJvY2VzcyIsImVudiIsIlNFQ1JFVF9LRVkiLCJ1c2VySnd0IiwidmVyaWZ5IiwiZXJyb3IiLCJyZXMiLCJVc2VyQ29udHJvbGxlciIsInJlcSIsInVzZXJGcm9tQm9keSIsImJvZHkiLCJlcnJvcnMiLCJsZW5ndGgiLCJPYmplY3QiLCJrZXlzIiwic3RhdHVzIiwianNvbiIsInVzZXJJbmZvIiwiVXNlcnNEQU8iLCJhZGRVc2VyIiwiaW5zZXJ0UmVzdWx0Iiwic3VjY2VzcyIsImdldFVzZXIiLCJ1c2VyRnJvbURCIiwiZ2VuZXJhbCIsInVzZXIiLCJhdXRoX3Rva2VuIiwiZW5jb2RlZCIsImluZm8iLCJuZXh0IiwidXNlckRhdGEiLCJjb21wYXJlUGFzc3dvcmQiLCJsb2dpblVzZXIiLCJsb2dpblJlc3BvbnNlIiwiZ2V0Iiwic2xpY2UiLCJkZWNvZGVkIiwidXNlck9iaiIsImxvZ291dFVzZXIiLCJsb2dvdXRSZXN1bHQiLCJ1c2VyQ2xhaW0iLCJkZWxldGVVc2VyIiwiZGVsZXRlUmVzdWx0IiwidXNlckZyb21IZWFkZXIiLCJ1cGRhdGVQcmVmZXJlbmNlcyIsInVwZGF0ZWRVc2VyIiwibWFrZUFkbWluIiwibWFrZUFkbWluUmVzcG9uc2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsWUFBWTtBQUFBLDJGQUFHLGlCQUFNQyxRQUFOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUF3QkMscUJBQU9DLElBQVAsQ0FBWUYsUUFBWixF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QUFTcUMsVUFBVCxDO0FBQ1AvQixnQkFBQUEsSSxHQUFNaUMsSUFBSSxDQUFDRSxPQUFMLEU7O3VCQUNnQlQscUJBQVNjLFNBQVQsQ0FBbUJQLElBQUksQ0FBQ3JDLEtBQXhCLEVBQStCSSxJQUEvQixDOzs7QUFBdEJ5QyxnQkFBQUEsYTtBQUVOM0IsZ0JBQUFBLEdBQUcsQ0FBQ1UsSUFBSixDQUFTO0FBQ1BVLGtCQUFBQSxVQUFVLEVBQUVsQyxJQURMO0FBRVBvQyxrQkFBQUEsSUFBSSxFQUFFSCxJQUFJLENBQUMxQixNQUFMO0FBRkMsaUJBQVQ7Ozs7Ozs7QUFLQU8sZ0JBQUFBLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXGFwaVxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCJcbmltcG9ydCBVc2Vyc0RBTyBmcm9tIFwiLi4vZGFvL3VzZXJzREFPXCJcblxuY29uc3QgaGFzaFBhc3N3b3JkID0gYXN5bmMgcGFzc3dvcmQgPT4gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKVxuXG5leHBvcnQgY2xhc3MgVXNlciB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkLCBwcmVmZXJlbmNlcyA9IHt9IH0gPSB7fSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLmVtYWlsID0gZW1haWxcbiAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmRcbiAgICB0aGlzLnByZWZlcmVuY2VzID0gcHJlZmVyZW5jZXNcbiAgfVxuICB0b0pzb24oKSB7XG4gICAgcmV0dXJuIHsgbmFtZTogdGhpcy5uYW1lLCBlbWFpbDogdGhpcy5lbWFpbCwgcHJlZmVyZW5jZXM6IHRoaXMucHJlZmVyZW5jZXMgfVxuICB9XG4gIGFzeW5jIGNvbXBhcmVQYXNzd29yZChwbGFpblRleHQpIHtcbiAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGxhaW5UZXh0LCB0aGlzLnBhc3N3b3JkKVxuICB9XG4gIGVuY29kZWQoKSB7XG4gICAgcmV0dXJuIGp3dC5zaWduKFxuICAgICAge1xuICAgICAgICBleHA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAgKiA2MCAqIDQsXG4gICAgICAgIC4uLnRoaXMudG9Kc29uKCksXG4gICAgICB9LFxuICAgICAgcHJvY2Vzcy5lbnYuU0VDUkVUX0tFWSxcbiAgICApXG4gIH1cbiAgc3RhdGljIGFzeW5jIGRlY29kZWQodXNlckp3dCkge1xuICAgIHJldHVybiBqd3QudmVyaWZ5KHVzZXJKd3QsIHByb2Nlc3MuZW52LlNFQ1JFVF9LRVksIChlcnJvciwgcmVzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3IgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBVc2VyKHJlcylcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJDb250cm9sbGVyIHtcbiAgc3RhdGljIGFzeW5jIHJlZ2lzdGVyKHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJGcm9tQm9keSA9IHJlcS5ib2R5XG4gICAgICBsZXQgZXJyb3JzID0ge31cbiAgICAgIGlmICh1c2VyRnJvbUJvZHkgJiYgdXNlckZyb21Cb2R5LnBhc3N3b3JkLmxlbmd0aCA8IDgpIHtcbiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gXCJZb3VyIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzLlwiXG4gICAgICB9XG4gICAgICBpZiAodXNlckZyb21Cb2R5ICYmIHVzZXJGcm9tQm9keS5uYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgZXJyb3JzLm5hbWUgPSBcIllvdSBtdXN0IHNwZWNpZnkgYSBuYW1lIG9mIGF0IGxlYXN0IDMgY2hhcmFjdGVycy5cIlxuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKGVycm9ycylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVzZXJJbmZvID0ge1xuICAgICAgICAuLi51c2VyRnJvbUJvZHksXG4gICAgICAgIHBhc3N3b3JkOiBhd2FpdCBoYXNoUGFzc3dvcmQodXNlckZyb21Cb2R5LnBhc3N3b3JkKSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5zZXJ0UmVzdWx0ID0gYXdhaXQgVXNlcnNEQU8uYWRkVXNlcih1c2VySW5mbylcbiAgICAgIGlmICghaW5zZXJ0UmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXJyb3JzLmVtYWlsID0gaW5zZXJ0UmVzdWx0LmVycm9yXG4gICAgICB9XG4gICAgICBjb25zdCB1c2VyRnJvbURCID0gYXdhaXQgVXNlcnNEQU8uZ2V0VXNlcih1c2VyRnJvbUJvZHkuZW1haWwpXG4gICAgICBpZiAoIXVzZXJGcm9tREIpIHtcbiAgICAgICAgZXJyb3JzLmdlbmVyYWwgPSBcIkludGVybmFsIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCJcbiAgICAgIH1cblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoID4gMCkge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbihlcnJvcnMpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIodXNlckZyb21EQilcblxuICAgICAgcmVzLmpzb24oe1xuICAgICAgICBhdXRoX3Rva2VuOiB1c2VyLmVuY29kZWQoKSxcbiAgICAgICAgaW5mbzogdXNlci50b0pzb24oKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZSB9KVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBsb2dpbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHlcbiAgICAgIGlmICghZW1haWwgfHwgdHlwZW9mIGVtYWlsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiQmFkIGVtYWlsIGZvcm1hdCwgZXhwZWN0ZWQgc3RyaW5nLlwiIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKCFwYXNzd29yZCB8fCB0eXBlb2YgcGFzc3dvcmQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJCYWQgcGFzc3dvcmQgZm9ybWF0LCBleHBlY3RlZCBzdHJpbmcuXCIgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBsZXQgdXNlckRhdGEgPSBhd2FpdCBVc2Vyc0RBTy5nZXRVc2VyKGVtYWlsKVxuICAgICAgaWYgKCF1c2VyRGF0YSkge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiBcIk1ha2Ugc3VyZSB5b3VyIGVtYWlsIGlzIGNvcnJlY3QuXCIgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIodXNlckRhdGEpXG5cbiAgICAgIGlmICghKGF3YWl0IHVzZXIuY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkKSkpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogXCJNYWtlIHN1cmUgeW91ciBwYXNzd29yZCBpcyBjb3JyZWN0LlwiIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBsb2dpblJlc3BvbnNlID0gYXdhaXQgVXNlcnNEQU8ubG9naW5Vc2VyKHVzZXIuZW1haWwsIHVzZXIuZW5jb2RlZCgpKVxuICAgICAgaWYgKCFsb2dpblJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogbG9naW5SZXNwb25zZS5lcnJvciB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHJlcy5qc29uKHsgYXV0aF90b2tlbjogdXNlci5lbmNvZGVkKCksIGluZm86IHVzZXIudG9Kc29uKCkgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgbG9nb3V0KHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyT2JqID0gYXdhaXQgVXNlci5kZWNvZGVkKHVzZXJKd3QpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gdXNlck9ialxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3IgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBsb2dvdXRSZXN1bHQgPSBhd2FpdCBVc2Vyc0RBTy5sb2dvdXRVc2VyKHVzZXJPYmouZW1haWwpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gbG9nb3V0UmVzdWx0XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvciB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHJlcy5qc29uKGxvZ291dFJlc3VsdClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGUocmVxLCByZXMpIHtcbiAgICB0cnkge1xuICAgICAgbGV0IHsgcGFzc3dvcmQgfSA9IHJlcS5ib2R5XG4gICAgICBpZiAoIXBhc3N3b3JkIHx8IHR5cGVvZiBwYXNzd29yZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBcIkJhZCBwYXNzd29yZCBmb3JtYXQsIGV4cGVjdGVkIHN0cmluZy5cIiB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyQ2xhaW0gPSBhd2FpdCBVc2VyLmRlY29kZWQodXNlckp3dClcbiAgICAgIHZhciB7IGVycm9yIH0gPSB1c2VyQ2xhaW1cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKGF3YWl0IFVzZXJzREFPLmdldFVzZXIodXNlckNsYWltLmVtYWlsKSlcbiAgICAgIGlmICghKGF3YWl0IHVzZXIuY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkKSkpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogXCJNYWtlIHN1cmUgeW91ciBwYXNzd29yZCBpcyBjb3JyZWN0LlwiIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgZGVsZXRlUmVzdWx0ID0gYXdhaXQgVXNlcnNEQU8uZGVsZXRlVXNlcih1c2VyQ2xhaW0uZW1haWwpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gZGVsZXRlUmVzdWx0XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvciB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHJlcy5qc29uKGRlbGV0ZVJlc3VsdClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBzYXZlKHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyRnJvbUhlYWRlciA9IGF3YWl0IFVzZXIuZGVjb2RlZCh1c2VySnd0KVxuICAgICAgdmFyIHsgZXJyb3IgfSA9IHVzZXJGcm9tSGVhZGVyXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvciB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgYXdhaXQgVXNlcnNEQU8udXBkYXRlUHJlZmVyZW5jZXMoXG4gICAgICAgIHVzZXJGcm9tSGVhZGVyLmVtYWlsLFxuICAgICAgICByZXEuYm9keS5wcmVmZXJlbmNlcyxcbiAgICAgIClcbiAgICAgIGNvbnN0IHVzZXJGcm9tREIgPSBhd2FpdCBVc2Vyc0RBTy5nZXRVc2VyKHVzZXJGcm9tSGVhZGVyLmVtYWlsKVxuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBuZXcgVXNlcih1c2VyRnJvbURCKVxuXG4gICAgICByZXMuanNvbih7XG4gICAgICAgIGF1dGhfdG9rZW46IHVwZGF0ZWRVc2VyLmVuY29kZWQoKSxcbiAgICAgICAgaW5mbzogdXBkYXRlZFVzZXIudG9Kc29uKCksXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGUpXG4gICAgfVxuICB9XG5cbiAgLy8gZm9yIGludGVybmFsIHVzZSBvbmx5XG4gIHN0YXRpYyBhc3luYyBjcmVhdGVBZG1pblVzZXIocmVxLCByZXMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlckZyb21Cb2R5ID0gcmVxLmJvZHlcbiAgICAgIGxldCBlcnJvcnMgPSB7fVxuICAgICAgaWYgKHVzZXJGcm9tQm9keSAmJiB1c2VyRnJvbUJvZHkucGFzc3dvcmQubGVuZ3RoIDwgOCkge1xuICAgICAgICBlcnJvcnMucGFzc3dvcmQgPSBcIllvdXIgcGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMuXCJcbiAgICAgIH1cbiAgICAgIGlmICh1c2VyRnJvbUJvZHkgJiYgdXNlckZyb21Cb2R5Lm5hbWUubGVuZ3RoIDwgMykge1xuICAgICAgICBlcnJvcnMubmFtZSA9IFwiWW91IG11c3Qgc3BlY2lmeSBhIG5hbWUgb2YgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzLlwiXG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oZXJyb3JzKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgdXNlckluZm8gPSB7XG4gICAgICAgIC4uLnVzZXJGcm9tQm9keSxcbiAgICAgICAgcGFzc3dvcmQ6IGF3YWl0IGhhc2hQYXNzd29yZCh1c2VyRnJvbUJvZHkucGFzc3dvcmQpLFxuICAgICAgfVxuXG4gICAgICBjb25zdCBpbnNlcnRSZXN1bHQgPSBhd2FpdCBVc2Vyc0RBTy5hZGRVc2VyKHVzZXJJbmZvKVxuICAgICAgaWYgKCFpbnNlcnRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBlcnJvcnMuZW1haWwgPSBpbnNlcnRSZXN1bHQuZXJyb3JcbiAgICAgIH1cblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoID4gMCkge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbihlcnJvcnMpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBtYWtlQWRtaW5SZXNwb25zZSA9IGF3YWl0IFVzZXJzREFPLm1ha2VBZG1pbih1c2VyRnJvbUJvZHkuZW1haWwpXG5cbiAgICAgIGNvbnN0IHVzZXJGcm9tREIgPSBhd2FpdCBVc2Vyc0RBTy5nZXRVc2VyKHVzZXJGcm9tQm9keS5lbWFpbClcbiAgICAgIGlmICghdXNlckZyb21EQikge1xuICAgICAgICBlcnJvcnMuZ2VuZXJhbCA9IFwiSW50ZXJuYWwgZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXJcIlxuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKGVycm9ycylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih1c2VyRnJvbURCKVxuICAgICAgY29uc3Qgand0ID0gdXNlci5lbmNvZGVkKClcbiAgICAgIGNvbnN0IGxvZ2luUmVzcG9uc2UgPSBhd2FpdCBVc2Vyc0RBTy5sb2dpblVzZXIodXNlci5lbWFpbCwgand0KVxuXG4gICAgICByZXMuanNvbih7XG4gICAgICAgIGF1dGhfdG9rZW46IGp3dCxcbiAgICAgICAgaW5mbzogdXNlci50b0pzb24oKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZSlcbiAgICB9XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "users.controller.js"
      ],
      "names": [
        "hashPassword",
        "password",
        "bcrypt",
        "hash",
        "User",
        "name",
        "email",
        "preferences",
        "plainText",
        "compare",
        "jwt",
        "sign",
        "exp",
        "Math",
        "floor",
        "Date",
        "now",
        "toJson",
        "process",
        "env",
        "SECRET_KEY",
        "userJwt",
        "verify",
        "error",
        "res",
        "UserController",
        "req",
        "userFromBody",
        "body",
        "errors",
        "length",
        "Object",
        "keys",
        "status",
        "json",
        "userInfo",
        "UsersDAO",
        "addUser",
        "insertResult",
        "success",
        "getUser",
        "userFromDB",
        "general",
        "user",
        "auth_token",
        "encoded",
        "info",
        "next",
        "userData",
        "comparePassword",
        "loginUser",
        "loginResponse",
        "get",
        "slice",
        "decoded",
        "userObj",
        "logoutUser",
        "logoutResult",
        "userClaim",
        "deleteUser",
        "deleteResult",
        "userFromHeader",
        "updatePreferences",
        "updatedUser",
        "makeAdmin",
        "makeAdminResponse"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "sourcesContent": [
        "import bcrypt from \"bcryptjs\"\nimport jwt from \"jsonwebtoken\"\nimport UsersDAO from \"../dao/usersDAO\"\n\nconst hashPassword = async password => await bcrypt.hash(password, 10)\n\nexport class User {\n  constructor({ name, email, password, preferences = {} } = {}) {\n    this.name = name\n    this.email = email\n    this.password = password\n    this.preferences = preferences\n  }\n  toJson() {\n    return { name: this.name, email: this.email, preferences: this.preferences }\n  }\n  async comparePassword(plainText) {\n    return await bcrypt.compare(plainText, this.password)\n  }\n  encoded() {\n    return jwt.sign(\n      {\n        exp: Math.floor(Date.now() / 1000) + 60 * 60 * 4,\n        ...this.toJson(),\n      },\n      process.env.SECRET_KEY,\n    )\n  }\n  static async decoded(userJwt) {\n    return jwt.verify(userJwt, process.env.SECRET_KEY, (error, res) => {\n      if (error) {\n        return { error }\n      }\n      return new User(res)\n    })\n  }\n}\n\nexport default class UserController {\n  static async register(req, res) {\n    try {\n      const userFromBody = req.body\n      let errors = {}\n      if (userFromBody && userFromBody.password.length < 8) {\n        errors.password = \"Your password must be at least 8 characters.\"\n      }\n      if (userFromBody && userFromBody.name.length < 3) {\n        errors.name = \"You must specify a name of at least 3 characters.\"\n      }\n\n      if (Object.keys(errors).length > 0) {\n        res.status(400).json(errors)\n        return\n      }\n\n      const userInfo = {\n        ...userFromBody,\n        password: await hashPassword(userFromBody.password),\n      }\n\n      const insertResult = await UsersDAO.addUser(userInfo)\n      if (!insertResult.success) {\n        errors.email = insertResult.error\n      }\n      const userFromDB = await UsersDAO.getUser(userFromBody.email)\n      if (!userFromDB) {\n        errors.general = \"Internal error, please try again later\"\n      }\n\n      if (Object.keys(errors).length > 0) {\n        res.status(400).json(errors)\n        return\n      }\n\n      const user = new User(userFromDB)\n\n      res.json({\n        auth_token: user.encoded(),\n        info: user.toJson(),\n      })\n    } catch (e) {\n      res.status(500).json({ error: e })\n    }\n  }\n\n  static async login(req, res, next) {\n    try {\n      const { email, password } = req.body\n      if (!email || typeof email !== \"string\") {\n        res.status(400).json({ error: \"Bad email format, expected string.\" })\n        return\n      }\n      if (!password || typeof password !== \"string\") {\n        res.status(400).json({ error: \"Bad password format, expected string.\" })\n        return\n      }\n      let userData = await UsersDAO.getUser(email)\n      if (!userData) {\n        res.status(401).json({ error: \"Make sure your email is correct.\" })\n        return\n      }\n      const user = new User(userData)\n\n      if (!(await user.comparePassword(password))) {\n        res.status(401).json({ error: \"Make sure your password is correct.\" })\n        return\n      }\n\n      const loginResponse = await UsersDAO.loginUser(user.email, user.encoded())\n      if (!loginResponse.success) {\n        res.status(500).json({ error: loginResponse.error })\n        return\n      }\n      res.json({ auth_token: user.encoded(), info: user.toJson() })\n    } catch (e) {\n      res.status(400).json({ error: e })\n      return\n    }\n  }\n\n  static async logout(req, res) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const userObj = await User.decoded(userJwt)\n      var { error } = userObj\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n      const logoutResult = await UsersDAO.logoutUser(userObj.email)\n      var { error } = logoutResult\n      if (error) {\n        res.status(500).json({ error })\n        return\n      }\n      res.json(logoutResult)\n    } catch (e) {\n      res.status(500).json(e)\n    }\n  }\n\n  static async delete(req, res) {\n    try {\n      let { password } = req.body\n      if (!password || typeof password !== \"string\") {\n        res.status(400).json({ error: \"Bad password format, expected string.\" })\n        return\n      }\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const userClaim = await User.decoded(userJwt)\n      var { error } = userClaim\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n      const user = new User(await UsersDAO.getUser(userClaim.email))\n      if (!(await user.comparePassword(password))) {\n        res.status(401).json({ error: \"Make sure your password is correct.\" })\n        return\n      }\n      const deleteResult = await UsersDAO.deleteUser(userClaim.email)\n      var { error } = deleteResult\n      if (error) {\n        res.status(500).json({ error })\n        return\n      }\n      res.json(deleteResult)\n    } catch (e) {\n      res.status(500).json(e)\n    }\n  }\n\n  static async save(req, res) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const userFromHeader = await User.decoded(userJwt)\n      var { error } = userFromHeader\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n\n      await UsersDAO.updatePreferences(\n        userFromHeader.email,\n        req.body.preferences,\n      )\n      const userFromDB = await UsersDAO.getUser(userFromHeader.email)\n      const updatedUser = new User(userFromDB)\n\n      res.json({\n        auth_token: updatedUser.encoded(),\n        info: updatedUser.toJson(),\n      })\n    } catch (e) {\n      res.status(500).json(e)\n    }\n  }\n\n  // for internal use only\n  static async createAdminUser(req, res) {\n    try {\n      const userFromBody = req.body\n      let errors = {}\n      if (userFromBody && userFromBody.password.length < 8) {\n        errors.password = \"Your password must be at least 8 characters.\"\n      }\n      if (userFromBody && userFromBody.name.length < 3) {\n        errors.name = \"You must specify a name of at least 3 characters.\"\n      }\n\n      if (Object.keys(errors).length > 0) {\n        res.status(400).json(errors)\n        return\n      }\n\n      const userInfo = {\n        ...userFromBody,\n        password: await hashPassword(userFromBody.password),\n      }\n\n      const insertResult = await UsersDAO.addUser(userInfo)\n      if (!insertResult.success) {\n        errors.email = insertResult.error\n      }\n\n      if (Object.keys(errors).length > 0) {\n        res.status(400).json(errors)\n        return\n      }\n\n      const makeAdminResponse = await UsersDAO.makeAdmin(userFromBody.email)\n\n      const userFromDB = await UsersDAO.getUser(userFromBody.email)\n      if (!userFromDB) {\n        errors.general = \"Internal error, please try again later\"\n      }\n\n      if (Object.keys(errors).length > 0) {\n        res.status(400).json(errors)\n        return\n      }\n\n      const user = new User(userFromDB)\n      const jwt = user.encoded()\n      const loginResponse = await UsersDAO.loginUser(user.email, jwt)\n\n      res.json({\n        auth_token: jwt,\n        info: user.toJson(),\n      })\n    } catch (e) {\n      res.status(500).json(e)\n    }\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\users.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.route.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.route.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.route.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
        "sourceFileName": "users.route.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _users = _interopRequireDefault(require(\"./users.controller\"));\n\nvar _comments = _interopRequireDefault(require(\"./comments.controller\"));\n\nvar router = new _express.Router(); // associate put, delete, and get(id)\n\nrouter.route(\"/register\").post(_users[\"default\"].register);\nrouter.route(\"/login\").post(_users[\"default\"].login);\nrouter.route(\"/logout\").post(_users[\"default\"].logout);\nrouter.route(\"/delete\")[\"delete\"](_users[\"default\"][\"delete\"]);\nrouter.route(\"/update-preferences\").put(_users[\"default\"].save);\nrouter.route(\"/comment-report\").get(_comments[\"default\"].apiCommentReport);\nrouter.route(\"/make-admin\").post(_users[\"default\"].createAdminUser);\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLnJvdXRlLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInJvdXRlIiwicG9zdCIsInVzZXJzQ3RybCIsInJlZ2lzdGVyIiwibG9naW4iLCJsb2dvdXQiLCJwdXQiLCJzYXZlIiwiZ2V0IiwiY29tbWVudHNDdHJsIiwiYXBpQ29tbWVudFJlcG9ydCIsImNyZWF0ZUFkbWluVXNlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBTUEsTUFBTSxHQUFHLElBQUlDLGVBQUosRUFBZixDLENBRUE7O0FBQ0FELE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLFdBQWIsRUFBMEJDLElBQTFCLENBQStCQyxrQkFBVUMsUUFBekM7QUFDQUwsTUFBTSxDQUFDRSxLQUFQLENBQWEsUUFBYixFQUF1QkMsSUFBdkIsQ0FBNEJDLGtCQUFVRSxLQUF0QztBQUNBTixNQUFNLENBQUNFLEtBQVAsQ0FBYSxTQUFiLEVBQXdCQyxJQUF4QixDQUE2QkMsa0JBQVVHLE1BQXZDO0FBQ0FQLE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLFNBQWIsWUFBK0JFLDJCQUEvQjtBQUNBSixNQUFNLENBQUNFLEtBQVAsQ0FBYSxxQkFBYixFQUFvQ00sR0FBcEMsQ0FBd0NKLGtCQUFVSyxJQUFsRDtBQUNBVCxNQUFNLENBQUNFLEtBQVAsQ0FBYSxpQkFBYixFQUFnQ1EsR0FBaEMsQ0FBb0NDLHFCQUFhQyxnQkFBakQ7QUFDQVosTUFBTSxDQUFDRSxLQUFQLENBQWEsYUFBYixFQUE0QkMsSUFBNUIsQ0FBaUNDLGtCQUFVUyxlQUEzQztlQUVlYixNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXGFwaVxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIlxuaW1wb3J0IHVzZXJzQ3RybCBmcm9tIFwiLi91c2Vycy5jb250cm9sbGVyXCJcbmltcG9ydCBjb21tZW50c0N0cmwgZnJvbSBcIi4vY29tbWVudHMuY29udHJvbGxlclwiXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG4vLyBhc3NvY2lhdGUgcHV0LCBkZWxldGUsIGFuZCBnZXQoaWQpXG5yb3V0ZXIucm91dGUoXCIvcmVnaXN0ZXJcIikucG9zdCh1c2Vyc0N0cmwucmVnaXN0ZXIpXG5yb3V0ZXIucm91dGUoXCIvbG9naW5cIikucG9zdCh1c2Vyc0N0cmwubG9naW4pXG5yb3V0ZXIucm91dGUoXCIvbG9nb3V0XCIpLnBvc3QodXNlcnNDdHJsLmxvZ291dClcbnJvdXRlci5yb3V0ZShcIi9kZWxldGVcIikuZGVsZXRlKHVzZXJzQ3RybC5kZWxldGUpXG5yb3V0ZXIucm91dGUoXCIvdXBkYXRlLXByZWZlcmVuY2VzXCIpLnB1dCh1c2Vyc0N0cmwuc2F2ZSlcbnJvdXRlci5yb3V0ZShcIi9jb21tZW50LXJlcG9ydFwiKS5nZXQoY29tbWVudHNDdHJsLmFwaUNvbW1lbnRSZXBvcnQpXG5yb3V0ZXIucm91dGUoXCIvbWFrZS1hZG1pblwiKS5wb3N0KHVzZXJzQ3RybC5jcmVhdGVBZG1pblVzZXIpXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "users.route.js"
      ],
      "names": [
        "router",
        "Router",
        "route",
        "post",
        "usersCtrl",
        "register",
        "login",
        "logout",
        "put",
        "save",
        "get",
        "commentsCtrl",
        "apiCommentReport",
        "createAdminUser"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAIC,eAAJ,EAAf,C,CAEA;;AACAD,MAAM,CAACE,KAAP,CAAa,WAAb,EAA0BC,IAA1B,CAA+BC,kBAAUC,QAAzC;AACAL,MAAM,CAACE,KAAP,CAAa,QAAb,EAAuBC,IAAvB,CAA4BC,kBAAUE,KAAtC;AACAN,MAAM,CAACE,KAAP,CAAa,SAAb,EAAwBC,IAAxB,CAA6BC,kBAAUG,MAAvC;AACAP,MAAM,CAACE,KAAP,CAAa,SAAb,YAA+BE,2BAA/B;AACAJ,MAAM,CAACE,KAAP,CAAa,qBAAb,EAAoCM,GAApC,CAAwCJ,kBAAUK,IAAlD;AACAT,MAAM,CAACE,KAAP,CAAa,iBAAb,EAAgCQ,GAAhC,CAAoCC,qBAAaC,gBAAjD;AACAZ,MAAM,CAACE,KAAP,CAAa,aAAb,EAA4BC,IAA5B,CAAiCC,kBAAUS,eAA3C;eAEeb,M",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "sourcesContent": [
        "import { Router } from \"express\"\nimport usersCtrl from \"./users.controller\"\nimport commentsCtrl from \"./comments.controller\"\n\nconst router = new Router()\n\n// associate put, delete, and get(id)\nrouter.route(\"/register\").post(usersCtrl.register)\nrouter.route(\"/login\").post(usersCtrl.login)\nrouter.route(\"/logout\").post(usersCtrl.logout)\nrouter.route(\"/delete\").delete(usersCtrl.delete)\nrouter.route(\"/update-preferences\").put(usersCtrl.save)\nrouter.route(\"/comment-report\").get(commentsCtrl.apiCommentReport)\nrouter.route(\"/make-admin\").post(usersCtrl.createAdminUser)\n\nexport default router\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\server.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _movies = _interopRequireDefault(require(\"../src/api/movies.route\"));\n\nvar _users = _interopRequireDefault(require(\"../src/api/users.route\"));\n\nvar app = (0, _express[\"default\"])();\napp.use((0, _cors[\"default\"])());\nprocess.env.NODE_ENV !== \"prod\" && app.use((0, _morgan[\"default\"])(\"dev\"));\napp.use(_bodyParser[\"default\"].json());\napp.use(_bodyParser[\"default\"].urlencoded({\n  extended: true\n})); // Register api routes\n\napp.use(\"/api/v1/movies\", _movies[\"default\"]);\napp.use(\"/api/v1/user\", _users[\"default\"]);\napp.use(\"/status\", _express[\"default\"][\"static\"](\"build\"));\napp.use(\"/\", _express[\"default\"][\"static\"](\"build\"));\napp.use(\"*\", function (req, res) {\n  return res.status(404).json({\n    error: \"not found\"\n  });\n});\nvar _default = app;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJib2R5UGFyc2VyIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsIm1vdmllcyIsInVzZXJzIiwiZXhwcmVzcyIsInJlcSIsInJlcyIsInN0YXR1cyIsImVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxHQUFHLEdBQUcsMEJBQVo7QUFFQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsdUJBQVI7QUFDQUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsTUFBekIsSUFBbUNKLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLHdCQUFPLEtBQVAsQ0FBUixDQUFuQztBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUUksdUJBQVdDLElBQVgsRUFBUjtBQUNBTixHQUFHLENBQUNDLEdBQUosQ0FBUUksdUJBQVdFLFVBQVgsQ0FBc0I7QUFBRUMsRUFBQUEsUUFBUSxFQUFFO0FBQVosQ0FBdEIsQ0FBUixFLENBRUE7O0FBQ0FSLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGdCQUFSLEVBQTBCUSxrQkFBMUI7QUFDQVQsR0FBRyxDQUFDQyxHQUFKLENBQVEsY0FBUixFQUF3QlMsaUJBQXhCO0FBQ0FWLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUJVLDhCQUFlLE9BQWYsQ0FBbkI7QUFDQVgsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhVSw4QkFBZSxPQUFmLENBQWI7QUFDQVgsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhLFVBQUNXLEdBQUQsRUFBTUMsR0FBTjtBQUFBLFNBQWNBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JSLElBQWhCLENBQXFCO0FBQUVTLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQXJCLENBQWQ7QUFBQSxDQUFiO2VBRWVmLEciLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxOYWRhdiBTaGVyZlxcbWZsaXgtanNcXHNyY1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCJcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCJcbmltcG9ydCBtb3JnYW4gZnJvbSBcIm1vcmdhblwiXG5pbXBvcnQgbW92aWVzIGZyb20gXCIuLi9zcmMvYXBpL21vdmllcy5yb3V0ZVwiXG5pbXBvcnQgdXNlcnMgZnJvbSBcIi4uL3NyYy9hcGkvdXNlcnMucm91dGVcIlxuXG5jb25zdCBhcHAgPSBleHByZXNzKClcblxuYXBwLnVzZShjb3JzKCkpXG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kXCIgJiYgYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSlcblxuLy8gUmVnaXN0ZXIgYXBpIHJvdXRlc1xuYXBwLnVzZShcIi9hcGkvdjEvbW92aWVzXCIsIG1vdmllcylcbmFwcC51c2UoXCIvYXBpL3YxL3VzZXJcIiwgdXNlcnMpXG5hcHAudXNlKFwiL3N0YXR1c1wiLCBleHByZXNzLnN0YXRpYyhcImJ1aWxkXCIpKVxuYXBwLnVzZShcIi9cIiwgZXhwcmVzcy5zdGF0aWMoXCJidWlsZFwiKSlcbmFwcC51c2UoXCIqXCIsIChyZXEsIHJlcykgPT4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogXCJub3QgZm91bmRcIiB9KSlcblxuZXhwb3J0IGRlZmF1bHQgYXBwXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "app",
        "use",
        "process",
        "env",
        "NODE_ENV",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "movies",
        "users",
        "express",
        "req",
        "res",
        "status",
        "error"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,uBAAR;AACAC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,IAAmCJ,GAAG,CAACC,GAAJ,CAAQ,wBAAO,KAAP,CAAR,CAAnC;AACAD,GAAG,CAACC,GAAJ,CAAQI,uBAAWC,IAAX,EAAR;AACAN,GAAG,CAACC,GAAJ,CAAQI,uBAAWE,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR,E,CAEA;;AACAR,GAAG,CAACC,GAAJ,CAAQ,gBAAR,EAA0BQ,kBAA1B;AACAT,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBS,iBAAxB;AACAV,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBU,8BAAe,OAAf,CAAnB;AACAX,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaU,8BAAe,OAAf,CAAb;AACAX,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,UAACW,GAAD,EAAMC,GAAN;AAAA,SAAcA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBR,IAAhB,CAAqB;AAAES,IAAAA,KAAK,EAAE;AAAT,GAArB,CAAd;AAAA,CAAb;eAEef,G",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\",
      "sourcesContent": [
        "import express from \"express\"\nimport bodyParser from \"body-parser\"\nimport cors from \"cors\"\nimport morgan from \"morgan\"\nimport movies from \"../src/api/movies.route\"\nimport users from \"../src/api/users.route\"\n\nconst app = express()\n\napp.use(cors())\nprocess.env.NODE_ENV !== \"prod\" && app.use(morgan(\"dev\"))\napp.use(bodyParser.json())\napp.use(bodyParser.urlencoded({ extended: true }))\n\n// Register api routes\napp.use(\"/api/v1/movies\", movies)\napp.use(\"/api/v1/user\", users)\napp.use(\"/status\", express.static(\"build\"))\napp.use(\"/\", express.static(\"build\"))\napp.use(\"*\", (req, res) => res.status(404).json({ error: \"not found\" }))\n\nexport default app\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\movies.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.route.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.route.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.route.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
        "sourceFileName": "movies.route.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _movies = _interopRequireDefault(require(\"./movies.controller\"));\n\nvar _comments = _interopRequireDefault(require(\"./comments.controller\"));\n\nvar router = new _express.Router(); // associate put, delete, and get(id)\n\nrouter.route(\"/\").get(_movies[\"default\"].apiGetMovies);\nrouter.route(\"/search\").get(_movies[\"default\"].apiSearchMovies);\nrouter.route(\"/countries\").get(_movies[\"default\"].apiGetMoviesByCountry);\nrouter.route(\"/facet-search\").get(_movies[\"default\"].apiFacetedSearch);\nrouter.route(\"/id/:id\").get(_movies[\"default\"].apiGetMovieById);\nrouter.route(\"/config-options\").get(_movies[\"default\"].getConfig);\nrouter.route(\"/comment\").post(_comments[\"default\"].apiPostComment).put(_comments[\"default\"].apiUpdateComment)[\"delete\"](_comments[\"default\"].apiDeleteComment);\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdmllcy5yb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJyb3V0ZSIsImdldCIsIk1vdmllc0N0cmwiLCJhcGlHZXRNb3ZpZXMiLCJhcGlTZWFyY2hNb3ZpZXMiLCJhcGlHZXRNb3ZpZXNCeUNvdW50cnkiLCJhcGlGYWNldGVkU2VhcmNoIiwiYXBpR2V0TW92aWVCeUlkIiwiZ2V0Q29uZmlnIiwicG9zdCIsIkNvbW1lbnRzQ3RybCIsImFwaVBvc3RDb21tZW50IiwicHV0IiwiYXBpVXBkYXRlQ29tbWVudCIsImFwaURlbGV0ZUNvbW1lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBLElBQU1BLE1BQU0sR0FBRyxJQUFJQyxlQUFKLEVBQWYsQyxDQUVBOztBQUNBRCxNQUFNLENBQUNFLEtBQVAsQ0FBYSxHQUFiLEVBQWtCQyxHQUFsQixDQUFzQkMsbUJBQVdDLFlBQWpDO0FBQ0FMLE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLFNBQWIsRUFBd0JDLEdBQXhCLENBQTRCQyxtQkFBV0UsZUFBdkM7QUFDQU4sTUFBTSxDQUFDRSxLQUFQLENBQWEsWUFBYixFQUEyQkMsR0FBM0IsQ0FBK0JDLG1CQUFXRyxxQkFBMUM7QUFDQVAsTUFBTSxDQUFDRSxLQUFQLENBQWEsZUFBYixFQUE4QkMsR0FBOUIsQ0FBa0NDLG1CQUFXSSxnQkFBN0M7QUFDQVIsTUFBTSxDQUFDRSxLQUFQLENBQWEsU0FBYixFQUF3QkMsR0FBeEIsQ0FBNEJDLG1CQUFXSyxlQUF2QztBQUNBVCxNQUFNLENBQUNFLEtBQVAsQ0FBYSxpQkFBYixFQUFnQ0MsR0FBaEMsQ0FBb0NDLG1CQUFXTSxTQUEvQztBQUVBVixNQUFNLENBQ0hFLEtBREgsQ0FDUyxVQURULEVBRUdTLElBRkgsQ0FFUUMscUJBQWFDLGNBRnJCLEVBR0dDLEdBSEgsQ0FHT0YscUJBQWFHLGdCQUhwQixZQUlVSCxxQkFBYUksZ0JBSnZCO2VBTWVoQixNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXGFwaVxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIlxuaW1wb3J0IE1vdmllc0N0cmwgZnJvbSBcIi4vbW92aWVzLmNvbnRyb2xsZXJcIlxuaW1wb3J0IENvbW1lbnRzQ3RybCBmcm9tIFwiLi9jb21tZW50cy5jb250cm9sbGVyXCJcblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXG5cbi8vIGFzc29jaWF0ZSBwdXQsIGRlbGV0ZSwgYW5kIGdldChpZClcbnJvdXRlci5yb3V0ZShcIi9cIikuZ2V0KE1vdmllc0N0cmwuYXBpR2V0TW92aWVzKVxucm91dGVyLnJvdXRlKFwiL3NlYXJjaFwiKS5nZXQoTW92aWVzQ3RybC5hcGlTZWFyY2hNb3ZpZXMpXG5yb3V0ZXIucm91dGUoXCIvY291bnRyaWVzXCIpLmdldChNb3ZpZXNDdHJsLmFwaUdldE1vdmllc0J5Q291bnRyeSlcbnJvdXRlci5yb3V0ZShcIi9mYWNldC1zZWFyY2hcIikuZ2V0KE1vdmllc0N0cmwuYXBpRmFjZXRlZFNlYXJjaClcbnJvdXRlci5yb3V0ZShcIi9pZC86aWRcIikuZ2V0KE1vdmllc0N0cmwuYXBpR2V0TW92aWVCeUlkKVxucm91dGVyLnJvdXRlKFwiL2NvbmZpZy1vcHRpb25zXCIpLmdldChNb3ZpZXNDdHJsLmdldENvbmZpZylcblxucm91dGVyXG4gIC5yb3V0ZShcIi9jb21tZW50XCIpXG4gIC5wb3N0KENvbW1lbnRzQ3RybC5hcGlQb3N0Q29tbWVudClcbiAgLnB1dChDb21tZW50c0N0cmwuYXBpVXBkYXRlQ29tbWVudClcbiAgLmRlbGV0ZShDb21tZW50c0N0cmwuYXBpRGVsZXRlQ29tbWVudClcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "movies.route.js"
      ],
      "names": [
        "router",
        "Router",
        "route",
        "get",
        "MoviesCtrl",
        "apiGetMovies",
        "apiSearchMovies",
        "apiGetMoviesByCountry",
        "apiFacetedSearch",
        "apiGetMovieById",
        "getConfig",
        "post",
        "CommentsCtrl",
        "apiPostComment",
        "put",
        "apiUpdateComment",
        "apiDeleteComment"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAIC,eAAJ,EAAf,C,CAEA;;AACAD,MAAM,CAACE,KAAP,CAAa,GAAb,EAAkBC,GAAlB,CAAsBC,mBAAWC,YAAjC;AACAL,MAAM,CAACE,KAAP,CAAa,SAAb,EAAwBC,GAAxB,CAA4BC,mBAAWE,eAAvC;AACAN,MAAM,CAACE,KAAP,CAAa,YAAb,EAA2BC,GAA3B,CAA+BC,mBAAWG,qBAA1C;AACAP,MAAM,CAACE,KAAP,CAAa,eAAb,EAA8BC,GAA9B,CAAkCC,mBAAWI,gBAA7C;AACAR,MAAM,CAACE,KAAP,CAAa,SAAb,EAAwBC,GAAxB,CAA4BC,mBAAWK,eAAvC;AACAT,MAAM,CAACE,KAAP,CAAa,iBAAb,EAAgCC,GAAhC,CAAoCC,mBAAWM,SAA/C;AAEAV,MAAM,CACHE,KADH,CACS,UADT,EAEGS,IAFH,CAEQC,qBAAaC,cAFrB,EAGGC,GAHH,CAGOF,qBAAaG,gBAHpB,YAIUH,qBAAaI,gBAJvB;eAMehB,M",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "sourcesContent": [
        "import { Router } from \"express\"\nimport MoviesCtrl from \"./movies.controller\"\nimport CommentsCtrl from \"./comments.controller\"\n\nconst router = new Router()\n\n// associate put, delete, and get(id)\nrouter.route(\"/\").get(MoviesCtrl.apiGetMovies)\nrouter.route(\"/search\").get(MoviesCtrl.apiSearchMovies)\nrouter.route(\"/countries\").get(MoviesCtrl.apiGetMoviesByCountry)\nrouter.route(\"/facet-search\").get(MoviesCtrl.apiFacetedSearch)\nrouter.route(\"/id/:id\").get(MoviesCtrl.apiGetMovieById)\nrouter.route(\"/config-options\").get(MoviesCtrl.getConfig)\n\nrouter\n  .route(\"/comment\")\n  .post(CommentsCtrl.apiPostComment)\n  .put(CommentsCtrl.apiUpdateComment)\n  .delete(CommentsCtrl.apiDeleteComment)\n\nexport default router\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\movies.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.controller.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.controller.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\movies.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
        "sourceFileName": "movies.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _moviesDAO = _interopRequireDefault(require(\"../dao/moviesDAO\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar MoviesController = /*#__PURE__*/function () {\n  function MoviesController() {\n    (0, _classCallCheck2[\"default\"])(this, MoviesController);\n  }\n\n  (0, _createClass2[\"default\"])(MoviesController, null, [{\n    key: \"apiGetMovies\",\n    value: function () {\n      var _apiGetMovies = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n        var MOVIES_PER_PAGE, _yield$MoviesDAO$getM, moviesList, totalNumMovies, response;\n\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                MOVIES_PER_PAGE = 20;\n                _context.next = 3;\n                return _moviesDAO[\"default\"].getMovies();\n\n              case 3:\n                _yield$MoviesDAO$getM = _context.sent;\n                moviesList = _yield$MoviesDAO$getM.moviesList;\n                totalNumMovies = _yield$MoviesDAO$getM.totalNumMovies;\n                response = {\n                  movies: moviesList,\n                  page: 0,\n                  filters: {},\n                  entries_per_page: MOVIES_PER_PAGE,\n                  total_results: totalNumMovies\n                };\n                res.json(response);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function apiGetMovies(_x, _x2, _x3) {\n        return _apiGetMovies.apply(this, arguments);\n      }\n\n      return apiGetMovies;\n    }()\n  }, {\n    key: \"apiGetMoviesByCountry\",\n    value: function () {\n      var _apiGetMoviesByCountry = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res, next) {\n        var countries, countryList, moviesList, response;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                countries = req.query.countries == \"\" ? \"USA\" : req.query.countries;\n                countryList = Array.isArray(countries) ? countries : Array(countries);\n                _context2.next = 4;\n                return _moviesDAO[\"default\"].getMoviesByCountry(countryList);\n\n              case 4:\n                moviesList = _context2.sent;\n                response = {\n                  titles: moviesList\n                };\n                res.json(response);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function apiGetMoviesByCountry(_x4, _x5, _x6) {\n        return _apiGetMoviesByCountry.apply(this, arguments);\n      }\n\n      return apiGetMoviesByCountry;\n    }()\n  }, {\n    key: \"apiGetMovieById\",\n    value: function () {\n      var _apiGetMovieById = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res, next) {\n        var id, movie, updated_type;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                id = req.params.id || {};\n                _context3.next = 4;\n                return _moviesDAO[\"default\"].getMovieByID(id);\n\n              case 4:\n                movie = _context3.sent;\n\n                if (movie) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                res.status(404).json({\n                  error: \"Not found\"\n                });\n                return _context3.abrupt(\"return\");\n\n              case 8:\n                updated_type = movie.lastupdated instanceof Date ? \"Date\" : \"other\";\n                res.json({\n                  movie: movie,\n                  updated_type: updated_type\n                });\n                _context3.next = 16;\n                break;\n\n              case 12:\n                _context3.prev = 12;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.log(\"api, \".concat(_context3.t0));\n                res.status(500).json({\n                  error: _context3.t0\n                });\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 12]]);\n      }));\n\n      function apiGetMovieById(_x7, _x8, _x9) {\n        return _apiGetMovieById.apply(this, arguments);\n      }\n\n      return apiGetMovieById;\n    }()\n  }, {\n    key: \"apiSearchMovies\",\n    value: function () {\n      var _apiSearchMovies = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res, next) {\n        var MOVIES_PER_PAGE, page, searchType, filters, _yield$MoviesDAO$getM2, moviesList, totalNumMovies, response;\n\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                MOVIES_PER_PAGE = 20;\n\n                try {\n                  page = req.query.page ? parseInt(req.query.page, 10) : 0;\n                } catch (e) {\n                  console.error(\"Got bad value for page:, \".concat(e));\n                  page = 0;\n                }\n\n                try {\n                  searchType = Object.keys(req.query)[0];\n                } catch (e) {\n                  console.error(\"No search keys specified: \".concat(e));\n                }\n\n                filters = {};\n                _context4.t0 = searchType;\n                _context4.next = _context4.t0 === \"genre\" ? 7 : _context4.t0 === \"cast\" ? 9 : _context4.t0 === \"text\" ? 11 : 13;\n                break;\n\n              case 7:\n                if (req.query.genre !== \"\") {\n                  filters.genre = req.query.genre;\n                }\n\n                return _context4.abrupt(\"break\", 13);\n\n              case 9:\n                if (req.query.cast !== \"\") {\n                  filters.cast = req.query.cast;\n                }\n\n                return _context4.abrupt(\"break\", 13);\n\n              case 11:\n                if (req.query.text !== \"\") {\n                  filters.text = req.query.text;\n                }\n\n                return _context4.abrupt(\"break\", 13);\n\n              case 13:\n                _context4.next = 15;\n                return _moviesDAO[\"default\"].getMovies({\n                  filters: filters,\n                  page: page,\n                  MOVIES_PER_PAGE: MOVIES_PER_PAGE\n                });\n\n              case 15:\n                _yield$MoviesDAO$getM2 = _context4.sent;\n                moviesList = _yield$MoviesDAO$getM2.moviesList;\n                totalNumMovies = _yield$MoviesDAO$getM2.totalNumMovies;\n                response = {\n                  movies: moviesList,\n                  page: page,\n                  filters: filters,\n                  entries_per_page: MOVIES_PER_PAGE,\n                  total_results: totalNumMovies\n                };\n                res.json(response);\n\n              case 20:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function apiSearchMovies(_x10, _x11, _x12) {\n        return _apiSearchMovies.apply(this, arguments);\n      }\n\n      return apiSearchMovies;\n    }()\n  }, {\n    key: \"apiFacetedSearch\",\n    value: function () {\n      var _apiFacetedSearch = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res, next) {\n        var MOVIES_PER_PAGE, page, filters, facetedSearchResult, response;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                MOVIES_PER_PAGE = 20;\n\n                try {\n                  page = req.query.page ? parseInt(req.query.page, 10) : 0;\n                } catch (e) {\n                  console.error(\"Got bad value for page, defaulting to 0: \".concat(e));\n                  page = 0;\n                }\n\n                filters = {};\n                filters = req.query.cast !== \"\" ? {\n                  cast: new RegExp(req.query.cast, \"i\")\n                } : {\n                  cast: \"Tom Hanks\"\n                };\n                _context5.next = 6;\n                return _moviesDAO[\"default\"].facetedSearch({\n                  filters: filters,\n                  page: page,\n                  MOVIES_PER_PAGE: MOVIES_PER_PAGE\n                });\n\n              case 6:\n                facetedSearchResult = _context5.sent;\n                response = {\n                  movies: facetedSearchResult.movies,\n                  facets: {\n                    runtime: facetedSearchResult.runtime,\n                    rating: facetedSearchResult.rating\n                  },\n                  page: page,\n                  filters: filters,\n                  entries_per_page: MOVIES_PER_PAGE,\n                  total_results: facetedSearchResult.count\n                };\n                res.json(response);\n\n              case 9:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function apiFacetedSearch(_x13, _x14, _x15) {\n        return _apiFacetedSearch.apply(this, arguments);\n      }\n\n      return apiFacetedSearch;\n    }()\n  }, {\n    key: \"getConfig\",\n    value: function () {\n      var _getConfig = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res, next) {\n        var _yield$MoviesDAO$getC, poolSize, wtimeout, authInfo, response;\n\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return _moviesDAO[\"default\"].getConfiguration();\n\n              case 2:\n                _yield$MoviesDAO$getC = _context6.sent;\n                poolSize = _yield$MoviesDAO$getC.poolSize;\n                wtimeout = _yield$MoviesDAO$getC.wtimeout;\n                authInfo = _yield$MoviesDAO$getC.authInfo;\n\n                try {\n                  response = _objectSpread({\n                    pool_size: poolSize,\n                    wtimeout: wtimeout\n                  }, authInfo);\n                  res.json(response);\n                } catch (e) {\n                  res.status(500).json({\n                    error: e\n                  });\n                }\n\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function getConfig(_x16, _x17, _x18) {\n        return _getConfig.apply(this, arguments);\n      }\n\n      return getConfig;\n    }()\n  }]);\n  return MoviesController;\n}();\n\nexports[\"default\"] = MoviesController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdmllcy5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIk1vdmllc0NvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiTU9WSUVTX1BFUl9QQUdFIiwiTW92aWVzREFPIiwiZ2V0TW92aWVzIiwibW92aWVzTGlzdCIsInRvdGFsTnVtTW92aWVzIiwicmVzcG9uc2UiLCJtb3ZpZXMiLCJwYWdlIiwiZmlsdGVycyIsImVudHJpZXNfcGVyX3BhZ2UiLCJ0b3RhbF9yZXN1bHRzIiwianNvbiIsImNvdW50cmllcyIsInF1ZXJ5IiwiY291bnRyeUxpc3QiLCJBcnJheSIsImlzQXJyYXkiLCJnZXRNb3ZpZXNCeUNvdW50cnkiLCJ0aXRsZXMiLCJpZCIsInBhcmFtcyIsImdldE1vdmllQnlJRCIsIm1vdmllIiwic3RhdHVzIiwiZXJyb3IiLCJ1cGRhdGVkX3R5cGUiLCJsYXN0dXBkYXRlZCIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwicGFyc2VJbnQiLCJlIiwic2VhcmNoVHlwZSIsIk9iamVjdCIsImtleXMiLCJnZW5yZSIsImNhc3QiLCJ0ZXh0IiwiUmVnRXhwIiwiZmFjZXRlZFNlYXJjaCIsImZhY2V0ZWRTZWFyY2hSZXN1bHQiLCJmYWNldHMiLCJydW50aW1lIiwicmF0aW5nIiwiY291bnQiLCJnZXRDb25maWd1cmF0aW9uIiwicG9vbFNpemUiLCJ3dGltZW91dCIsImF1dGhJbmZvIiwicG9vbF9zaXplIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEsZ0I7Ozs7Ozs7O3lIQUNPQyxHLEVBQUtDLEcsRUFBS0MsSTs7Ozs7OztBQUM1QkMsZ0JBQUFBLGUsR0FBa0IsRTs7dUJBQ3FCQyxzQkFBVUMsU0FBVixFOzs7O0FBQXJDQyxnQkFBQUEsVSx5QkFBQUEsVTtBQUFZQyxnQkFBQUEsYyx5QkFBQUEsYztBQUNoQkMsZ0JBQUFBLFEsR0FBVztBQUNiQyxrQkFBQUEsTUFBTSxFQUFFSCxVQURLO0FBRWJJLGtCQUFBQSxJ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LHNCQUFVNEMsZ0JBQVYsRTs7OztBQUF2Q0MsZ0JBQUFBLFEseUJBQUFBLFE7QUFBVUMsZ0JBQUFBLFEseUJBQUFBLFE7QUFBVUMsZ0JBQUFBLFEseUJBQUFBLFE7O0FBQzVCLG9CQUFJO0FBQ0UzQyxrQkFBQUEsUUFERjtBQUVBNEMsb0JBQUFBLFNBQVMsRUFBRUgsUUFGWDtBQUdBQyxvQkFBQUEsUUFBUSxFQUFSQTtBQUhBLHFCQUlHQyxRQUpIO0FBTUZsRCxrQkFBQUEsR0FBRyxDQUFDYSxJQUFKLENBQVNOLFFBQVQ7QUFDRCxpQkFQRCxDQU9FLE9BQU8wQixDQUFQLEVBQVU7QUFDVmpDLGtCQUFBQSxHQUFHLENBQUN5QixNQUFKLENBQVcsR0FBWCxFQUFnQlosSUFBaEIsQ0FBcUI7QUFBRWEsb0JBQUFBLEtBQUssRUFBRU87QUFBVCxtQkFBckI7QUFDRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXE5hZGF2IFNoZXJmXFxtZmxpeC1qc1xcc3JjXFxhcGlcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNb3ZpZXNEQU8gZnJvbSBcIi4uL2Rhby9tb3ZpZXNEQU9cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3ZpZXNDb250cm9sbGVyIHtcbiAgc3RhdGljIGFzeW5jIGFwaUdldE1vdmllcyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IE1PVklFU19QRVJfUEFHRSA9IDIwXG4gICAgY29uc3QgeyBtb3ZpZXNMaXN0LCB0b3RhbE51bU1vdmllcyB9ID0gYXdhaXQgTW92aWVzREFPLmdldE1vdmllcygpXG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgbW92aWVzOiBtb3ZpZXNMaXN0LFxuICAgICAgcGFnZTogMCxcbiAgICAgIGZpbHRlcnM6IHt9LFxuICAgICAgZW50cmllc19wZXJfcGFnZTogTU9WSUVTX1BFUl9QQUdFLFxuICAgICAgdG90YWxfcmVzdWx0czogdG90YWxOdW1Nb3ZpZXMsXG4gICAgfVxuICAgIHJlcy5qc29uKHJlc3BvbnNlKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGFwaUdldE1vdmllc0J5Q291bnRyeShyZXEsIHJlcywgbmV4dCkge1xuICAgIGxldCBjb3VudHJpZXMgPSByZXEucXVlcnkuY291bnRyaWVzID09IFwiXCIgPyBcIlVTQVwiIDogcmVxLnF1ZXJ5LmNvdW50cmllc1xuICAgIGxldCBjb3VudHJ5TGlzdCA9IEFycmF5LmlzQXJyYXkoY291bnRyaWVzKSA/IGNvdW50cmllcyA6IEFycmF5KGNvdW50cmllcylcbiAgICBsZXQgbW92aWVzTGlzdCA9IGF3YWl0IE1vdmllc0RBTy5nZXRNb3ZpZXNCeUNvdW50cnkoY291bnRyeUxpc3QpXG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgdGl0bGVzOiBtb3ZpZXNMaXN0LFxuICAgIH1cbiAgICByZXMuanNvbihyZXNwb25zZSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBhcGlHZXRNb3ZpZUJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZCB8fCB7fVxuICAgICAgbGV0IG1vdmllID0gYXdhaXQgTW92aWVzREFPLmdldE1vdmllQnlJRChpZClcbiAgICAgIGlmICghbW92aWUpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogXCJOb3QgZm91bmRcIiB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGxldCB1cGRhdGVkX3R5cGUgPSBtb3ZpZS5sYXN0dXBkYXRlZCBpbnN0YW5jZW9mIERhdGUgPyBcIkRhdGVcIiA6IFwib3RoZXJcIlxuICAgICAgcmVzLmpzb24oeyBtb3ZpZSwgdXBkYXRlZF90eXBlIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coYGFwaSwgJHtlfWApXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGFwaVNlYXJjaE1vdmllcyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IE1PVklFU19QRVJfUEFHRSA9IDIwXG4gICAgbGV0IHBhZ2VcbiAgICB0cnkge1xuICAgICAgcGFnZSA9IHJlcS5xdWVyeS5wYWdlID8gcGFyc2VJbnQocmVxLnF1ZXJ5LnBhZ2UsIDEwKSA6IDBcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBHb3QgYmFkIHZhbHVlIGZvciBwYWdlOiwgJHtlfWApXG4gICAgICBwYWdlID0gMFxuICAgIH1cbiAgICBsZXQgc2VhcmNoVHlwZVxuICAgIHRyeSB7XG4gICAgICBzZWFyY2hUeXBlID0gT2JqZWN0LmtleXMocmVxLnF1ZXJ5KVswXVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYE5vIHNlYXJjaCBrZXlzIHNwZWNpZmllZDogJHtlfWApXG4gICAgfVxuXG4gICAgbGV0IGZpbHRlcnMgPSB7fVxuXG4gICAgc3dpdGNoIChzZWFyY2hUeXBlKSB7XG4gICAgICBjYXNlIFwiZ2VucmVcIjpcbiAgICAgICAgaWYgKHJlcS5xdWVyeS5nZW5yZSAhPT0gXCJcIikge1xuICAgICAgICAgIGZpbHRlcnMuZ2VucmUgPSByZXEucXVlcnkuZ2VucmVcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBcImNhc3RcIjpcbiAgICAgICAgaWYgKHJlcS5xdWVyeS5jYXN0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgZmlsdGVycy5jYXN0ID0gcmVxLnF1ZXJ5LmNhc3RcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgaWYgKHJlcS5xdWVyeS50ZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgZmlsdGVycy50ZXh0ID0gcmVxLnF1ZXJ5LnRleHRcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vdGhpbmcgdG8gZG9cbiAgICB9XG5cbiAgICBjb25zdCB7IG1vdmllc0xpc3QsIHRvdGFsTnVtTW92aWVzIH0gPSBhd2FpdCBNb3ZpZXNEQU8uZ2V0TW92aWVzKHtcbiAgICAgIGZpbHRlcnMsXG4gICAgICBwYWdlLFxuICAgICAgTU9WSUVTX1BFUl9QQUdFLFxuICAgIH0pXG5cbiAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICBtb3ZpZXM6IG1vdmllc0xpc3QsXG4gICAgICBwYWdlOiBwYWdlLFxuICAgICAgZmlsdGVycyxcbiAgICAgIGVudHJpZXNfcGVyX3BhZ2U6IE1PVklFU19QRVJfUEFHRSxcbiAgICAgIHRvdGFsX3Jlc3VsdHM6IHRvdGFsTnVtTW92aWVzLFxuICAgIH1cblxuICAgIHJlcy5qc29uKHJlc3BvbnNlKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGFwaUZhY2V0ZWRTZWFyY2gocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCBNT1ZJRVNfUEVSX1BBR0UgPSAyMFxuXG4gICAgbGV0IHBhZ2VcbiAgICB0cnkge1xuICAgICAgcGFnZSA9IHJlcS5xdWVyeS5wYWdlID8gcGFyc2VJbnQocmVxLnF1ZXJ5LnBhZ2UsIDEwKSA6IDBcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBHb3QgYmFkIHZhbHVlIGZvciBwYWdlLCBkZWZhdWx0aW5nIHRvIDA6ICR7ZX1gKVxuICAgICAgcGFnZSA9IDBcbiAgICB9XG5cbiAgICBsZXQgZmlsdGVycyA9IHt9XG5cbiAgICBmaWx0ZXJzID1cbiAgICAgIHJlcS5xdWVyeS5jYXN0ICE9PSBcIlwiXG4gICAgICAgID8geyBjYXN0OiBuZXcgUmVnRXhwKHJlcS5xdWVyeS5jYXN0LCBcImlcIikgfVxuICAgICAgICA6IHsgY2FzdDogXCJUb20gSGFua3NcIiB9XG5cbiAgICBjb25zdCBmYWNldGVkU2VhcmNoUmVzdWx0ID0gYXdhaXQgTW92aWVzREFPLmZhY2V0ZWRTZWFyY2goe1xuICAgICAgZmlsdGVycyxcbiAgICAgIHBhZ2UsXG4gICAgICBNT1ZJRVNfUEVSX1BBR0UsXG4gICAgfSlcblxuICAgIGxldCByZXNwb25zZSA9IHtcbiAgICAgIG1vdmllczogZmFjZXRlZFNlYXJjaFJlc3VsdC5tb3ZpZXMsXG4gICAgICBmYWNldHM6IHtcbiAgICAgICAgcnVudGltZTogZmFjZXRlZFNlYXJjaFJlc3VsdC5ydW50aW1lLFxuICAgICAgICByYXRpbmc6IGZhY2V0ZWRTZWFyY2hSZXN1bHQucmF0aW5nLFxuICAgICAgfSxcbiAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICBmaWx0ZXJzLFxuICAgICAgZW50cmllc19wZXJfcGFnZTogTU9WSUVTX1BFUl9QQUdFLFxuICAgICAgdG90YWxfcmVzdWx0czogZmFjZXRlZFNlYXJjaFJlc3VsdC5jb3VudCxcbiAgICB9XG5cbiAgICByZXMuanNvbihyZXNwb25zZSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRDb25maWcocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IHBvb2xTaXplLCB3dGltZW91dCwgYXV0aEluZm8gfSA9IGF3YWl0IE1vdmllc0RBTy5nZXRDb25maWd1cmF0aW9uKClcbiAgICB0cnkge1xuICAgICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgICBwb29sX3NpemU6IHBvb2xTaXplLFxuICAgICAgICB3dGltZW91dCxcbiAgICAgICAgLi4uYXV0aEluZm8sXG4gICAgICB9XG4gICAgICByZXMuanNvbihyZXNwb25zZSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlIH0pXG4gICAgfVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "movies.controller.js"
      ],
      "names": [
        "MoviesController",
        "req",
        "res",
        "next",
        "MOVIES_PER_PAGE",
        "MoviesDAO",
        "getMovies",
        "moviesList",
        "totalNumMovies",
        "response",
        "movies",
        "page",
        "filters",
        "entries_per_page",
        "total_results",
        "json",
        "countries",
        "query",
        "countryList",
        "Array",
        "isArray",
        "getMoviesByCountry",
        "titles",
        "id",
        "params",
        "getMovieByID",
        "movie",
        "status",
        "error",
        "updated_type",
        "lastupdated",
        "Date",
        "console",
        "log",
        "parseInt",
        "e",
        "searchType",
        "Object",
        "keys",
        "genre",
        "cast",
        "text",
        "RegExp",
        "facetedSearch",
        "facetedSearchResult",
        "facets",
        "runtime",
        "rating",
        "count",
        "getConfiguration",
        "poolSize",
        "wtimeout",
        "authInfo",
        "pool_size"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "sourcesContent": [
        "import MoviesDAO from \"../dao/moviesDAO\"\n\nexport default class MoviesController {\n  static async apiGetMovies(req, res, next) {\n    const MOVIES_PER_PAGE = 20\n    const { moviesList, totalNumMovies } = await MoviesDAO.getMovies()\n    let response = {\n      movies: moviesList,\n      page: 0,\n      filters: {},\n      entries_per_page: MOVIES_PER_PAGE,\n      total_results: totalNumMovies,\n    }\n    res.json(response)\n  }\n\n  static async apiGetMoviesByCountry(req, res, next) {\n    let countries = req.query.countries == \"\" ? \"USA\" : req.query.countries\n    let countryList = Array.isArray(countries) ? countries : Array(countries)\n    let moviesList = await MoviesDAO.getMoviesByCountry(countryList)\n    let response = {\n      titles: moviesList,\n    }\n    res.json(response)\n  }\n\n  static async apiGetMovieById(req, res, next) {\n    try {\n      let id = req.params.id || {}\n      let movie = await MoviesDAO.getMovieByID(id)\n      if (!movie) {\n        res.status(404).json({ error: \"Not found\" })\n        return\n      }\n      let updated_type = movie.lastupdated instanceof Date ? \"Date\" : \"other\"\n      res.json({ movie, updated_type })\n    } catch (e) {\n      console.log(`api, ${e}`)\n      res.status(500).json({ error: e })\n    }\n  }\n\n  static async apiSearchMovies(req, res, next) {\n    const MOVIES_PER_PAGE = 20\n    let page\n    try {\n      page = req.query.page ? parseInt(req.query.page, 10) : 0\n    } catch (e) {\n      console.error(`Got bad value for page:, ${e}`)\n      page = 0\n    }\n    let searchType\n    try {\n      searchType = Object.keys(req.query)[0]\n    } catch (e) {\n      console.error(`No search keys specified: ${e}`)\n    }\n\n    let filters = {}\n\n    switch (searchType) {\n      case \"genre\":\n        if (req.query.genre !== \"\") {\n          filters.genre = req.query.genre\n        }\n        break\n      case \"cast\":\n        if (req.query.cast !== \"\") {\n          filters.cast = req.query.cast\n        }\n        break\n      case \"text\":\n        if (req.query.text !== \"\") {\n          filters.text = req.query.text\n        }\n        break\n      default:\n      // nothing to do\n    }\n\n    const { moviesList, totalNumMovies } = await MoviesDAO.getMovies({\n      filters,\n      page,\n      MOVIES_PER_PAGE,\n    })\n\n    let response = {\n      movies: moviesList,\n      page: page,\n      filters,\n      entries_per_page: MOVIES_PER_PAGE,\n      total_results: totalNumMovies,\n    }\n\n    res.json(response)\n  }\n\n  static async apiFacetedSearch(req, res, next) {\n    const MOVIES_PER_PAGE = 20\n\n    let page\n    try {\n      page = req.query.page ? parseInt(req.query.page, 10) : 0\n    } catch (e) {\n      console.error(`Got bad value for page, defaulting to 0: ${e}`)\n      page = 0\n    }\n\n    let filters = {}\n\n    filters =\n      req.query.cast !== \"\"\n        ? { cast: new RegExp(req.query.cast, \"i\") }\n        : { cast: \"Tom Hanks\" }\n\n    const facetedSearchResult = await MoviesDAO.facetedSearch({\n      filters,\n      page,\n      MOVIES_PER_PAGE,\n    })\n\n    let response = {\n      movies: facetedSearchResult.movies,\n      facets: {\n        runtime: facetedSearchResult.runtime,\n        rating: facetedSearchResult.rating,\n      },\n      page: page,\n      filters,\n      entries_per_page: MOVIES_PER_PAGE,\n      total_results: facetedSearchResult.count,\n    }\n\n    res.json(response)\n  }\n\n  static async getConfig(req, res, next) {\n    const { poolSize, wtimeout, authInfo } = await MoviesDAO.getConfiguration()\n    try {\n      let response = {\n        pool_size: poolSize,\n        wtimeout,\n        ...authInfo,\n      }\n      res.json(response)\n    } catch (e) {\n      res.status(500).json({ error: e })\n    }\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\moviesDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\moviesDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\moviesDAO.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\moviesDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
        "sourceFileName": "moviesDAO.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _bson = require(\"bson\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar movies;\nvar mflix;\nvar DEFAULT_SORT = [[\"tomatoes.viewer.numReviews\", -1]];\n\nvar MoviesDAO = /*#__PURE__*/function () {\n  function MoviesDAO() {\n    (0, _classCallCheck2[\"default\"])(this, MoviesDAO);\n  }\n\n  (0, _createClass2[\"default\"])(MoviesDAO, null, [{\n    key: \"injectDB\",\n    value: function () {\n      var _injectDB = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(conn) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!movies) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.prev = 2;\n                _context.next = 5;\n                return conn.db(process.env.MFLIX_NS);\n\n              case 5:\n                mflix = _context.sent;\n                _context.next = 8;\n                return conn.db(process.env.MFLIX_NS).collection(\"movies\");\n\n              case 8:\n                movies = _context.sent;\n                this.movies = movies; // this is only for testing\n\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](2);\n                console.error(\"Unable to establish a collection handle in moviesDAO: \".concat(_context.t0));\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 12]]);\n      }));\n\n      function injectDB(_x) {\n        return _injectDB.apply(this, arguments);\n      }\n\n      return injectDB;\n    }()\n    /**\n     * Retrieves the connection pool size, write concern and user roles on the\n     * current client.\n     * @returns {Promise<ConfigurationResult>} An object with configuration details.\n     */\n\n  }, {\n    key: \"getConfiguration\",\n    value: function () {\n      var _getConfiguration = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n        var roleInfo, authInfo, _movies$s$db$serverCo, poolSize, wtimeout, response;\n\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return mflix.command({\n                  connectionStatus: 1\n                });\n\n              case 2:\n                roleInfo = _context2.sent;\n                authInfo = roleInfo.authInfo.authenticatedUserRoles[0];\n                _movies$s$db$serverCo = movies.s.db.serverConfig.s.options, poolSize = _movies$s$db$serverCo.poolSize, wtimeout = _movies$s$db$serverCo.wtimeout;\n                response = {\n                  poolSize: poolSize,\n                  wtimeout: wtimeout,\n                  authInfo: authInfo\n                };\n                return _context2.abrupt(\"return\", response);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getConfiguration() {\n        return _getConfiguration.apply(this, arguments);\n      }\n\n      return getConfiguration;\n    }()\n    /**\n     * Finds and returns movies originating from one or more countries.\n     * Returns a list of objects, each object contains a title and an _id.\n     * @param {string[]} countries - The list of countries.\n     * @returns {Promise<CountryResult>} A promise that will resolve to a list of CountryResults.\n     */\n\n  }, {\n    key: \"getMoviesByCountry\",\n    value: function () {\n      var _getMoviesByCountry = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(countries) {\n        var cursor;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return movies.find({\n                  \"countries\": {\n                    $in: countries\n                  }\n                }, {\n                  projection: {\n                    title: 1\n                  }\n                });\n\n              case 3:\n                cursor = _context3.sent;\n                _context3.next = 10;\n                break;\n\n              case 6:\n                _context3.prev = 6;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.error(\"Unable to issue find command, \".concat(_context3.t0));\n                return _context3.abrupt(\"return\", []);\n\n              case 10:\n                return _context3.abrupt(\"return\", cursor.toArray());\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 6]]);\n      }));\n\n      function getMoviesByCountry(_x2) {\n        return _getMoviesByCountry.apply(this, arguments);\n      }\n\n      return getMoviesByCountry;\n    }()\n    /**\n     * Finds and returns movies matching a given text in their title or description.\n     * @param {string} text - The text to match with.\n     * @returns {QueryParams} The QueryParams for text search\n     */\n\n  }, {\n    key: \"textSearchQuery\",\n    value: function textSearchQuery(text) {\n      var query = {\n        $text: {\n          $search: text\n        }\n      };\n      var meta_score = {\n        $meta: \"textScore\"\n      };\n      var sort = [[\"score\", meta_score]];\n      var project = {\n        score: meta_score\n      };\n      return {\n        query: query,\n        project: project,\n        sort: sort\n      };\n    }\n    /**\n     * Finds and returns movies including one or more cast members.\n     * @param {string[]} cast - The cast members to match with.\n     * @returns {QueryParams} The QueryParams for cast search\n     */\n\n  }, {\n    key: \"castSearchQuery\",\n    value: function castSearchQuery(cast) {\n      var searchCast = Array.isArray(cast) ? cast : cast.split(\", \");\n      var query = {\n        cast: {\n          $in: searchCast\n        }\n      };\n      var project = {};\n      var sort = DEFAULT_SORT;\n      return {\n        query: query,\n        project: project,\n        sort: sort\n      };\n    }\n    /**\n     * Finds and returns movies matching a one or more genres.\n     * @param {string[]} genre - The genres to match with.\n     * @returns {QueryParams} The QueryParams for genre search\n     */\n\n  }, {\n    key: \"genreSearchQuery\",\n    value: function genreSearchQuery(genre) {\n      /**\n      Ticket: Text and Subfield Search\n       Given an array of one or more genres, construct a query that searches\n      MongoDB for movies with that genre.\n      */\n      var searchGenre = Array.isArray(genre) ? genre : genre.split(\", \"); // TODO Ticket: Text and Subfield Search\n      // Construct a query that will search for the chosen genre.\n\n      var query = {\n        genres: {\n          $in: searchGenre\n        }\n      };\n      var project = {};\n      var sort = DEFAULT_SORT;\n      return {\n        query: query,\n        project: project,\n        sort: sort\n      };\n    }\n    /**\n     *\n     * @param {Object} filters - The search parameter to use in the query. Comes\n     * in the form of `{cast: { $in: [...castMembers]}}`\n     * @param {number} page - The page of movies to retrieve.\n     * @param {number} moviesPerPage - The number of movies to display per page.\n     * @returns {FacetedSearchReturn} FacetedSearchReturn\n     */\n\n  }, {\n    key: \"facetedSearch\",\n    value: function () {\n      var _facetedSearch = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4() {\n        var _ref,\n            _ref$filters,\n            filters,\n            _ref$page,\n            page,\n            _ref$moviesPerPage,\n            moviesPerPage,\n            matchStage,\n            sortStage,\n            countingPipeline,\n            skipStage,\n            limitStage,\n            facetStage,\n            queryPipeline,\n            results,\n            count,\n            _args4 = arguments;\n\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _ref = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : {}, _ref$filters = _ref.filters, filters = _ref$filters === void 0 ? null : _ref$filters, _ref$page = _ref.page, page = _ref$page === void 0 ? 0 : _ref$page, _ref$moviesPerPage = _ref.moviesPerPage, moviesPerPage = _ref$moviesPerPage === void 0 ? 20 : _ref$moviesPerPage;\n\n                if (!(!filters || !filters.cast)) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Must specify cast members to filter by.\");\n\n              case 3:\n                matchStage = {\n                  $match: filters\n                };\n                sortStage = {\n                  $sort: {\n                    \"tomatoes.viewer.numReviews\": -1\n                  }\n                };\n                countingPipeline = [matchStage, sortStage, {\n                  $count: \"count\"\n                }];\n                skipStage = {\n                  $skip: moviesPerPage * page\n                };\n                limitStage = {\n                  $limit: moviesPerPage\n                };\n                facetStage = {\n                  $facet: {\n                    runtime: [{\n                      $bucket: {\n                        groupBy: \"$runtime\",\n                        boundaries: [0, 60, 90, 120, 180],\n                        \"default\": \"other\",\n                        output: {\n                          count: {\n                            $sum: 1\n                          }\n                        }\n                      }\n                    }],\n                    rating: [{\n                      $bucket: {\n                        groupBy: \"$metacritic\",\n                        boundaries: [0, 50, 70, 90, 100],\n                        \"default\": \"other\",\n                        output: {\n                          count: {\n                            $sum: 1\n                          }\n                        }\n                      }\n                    }],\n                    movies: [{\n                      $addFields: {\n                        title: \"$title\"\n                      }\n                    }]\n                  }\n                };\n                /**\n                Ticket: Faceted Search\n                 Please append the skipStage, limitStage, and facetStage to the queryPipeline\n                (in that order). You can accomplish this by adding the stages directly to\n                the queryPipeline.\n                 The queryPipeline is a Javascript array, so you can use push() or concat()\n                to complete this task, but you might have to do something about `const`.\n                */\n\n                queryPipeline = [matchStage, sortStage, // TODO Ticket: Faceted Search\n                // Add the stages to queryPipeline in the correct order.\n                skipStage, limitStage, facetStage];\n                _context4.prev = 10;\n                _context4.next = 13;\n                return movies.aggregate(queryPipeline);\n\n              case 13:\n                _context4.next = 15;\n                return _context4.sent.next();\n\n              case 15:\n                results = _context4.sent;\n                _context4.next = 18;\n                return movies.aggregate(countingPipeline);\n\n              case 18:\n                _context4.next = 20;\n                return _context4.sent.next();\n\n              case 20:\n                count = _context4.sent;\n                return _context4.abrupt(\"return\", _objectSpread(_objectSpread({}, results), count));\n\n              case 24:\n                _context4.prev = 24;\n                _context4.t0 = _context4[\"catch\"](10);\n                return _context4.abrupt(\"return\", {\n                  error: \"Results too large, be more restrictive in filter\"\n                });\n\n              case 27:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[10, 24]]);\n      }));\n\n      function facetedSearch() {\n        return _facetedSearch.apply(this, arguments);\n      }\n\n      return facetedSearch;\n    }()\n    /**\n     * Finds and returns movies by country.\n     * Returns a list of objects, each object contains a title and an _id.\n     * @param {Object} filters - The search parameters to use in the query.\n     * @param {number} page - The page of movies to retrieve.\n     * @param {number} moviesPerPage - The number of movies to display per page.\n     * @returns {GetMoviesResult} An object with movie results and total results\n     * that would match this query\n     */\n\n  }, {\n    key: \"getMovies\",\n    value: function () {\n      var _getMovies = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n        var _ref2,\n            _ref2$filters,\n            filters,\n            _ref2$page,\n            page,\n            _ref2$moviesPerPage,\n            moviesPerPage,\n            queryParams,\n            _queryParams,\n            _queryParams$query,\n            query,\n            _queryParams$project,\n            project,\n            _queryParams$sort,\n            sort,\n            cursor,\n            displayCursor,\n            moviesList,\n            totalNumMovies,\n            _args5 = arguments;\n\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _ref2 = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : {}, _ref2$filters = _ref2.filters, filters = _ref2$filters === void 0 ? null : _ref2$filters, _ref2$page = _ref2.page, page = _ref2$page === void 0 ? 0 : _ref2$page, _ref2$moviesPerPage = _ref2.moviesPerPage, moviesPerPage = _ref2$moviesPerPage === void 0 ? 20 : _ref2$moviesPerPage;\n                queryParams = {};\n\n                if (filters) {\n                  if (\"text\" in filters) {\n                    queryParams = this.textSearchQuery(filters[\"text\"]);\n                  } else if (\"cast\" in filters) {\n                    queryParams = this.castSearchQuery(filters[\"cast\"]);\n                  } else if (\"genre\" in filters) {\n                    queryParams = this.genreSearchQuery(filters[\"genre\"]);\n                  }\n                }\n\n                _queryParams = queryParams, _queryParams$query = _queryParams.query, query = _queryParams$query === void 0 ? {} : _queryParams$query, _queryParams$project = _queryParams.project, project = _queryParams$project === void 0 ? {} : _queryParams$project, _queryParams$sort = _queryParams.sort, sort = _queryParams$sort === void 0 ? DEFAULT_SORT : _queryParams$sort;\n                _context5.prev = 4;\n                _context5.next = 7;\n                return movies.find(query).project(project).sort(sort);\n\n              case 7:\n                cursor = _context5.sent;\n                _context5.next = 14;\n                break;\n\n              case 10:\n                _context5.prev = 10;\n                _context5.t0 = _context5[\"catch\"](4);\n                console.error(\"Unable to issue find command, \".concat(_context5.t0));\n                return _context5.abrupt(\"return\", {\n                  moviesList: [],\n                  totalNumMovies: 0\n                });\n\n              case 14:\n                /**\n                Ticket: Paging\n                 Before this method returns back to the API, use the \"moviesPerPage\" and\n                \"page\" arguments to decide the movies to display.\n                 Paging can be implemented by using the skip() and limit() cursor methods.\n                */\n                // TODO Ticket: Paging\n                // Use the cursor to only return the movies that belong on the current page\n                displayCursor = cursor.skip(page * moviesPerPage).limit(moviesPerPage);\n                _context5.prev = 15;\n                _context5.next = 18;\n                return displayCursor.toArray();\n\n              case 18:\n                moviesList = _context5.sent;\n\n                if (!(page === 0)) {\n                  _context5.next = 25;\n                  break;\n                }\n\n                _context5.next = 22;\n                return movies.countDocuments(query);\n\n              case 22:\n                _context5.t1 = _context5.sent;\n                _context5.next = 26;\n                break;\n\n              case 25:\n                _context5.t1 = 0;\n\n              case 26:\n                totalNumMovies = _context5.t1;\n                return _context5.abrupt(\"return\", {\n                  moviesList: moviesList,\n                  totalNumMovies: totalNumMovies\n                });\n\n              case 30:\n                _context5.prev = 30;\n                _context5.t2 = _context5[\"catch\"](15);\n                console.error(\"Unable to convert cursor to array or problem counting documents, \".concat(_context5.t2));\n                return _context5.abrupt(\"return\", {\n                  moviesList: [],\n                  totalNumMovies: 0\n                });\n\n              case 34:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[4, 10], [15, 30]]);\n      }));\n\n      function getMovies() {\n        return _getMovies.apply(this, arguments);\n      }\n\n      return getMovies;\n    }()\n    /**\n     * Gets a movie by its id\n     * @param {string} id - The desired movie id, the _id in Mongo\n     * @returns {MflixMovie | null} Returns either a single movie or nothing\n     */\n\n  }, {\n    key: \"getMovieByID\",\n    value: function () {\n      var _getMovieByID = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(id) {\n        var pipeline, firstWord;\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n\n                /**\n                Ticket: Get Comments\n                 Given a movie ID, build an Aggregation Pipeline to retrieve the comments\n                matching that movie's ID.\n                 The $match stage is already completed. You will need to add a $lookup\n                stage that searches the `comments` collection for the correct comments.\n                */\n                // TODO Ticket: Get Comments\n                // Implement the required pipeline.\n                pipeline = [{\n                  $match: {\n                    _id: (0, _bson.ObjectId)(id)\n                  }\n                }, {\n                  $lookup: {\n                    from: 'comments',\n                    \"let\": {\n                      'id': '$_id'\n                    },\n                    pipeline: [{\n                      $match: {\n                        '$expr': {\n                          '$eq': ['$movie_id', \"$$id\"]\n                        }\n                      }\n                    }, {\n                      $sort: {\n                        date: -1\n                      }\n                    }],\n                    as: 'comments'\n                  }\n                }];\n                _context6.next = 4;\n                return movies.aggregate(pipeline).next();\n\n              case 4:\n                return _context6.abrupt(\"return\", _context6.sent);\n\n              case 7:\n                _context6.prev = 7;\n                _context6.t0 = _context6[\"catch\"](0);\n                firstWord = _context6.t0.toString().split(\" \")[1];\n\n                if (!(firstWord === \"Argument\")) {\n                  _context6.next = 12;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", null);\n\n              case 12:\n                /**\n                Ticket: Error Handling\n                 Handle the error that occurs when an invalid ID is passed to this method.\n                When this specific error is thrown, the method should return `null`.\n                */\n                // TODO Ticket: Error Handling\n                // Catch the InvalidId error by string matching, and then handle it.\n                console.error(\"Something went wrong in getMovieByID: \".concat(_context6.t0));\n                throw _context6.t0;\n\n              case 14:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[0, 7]]);\n      }));\n\n      function getMovieByID(_x3) {\n        return _getMovieByID.apply(this, arguments);\n      }\n\n      return getMovieByID;\n    }()\n  }]);\n  return MoviesDAO;\n}();\n/**\n * This is a parsed query, sort, and project bundle.\n * @typedef QueryParams\n * @property {Object} query - The specified query, transformed accordingly\n * @property {any[]} sort - The specified sort\n * @property {Object} project - The specified project, if any\n */\n\n/**\n * Represents a single country result\n * @typedef CountryResult\n * @property {string} ObjectID - The ObjectID of the movie\n * @property {string} title - The title of the movie\n */\n\n/**\n * A Movie from mflix\n * @typedef MflixMovie\n * @property {string} _id\n * @property {string} title\n * @property {number} year\n * @property {number} runtime\n * @property {Date} released\n * @property {string[]} cast\n * @property {number} metacriticd\n * @property {string} poster\n * @property {string} plot\n * @property {string} fullplot\n * @property {string|Date} lastupdated\n * @property {string} type\n * @property {string[]} languages\n * @property {string[]} directors\n * @property {string[]} writers\n * @property {IMDB} imdb\n * @property {string[]} countries\n * @property {string[]} rated\n * @property {string[]} genres\n * @property {string[]} comments\n */\n\n/**\n * IMDB subdocument\n * @typedef IMDB\n * @property {number} rating\n * @property {number} votes\n * @property {number} id\n */\n\n/**\n * Result set for getMovies method\n * @typedef GetMoviesResult\n * @property {MflixMovies[]} moviesList\n * @property {number} totalNumResults\n */\n\n/**\n * Faceted Search Return\n *\n * The type of return from faceted search. It will be a single document with\n * 3 fields: rating, runtime, and movies.\n * @typedef FacetedSearchReturn\n * @property {object} rating\n * @property {object} runtime\n * @property {MFlixMovie[]}movies\n */\n\n\nexports[\"default\"] = MoviesDAO;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdmllc0RBTy5qcyJdLCJuYW1lcyI6WyJtb3ZpZXMiLCJtZmxpeCIsIkRFRkFVTFRfU09SVCIsIk1vdmllc0RBTyIsImNvbm4iLCJkYiIsInByb2Nlc3MiLCJlbnYiLCJNRkxJWF9OUyIsImNvbGxlY3Rpb24iLCJjb25zb2xlIiwiZXJyb3IiLCJjb21tYW5kIiwiY29ubmVjdGlvblN0YXR1cyIsInJvbGVJbmZvIiwiYXV0aEluZm8iLCJhdXRoZW50aWNhdGVkVXNlclJvbGVzIiwicyIsInNlcnZlckNvbmZpZyIsIm9wdGlvbnMiLCJwb29sU2l6ZSIsInd0aW1lb3V0IiwicmVzcG9uc2UiLCJjb3VudHJpZXMiLCJmaW5kIiwiJGluIiwicHJvamVjdGlvbiIsInRpdGxlIiwiY3Vyc29yIiwidG9BcnJheSIsInRleHQiLCJxdWVyeSIsIiR0ZXh0IiwiJHNlYXJjaCIsIm1ldGFfc2NvcmUiLCIkbWV0YSIsInNvcnQiLCJwcm9qZWN0Iiwic2NvcmUiLCJjYXN0Iiwic2VhcmNoQ2FzdCIsIkFycmF5IiwiaXNBcnJheSIsInNwbGl0IiwiZ2VucmUiLCJzZWFyY2hHZW5yZSIsImdlbnJlcyIsImZpbHRlcnMiLCJwYWdlIiwibW92aWVzUGVyUGFnZSIsIkVycm9yIiwibWF0Y2hTdGFnZSIsIiRtYXRjaCIsInNvcnRTdGFnZSIsIiRzb3J0IiwiY291bnRpbmdQaXBlbGluZSIsIiRjb3VudCIsInNraXBTdGFnZSIsIiRza2lwIiwibGltaXRTdGFnZSIsIiRsaW1pdCIsImZhY2V0U3RhZ2UiLCIkZmFjZXQiLCJydW50aW1lIiwiJGJ1Y2tldCIsImdyb3VwQnkiLCJib3VuZGFyaWVzIiwib3V0cHV0IiwiY291bnQiLCIkc3VtIiwicmF0aW5nIiwiJGFkZEZpZWxkcyIsInF1ZXJ5UGlwZWxpbmUiLCJhZ2dyZWdhdGUiLCJuZXh0IiwicmVzdWx0cyIsInF1ZXJ5UGFyYW1zIiwidGV4dFNlYXJjaFF1ZXJ5IiwiY2FzdFNlYXJjaFF1ZXJ5IiwiZ2VucmVTZWFyY2hRdWVyeSIsIm1vdmllc0xpc3QiLCJ0b3RhbE51bU1vdmllcyIsImRpc3BsYXlDdXJzb3IiLCJza2lwIiwibGltaXQiLCJjb3VudERvY3VtZW50cyIsImlkIiwicGlwZWxpbmUiLCJfaWQiLCIkbG9va3VwIiwiZnJvbSIsImRhdGUiLCJhcyIsImZpcnN0V29yZCIsInRvU3RyaW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztBQUVBLElBQUlBLE1BQUo7QUFDQSxJQUFJQyxLQUFKO0FBQ0EsSUFBTUMsWUFBWSxHQUFHLENBQUMsQ0FBQyw0QkFBRCxFQUErQixDQUFDLENBQWhDLENBQUQsQ0FBckI7O0lBRXFCQyxTOzs7Ozs7OztxSEFDR0MsSTs7Ozs7cUJBQ2hCSixNOzs7Ozs7Ozs7O3VCQUlZSSxJQUFJLENBQUNDLEVBQUwsQ0FBUUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQXBCLEM7OztBQUFkUCxnQkFBQUEsSzs7dUJBQ2VHLElBQUksQ0FBQ0MsRUFBTCxDQUFRQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBcEIsRUFBOEJDLFVBQTlCLENBQXlDLFFBQXpDLEM7OztBQUFmVCxnQkFBQUEsTTtBQUNBLHFCQUFLQSxNQUFMLEdBQWNBLE1BQWQsQyxDQUFxQjs7Ozs7Ozs7QUFFckJVLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNSjs7Ozs7Ozs7Ozs7Ozs7Ozs7dUJBTXlCVixLQUFLLENBQUNXLE9BQU4sQ0FBYztBQUFFQyxrQkFBQUEsZ0JBQWdCLEVBQUU7QUFBcEIsaUJBQWQsQzs7O0FBQWpCQyxnQkFBQUEsUTtBQUNBQyxnQkFBQUEsUSxHQUFXRCxRQUFRLENBQUNDLFFBQVQsQ0FBa0JDLHNCQUFsQixDQUF5QyxDQUF6QyxDO3dDQUNjaEIsTUFBTSxDQUFDaUIsQ0FBUCxDQUFTWixFQUFULENBQVlhLFlBQVosQ0FBeUJELENBQXpCLENBQTJCRSxPLEVBQWxEQyxRLHlCQUFBQSxRLEVBQVVDLFEseUJBQUFBLFE7QUFDZEMsZ0JBQUFBLFEsR0FBVztBQUNiRixrQkFBQUEsUUFBUSxFQUFSQSxRQURhO0FBRWJDLGtCQUFBQSxRQUFRLEVBQVJBLFFBRmE7QUFHYk4sa0JBQUFBLFFBQVEsRUFBUkE7QUFIYSxpQjtrREFLUk8sUTs7Ozs7Ozs7Ozs7Ozs7OztBQUdUOzs7Ozs7Ozs7O2dJQU1nQ0MsUzs7Ozs7Ozs7dUJBa0JidkIsTUFBTSxDQUFDd0IsSUFBUCxDQUNiO0FBQUMsK0JBQWE7QUFBQ0Msb0JBQUFBLEdBQUcsRUFBRUY7QUFBTjtBQUFkLGlCQURhLEVBRWI7QUFBQ0csa0JBQUFBLFVBQVUsRUFBRTtBQUFDQyxvQkFBQUEsS0FBSyxFQUFDO0FBQVA7QUFBYixpQkFGYSxDOzs7QUFBZkMsZ0JBQUFBLE07Ozs7Ozs7QUFLQWxCLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7a0RBQ08sRTs7O2tEQUdGaUIsTUFBTSxDQUFDQyxPQUFQLEU7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHVDs7Ozs7Ozs7b0NBS3VCQyxJLEVBQU07QUFDM0IsVUFBTUMsS0FBSyxHQUFHO0FBQUVDLFFBQUFBLEtBQUssRUFBRTtBQUFFQyxVQUFBQSxPQUFPLEVBQUVIO0FBQVg7QUFBVCxPQUFkO0FBQ0EsVUFBTUksVUFBVSxHQUFHO0FBQUVDLFFBQUFBLEtBQUssRUFBRTtBQUFULE9BQW5CO0FBQ0EsVUFBTUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxPQUFELEVBQVVGLFVBQVYsQ0FBRCxDQUFiO0FBQ0EsVUFBTUcsT0FBTyxHQUFHO0FBQUVDLFFBQUFBLEtBQUssRUFBRUo7QUFBVCxPQUFoQjtBQUVBLGFBQU87QUFBRUgsUUFBQUEsS0FBSyxFQUFMQSxLQUFGO0FBQVNNLFFBQUFBLE9BQU8sRUFBUEEsT0FBVDtBQUFrQkQsUUFBQUEsSUFBSSxFQUFKQTtBQUFsQixPQUFQO0FBQ0Q7QUFFRDs7Ozs7Ozs7b0NBS3VCRyxJLEVBQU07QUFDM0IsVUFBTUMsVUFBVSxHQUFHQyxLQUFLLENBQUNDLE9BQU4sQ0FBY0gsSUFBZCxJQUFzQkEsSUFBdEIsR0FBNkJBLElBQUksQ0FBQ0ksS0FBTCxDQUFXLElBQVgsQ0FBaEQ7QUFFQSxVQUFNWixLQUFLLEdBQUc7QUFBRVEsUUFBQUEsSUFBSSxFQUFFO0FBQUVkLFVBQUFBLEdBQUcsRUFBRWU7QUFBUDtBQUFSLE9BQWQ7QUFDQSxVQUFNSCxPQUFPLEdBQUcsRUFBaEI7QUFDQSxVQUFNRCxJQUFJLEdBQUdsQyxZQUFiO0FBRUEsYUFBTztBQUFFNkIsUUFBQUEsS0FBSyxFQUFMQSxLQUFGO0FBQVNNLFFBQUFBLE9BQU8sRUFBUEEsT0FBVDtBQUFrQkQsUUFBQUEsSUFBSSxFQUFKQTtBQUFsQixPQUFQO0FBQ0Q7QUFFRDs7Ozs7Ozs7cUNBS3dCUSxLLEVBQU87QUFDN0I7Ozs7O0FBT0EsVUFBTUMsV0FBVyxHQUFHSixLQUFLLENBQUNDLE9BQU4sQ0FBY0UsS0FBZCxJQUF1QkEsS0FBdkIsR0FBK0JBLEtBQUssQ0FBQ0QsS0FBTixDQUFZLElBQVosQ0FBbkQsQ0FSNkIsQ0FVN0I7QUFDQTs7QUFDQSxVQUFNWixLQUFLLEdBQUc7QUFBQ2UsUUFBQUEsTUFBTSxFQUFFO0FBQUNyQixVQUFBQSxHQUFHLEVBQUNvQjtBQUFMO0FBQVQsT0FBZDtBQUNBLFVBQU1SLE9BQU8sR0FBRyxFQUFoQjtBQUNBLFVBQU1ELElBQUksR0FBR2xDLFlBQWI7QUFFQSxhQUFPO0FBQUU2QixRQUFBQSxLQUFLLEVBQUxBLEtBQUY7QUFBU00sUUFBQUEsT0FBTyxFQUFQQSxPQUFUO0FBQWtCRCxRQUFBQSxJQUFJLEVBQUpBO0FBQWxCLE9BQVA7QUFDRDtBQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrRkFZSSxFLHNCQUhGVyxPLEVBQUFBLE8sNkJBQVUsSSxrQ0FDVkMsSSxFQUFBQSxJLDBCQUFPLEMsd0NBQ1BDLGEsRUFBQUEsYSxtQ0FBZ0IsRTs7c0JBRVosQ0FBQ0YsT0FBRCxJQUFZLENBQUNBLE9BQU8sQ0FBQ1IsSTs7Ozs7c0JBQ2pCLElBQUlXLEtBQUosQ0FBVSx5Q0FBVixDOzs7QUFFRkMsZ0JBQUFBLFUsR0FBYTtBQUFFQyxrQkFBQUEsTUFBTSxFQUFFTDtBQUFWLGlCO0FBQ2JNLGdCQUFBQSxTLEdBQVk7QUFBRUMsa0JBQUFBLEtBQUssRUFBRTtBQUFFLGtEQUE4QixDQUFDO0FBQWpDO0FBQVQsaUI7QUFDWkMsZ0JBQUFBLGdCLEdBQW1CLENBQUNKLFVBQUQsRUFBYUUsU0FBYixFQUF3QjtBQUFFRyxrQkFBQUEsTUFBTSxFQUFFO0FBQVYsaUJBQXhCLEM7QUFDbkJDLGdCQUFBQSxTLEdBQVk7QUFBRUMsa0JBQUFBLEtBQUssRUFBRVQsYUFBYSxHQUFHRDtBQUF6QixpQjtBQUNaVyxnQkFBQUEsVSxHQUFhO0FBQUVDLGtCQUFBQSxNQUFNLEVBQUVYO0FBQVYsaUI7QUFDYlksZ0JBQUFBLFUsR0FBYTtBQUNqQkMsa0JBQUFBLE1BQU0sRUFBRTtBQUNOQyxvQkFBQUEsT0FBTyxFQUFFLENBQ1A7QUFDRUMsc0JBQUFBLE9BQU8sRUFBRTtBQUNQQyx3QkFBQUEsT0FBTyxFQUFFLFVBREY7QUFFUEMsd0JBQUFBLFVBQVUsRUFBRSxDQUFDLENBQUQsRUFBSSxFQUFKLEVBQVEsRUFBUixFQUFZLEdBQVosRUFBaUIsR0FBakIsQ0FGTDtBQUdQLG1DQUFTLE9BSEY7QUFJUEMsd0JBQUFBLE1BQU0sRUFBRTtBQUNOQywwQkFBQUEsS0FBSyxFQUFFO0FBQUVDLDRCQUFBQSxJQUFJLEVBQUU7QUFBUjtBQUREO0FBSkQ7QUFEWCxxQkFETyxDQURIO0FBYU5DLG9CQUFBQSxNQUFNLEVBQUUsQ0FDTjtBQUNFTixzQkFBQUEsT0FBTyxFQUFFO0FBQ1BDLHdCQUFBQSxPQUFPLEVBQUUsYUFERjtBQUVQQyx3QkFBQUEsVUFBVSxFQUFFLENBQUMsQ0FBRCxFQUFJLEVBQUosRUFBUSxFQUFSLEVBQVksRUFBWixFQUFnQixHQUFoQixDQUZMO0FBR1AsbUNBQVMsT0FIRjtBQUlQQyx3QkFBQUEsTUFBTSxFQUFFO0FBQ05DLDBCQUFBQSxLQUFLLEVBQUU7QUFBRUMsNEJBQUFBLElBQUksRUFBRTtBQUFSO0FBREQ7QUFKRDtBQURYLHFCQURNLENBYkY7QUF5Qk5yRSxvQkFBQUEsTUFBTSxFQUFFLENBQ047QUFDRXVFLHNCQUFBQSxVQUFVLEVBQUU7QUFDVjVDLHdCQUFBQSxLQUFLLEVBQUU7QUFERztBQURkLHFCQURNO0FBekJGO0FBRFMsaUI7QUFvQ25COzs7Ozs7Ozs7QUFXTTZDLGdCQUFBQSxhLEdBQWdCLENBQ3BCckIsVUFEb0IsRUFFcEJFLFNBRm9CLEVBR3BCO0FBQ0E7QUFDQUksZ0JBQUFBLFNBTG9CLEVBTXBCRSxVQU5vQixFQU9wQkUsVUFQb0IsQzs7O3VCQVdTN0QsTUFBTSxDQUFDeUUsU0FBUCxDQUFpQkQsYUFBakIsQzs7OztzQ0FBaUNFLEk7OztBQUF4REMsZ0JBQUFBLE87O3VCQUNxQjNFLE1BQU0sQ0FBQ3lFLFNBQVAsQ0FBaUJsQixnQkFBakIsQzs7OztzQ0FBb0NtQixJOzs7QUFBekROLGdCQUFBQSxLO2tGQUVETyxPLEdBQ0FQLEs7Ozs7O2tEQUdFO0FBQUV6RCxrQkFBQUEsS0FBSyxFQUFFO0FBQVQsaUI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O21GQWNJLEUsd0JBSEZvQyxPLEVBQUFBLE8sOEJBQVUsSSxxQ0FDVkMsSSxFQUFBQSxJLDJCQUFPLEMsMkNBQ1BDLGEsRUFBQUEsYSxvQ0FBZ0IsRTtBQUVaMkIsZ0JBQUFBLFcsR0FBYyxFOztBQUNsQixvQkFBSTdCLE9BQUosRUFBYTtBQUNYLHNCQUFJLFVBQVVBLE9BQWQsRUFBdUI7QUFDckI2QixvQkFBQUEsV0FBVyxHQUFHLEtBQUtDLGVBQUwsQ0FBcUI5QixPQUFPLENBQUMsTUFBRCxDQUE1QixDQUFkO0FBQ0QsbUJBRkQsTUFFTyxJQUFJLFVBQVVBLE9BQWQsRUFBdUI7QUFDNUI2QixvQkFBQUEsV0FBVyxHQUFHLEtBQUtFLGVBQUwsQ0FBcUIvQixPQUFPLENBQUMsTUFBRCxDQUE1QixDQUFkO0FBQ0QsbUJBRk0sTUFFQSxJQUFJLFdBQVdBLE9BQWYsRUFBd0I7QUFDN0I2QixvQkFBQUEsV0FBVyxHQUFHLEtBQUtHLGdCQUFMLENBQXNCaEMsT0FBTyxDQUFDLE9BQUQsQ0FBN0IsQ0FBZDtBQUNEO0FBQ0Y7OytCQUV1RDZCLFcsb0NBQWxEN0MsSyxFQUFBQSxLLG1DQUFRLEUsMkRBQUlNLE8sRUFBQUEsTyxxQ0FBVSxFLDBEQUFJRCxJLEVBQUFBLEksa0NBQU9sQyxZOzs7dUJBR3RCRixNQUFNLENBQ2xCd0IsSUFEWSxDQUNQTyxLQURPLEVBRVpNLE9BRlksQ0FFSkEsT0FGSSxFQUdaRCxJQUhZLENBR1BBLElBSE8sQzs7O0FBQWZSLGdCQUFBQSxNOzs7Ozs7O0FBS0FsQixnQkFBQUEsT0FBTyxDQUFDQyxLQUFSO2tEQUNPO0FBQUVxRSxrQkFBQUEsVUFBVSxFQUFFLEVBQWQ7QUFBa0JDLGtCQUFBQSxjQUFjLEVBQUU7QUFBbEMsaUI7OztBQUdUOzs7Ozs7QUFVQTtBQUNBO0FBQ01DLGdCQUFBQSxhLEdBQWdCdEQsTUFBTSxDQUFDdUQsSUFBUCxDQUFZbkMsSUFBSSxHQUFDQyxhQUFqQixFQUFnQ21DLEtBQWhDLENBQXNDbkMsYUFBdEMsQzs7O3VCQUdLaUMsYUFBYSxDQUFDckQsT0FBZCxFOzs7QUFBbkJtRCxnQkFBQUEsVTs7c0JBQ2lCaEMsSUFBSSxLQUFLLEM7Ozs7Ozt1QkFBVWhELE1BQU0sQ0FBQ3FGLGNBQVAsQ0FBc0J0RCxLQUF0QixDOzs7Ozs7OzsrQkFBK0IsQzs7O0FBQW5Fa0QsZ0JBQUFBLGM7a0RBRUM7QUFBRUQsa0JBQUFBLFVBQVUsRUFBVkEsVUFBRjtBQUFjQyxrQkFBQUEsY0FBYyxFQUFkQTtBQUFkLGlCOzs7OztBQUVQdkUsZ0JBQUFBLE9BQU8sQ0FBQ0MsS0FBUjtrREFHTztBQUFFcUUsa0JBQUFBLFVBQVUsRUFBRSxFQUFkO0FBQWtCQyxrQkFBQUEsY0FBYyxFQUFFO0FBQWxDLGlCOzs7Ozs7Ozs7Ozs7Ozs7O0FBSVg7Ozs7Ozs7OzswSEFLMEJLLEU7Ozs7Ozs7O0FBRXRCOzs7Ozs7O0FBVUE7QUFDQTtBQUNNQyxnQkFBQUEsUSxHQUFXLENBQ2Y7QUFDRW5DLGtCQUFBQSxNQUFNLEVBQUU7QUFDTm9DLG9CQUFBQSxHQUFHLEVBQUUsb0JBQVNGLEVBQVQ7QUFEQztBQURWLGlCQURlLEVBTWY7QUFDRUcsa0JBQUFBLE9BQU8sRUFDTDtBQUNFQyxvQkFBQUEsSUFBSSxFQUFFLFVBRFI7QUFFRSwyQkFBSTtBQUFDLDRCQUFLO0FBQU4scUJBRk47QUFHRUgsb0JBQUFBLFFBQVEsRUFBRSxDQUFDO0FBQUNuQyxzQkFBQUEsTUFBTSxFQUNqQjtBQUFDLGlDQUFTO0FBQUMsaUNBQU8sQ0FBQyxXQUFELEVBQWEsTUFBYjtBQUFSO0FBQVY7QUFEVSxxQkFBRCxFQUVUO0FBQUNFLHNCQUFBQSxLQUFLLEVBQUM7QUFBQ3FDLHdCQUFBQSxJQUFJLEVBQUMsQ0FBQztBQUFQO0FBQVAscUJBRlMsQ0FIWjtBQU9FQyxvQkFBQUEsRUFBRSxFQUFFO0FBUE47QUFGSixpQkFOZSxDOzt1QkFtQko1RixNQUFNLENBQUN5RSxTQUFQLENBQWlCYyxRQUFqQixFQUEyQmIsSUFBM0IsRTs7Ozs7Ozs7QUFFUG1CLGdCQUFBQSxTLEdBQVUsYUFBRUMsUUFBRixHQUFhbkQsS0FBYixDQUFtQixHQUFuQixFQUF3QixDQUF4QixDOztzQkFDYmtELFNBQVMsS0FBRyxVOzs7OztrREFBbUIsSTs7O0FBQ2xDOzs7OztBQU9BO0FBQ0E7QUFDQW5GLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTU47Ozs7Ozs7O0FBUUE7Ozs7Ozs7QUFPQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXlCQTs7Ozs7Ozs7QUFRQTs7Ozs7OztBQU9BIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXGRhb1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JqZWN0SWQgfSBmcm9tIFwiYnNvblwiXG5cbmxldCBtb3ZpZXNcbmxldCBtZmxpeFxuY29uc3QgREVGQVVMVF9TT1JUID0gW1tcInRvbWF0b2VzLnZpZXdlci5udW1SZXZpZXdzXCIsIC0xXV1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW92aWVzREFPIHtcbiAgc3RhdGljIGFzeW5jIGluamVjdERCKGNvbm4pIHtcbiAgICBpZiAobW92aWVzKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIG1mbGl4ID0gYXdhaXQgY29ubi5kYihwcm9jZXNzLmVudi5NRkxJWF9OUylcbiAgICAgIG1vdmllcyA9IGF3YWl0IGNvbm4uZGIocHJvY2Vzcy5lbnYuTUZMSVhfTlMpLmNvbGxlY3Rpb24oXCJtb3ZpZXNcIilcbiAgICAgIHRoaXMubW92aWVzID0gbW92aWVzIC8vIHRoaXMgaXMgb25seSBmb3IgdGVzdGluZ1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBVbmFibGUgdG8gZXN0YWJsaXNoIGEgY29sbGVjdGlvbiBoYW5kbGUgaW4gbW92aWVzREFPOiAke2V9YCxcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBjb25uZWN0aW9uIHBvb2wgc2l6ZSwgd3JpdGUgY29uY2VybiBhbmQgdXNlciByb2xlcyBvbiB0aGVcbiAgICogY3VycmVudCBjbGllbnQuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPENvbmZpZ3VyYXRpb25SZXN1bHQ+fSBBbiBvYmplY3Qgd2l0aCBjb25maWd1cmF0aW9uIGRldGFpbHMuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0Q29uZmlndXJhdGlvbigpIHtcbiAgICBjb25zdCByb2xlSW5mbyA9IGF3YWl0IG1mbGl4LmNvbW1hbmQoeyBjb25uZWN0aW9uU3RhdHVzOiAxIH0pXG4gICAgY29uc3QgYXV0aEluZm8gPSByb2xlSW5mby5hdXRoSW5mby5hdXRoZW50aWNhdGVkVXNlclJvbGVzWzBdXG4gICAgY29uc3QgeyBwb29sU2l6ZSwgd3RpbWVvdXQgfSA9IG1vdmllcy5zLmRiLnNlcnZlckNvbmZpZy5zLm9wdGlvbnNcbiAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICBwb29sU2l6ZSxcbiAgICAgIHd0aW1lb3V0LFxuICAgICAgYXV0aEluZm8sXG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIGFuZCByZXR1cm5zIG1vdmllcyBvcmlnaW5hdGluZyBmcm9tIG9uZSBvciBtb3JlIGNvdW50cmllcy5cbiAgICogUmV0dXJucyBhIGxpc3Qgb2Ygb2JqZWN0cywgZWFjaCBvYmplY3QgY29udGFpbnMgYSB0aXRsZSBhbmQgYW4gX2lkLlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBjb3VudHJpZXMgLSBUaGUgbGlzdCBvZiBjb3VudHJpZXMuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPENvdW50cnlSZXN1bHQ+fSBBIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgdG8gYSBsaXN0IG9mIENvdW50cnlSZXN1bHRzLlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldE1vdmllc0J5Q291bnRyeShjb3VudHJpZXMpIHtcbiAgICAvKipcbiAgICBUaWNrZXQ6IFByb2plY3Rpb25cblxuICAgIFdyaXRlIGEgcXVlcnkgdGhhdCBtYXRjaGVzIG1vdmllcyB3aXRoIHRoZSBjb3VudHJpZXMgaW4gdGhlIFwiY291bnRyaWVzXCJcbiAgICBsaXN0LCBidXQgb25seSByZXR1cm5zIHRoZSB0aXRsZSBhbmQgX2lkIG9mIGVhY2ggbW92aWUuXG5cbiAgICBSZW1lbWJlciB0aGF0IGluIE1vbmdvREIsIHRoZSAkaW4gb3BlcmF0b3IgY2FuIGJlIHVzZWQgd2l0aCBhIGxpc3QgdG9cbiAgICBtYXRjaCBvbmUgb3IgbW9yZSB2YWx1ZXMgb2YgYSBzcGVjaWZpYyBmaWVsZC5cbiAgICAqL1xuXG4gICAgbGV0IGN1cnNvclxuICAgIHRyeSB7XG4gICAgICAvLyBUT0RPIFRpY2tldDogUHJvamVjdGlvblxuICAgICAgLy8gRmluZCBtb3ZpZXMgbWF0Y2hpbmcgdGhlIFwiY291bnRyaWVzXCIgbGlzdCwgYnV0IG9ubHkgcmV0dXJuIHRoZSB0aXRsZVxuICAgICAgLy8gYW5kIF9pZC4gRG8gbm90IHB1dCBhIGxpbWl0IGluIHlvdXIgb3duIGltcGxlbWVudGF0aW9uLCB0aGUgbGltaXRcbiAgICAgIC8vIGhlcmUgaXMgb25seSBpbmNsdWRlZCB0byBhdm9pZCBzZW5kaW5nIDQ2MDAwIGRvY3VtZW50cyBkb3duIHRoZVxuICAgICAgLy8gd2lyZS5cbiAgICAgIGN1cnNvciA9IGF3YWl0IG1vdmllcy5maW5kKFxuICAgICAgICB7XCJjb3VudHJpZXNcIjogeyRpbjogY291bnRyaWVzfX0sXG4gICAgICAgIHtwcm9qZWN0aW9uOiB7dGl0bGU6MX0gfVxuICAgICAgKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byBpc3N1ZSBmaW5kIGNvbW1hbmQsICR7ZX1gKVxuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnNvci50b0FycmF5KClcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBhbmQgcmV0dXJucyBtb3ZpZXMgbWF0Y2hpbmcgYSBnaXZlbiB0ZXh0IGluIHRoZWlyIHRpdGxlIG9yIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIG1hdGNoIHdpdGguXG4gICAqIEByZXR1cm5zIHtRdWVyeVBhcmFtc30gVGhlIFF1ZXJ5UGFyYW1zIGZvciB0ZXh0IHNlYXJjaFxuICAgKi9cbiAgc3RhdGljIHRleHRTZWFyY2hRdWVyeSh0ZXh0KSB7XG4gICAgY29uc3QgcXVlcnkgPSB7ICR0ZXh0OiB7ICRzZWFyY2g6IHRleHQgfSB9XG4gICAgY29uc3QgbWV0YV9zY29yZSA9IHsgJG1ldGE6IFwidGV4dFNjb3JlXCIgfVxuICAgIGNvbnN0IHNvcnQgPSBbW1wic2NvcmVcIiwgbWV0YV9zY29yZV1dXG4gICAgY29uc3QgcHJvamVjdCA9IHsgc2NvcmU6IG1ldGFfc2NvcmUgfVxuXG4gICAgcmV0dXJuIHsgcXVlcnksIHByb2plY3QsIHNvcnQgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIGFuZCByZXR1cm5zIG1vdmllcyBpbmNsdWRpbmcgb25lIG9yIG1vcmUgY2FzdCBtZW1iZXJzLlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBjYXN0IC0gVGhlIGNhc3QgbWVtYmVycyB0byBtYXRjaCB3aXRoLlxuICAgKiBAcmV0dXJucyB7UXVlcnlQYXJhbXN9IFRoZSBRdWVyeVBhcmFtcyBmb3IgY2FzdCBzZWFyY2hcbiAgICovXG4gIHN0YXRpYyBjYXN0U2VhcmNoUXVlcnkoY2FzdCkge1xuICAgIGNvbnN0IHNlYXJjaENhc3QgPSBBcnJheS5pc0FycmF5KGNhc3QpID8gY2FzdCA6IGNhc3Quc3BsaXQoXCIsIFwiKVxuXG4gICAgY29uc3QgcXVlcnkgPSB7IGNhc3Q6IHsgJGluOiBzZWFyY2hDYXN0IH0gfVxuICAgIGNvbnN0IHByb2plY3QgPSB7fVxuICAgIGNvbnN0IHNvcnQgPSBERUZBVUxUX1NPUlRcblxuICAgIHJldHVybiB7IHF1ZXJ5LCBwcm9qZWN0LCBzb3J0IH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBhbmQgcmV0dXJucyBtb3ZpZXMgbWF0Y2hpbmcgYSBvbmUgb3IgbW9yZSBnZW5yZXMuXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IGdlbnJlIC0gVGhlIGdlbnJlcyB0byBtYXRjaCB3aXRoLlxuICAgKiBAcmV0dXJucyB7UXVlcnlQYXJhbXN9IFRoZSBRdWVyeVBhcmFtcyBmb3IgZ2VucmUgc2VhcmNoXG4gICAqL1xuICBzdGF0aWMgZ2VucmVTZWFyY2hRdWVyeShnZW5yZSkge1xuICAgIC8qKlxuICAgIFRpY2tldDogVGV4dCBhbmQgU3ViZmllbGQgU2VhcmNoXG5cbiAgICBHaXZlbiBhbiBhcnJheSBvZiBvbmUgb3IgbW9yZSBnZW5yZXMsIGNvbnN0cnVjdCBhIHF1ZXJ5IHRoYXQgc2VhcmNoZXNcbiAgICBNb25nb0RCIGZvciBtb3ZpZXMgd2l0aCB0aGF0IGdlbnJlLlxuICAgICovXG5cbiAgICBjb25zdCBzZWFyY2hHZW5yZSA9IEFycmF5LmlzQXJyYXkoZ2VucmUpID8gZ2VucmUgOiBnZW5yZS5zcGxpdChcIiwgXCIpXG5cbiAgICAvLyBUT0RPIFRpY2tldDogVGV4dCBhbmQgU3ViZmllbGQgU2VhcmNoXG4gICAgLy8gQ29uc3RydWN0IGEgcXVlcnkgdGhhdCB3aWxsIHNlYXJjaCBmb3IgdGhlIGNob3NlbiBnZW5yZS5cbiAgICBjb25zdCBxdWVyeSA9IHtnZW5yZXM6IHskaW46c2VhcmNoR2VucmV9fVxuICAgIGNvbnN0IHByb2plY3QgPSB7fVxuICAgIGNvbnN0IHNvcnQgPSBERUZBVUxUX1NPUlRcblxuICAgIHJldHVybiB7IHF1ZXJ5LCBwcm9qZWN0LCBzb3J0IH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZmlsdGVycyAtIFRoZSBzZWFyY2ggcGFyYW1ldGVyIHRvIHVzZSBpbiB0aGUgcXVlcnkuIENvbWVzXG4gICAqIGluIHRoZSBmb3JtIG9mIGB7Y2FzdDogeyAkaW46IFsuLi5jYXN0TWVtYmVyc119fWBcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2UgLSBUaGUgcGFnZSBvZiBtb3ZpZXMgdG8gcmV0cmlldmUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtb3ZpZXNQZXJQYWdlIC0gVGhlIG51bWJlciBvZiBtb3ZpZXMgdG8gZGlzcGxheSBwZXIgcGFnZS5cbiAgICogQHJldHVybnMge0ZhY2V0ZWRTZWFyY2hSZXR1cm59IEZhY2V0ZWRTZWFyY2hSZXR1cm5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBmYWNldGVkU2VhcmNoKHtcbiAgICBmaWx0ZXJzID0gbnVsbCxcbiAgICBwYWdlID0gMCxcbiAgICBtb3ZpZXNQZXJQYWdlID0gMjAsXG4gIH0gPSB7fSkge1xuICAgIGlmICghZmlsdGVycyB8fCAhZmlsdGVycy5jYXN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHNwZWNpZnkgY2FzdCBtZW1iZXJzIHRvIGZpbHRlciBieS5cIilcbiAgICB9XG4gICAgY29uc3QgbWF0Y2hTdGFnZSA9IHsgJG1hdGNoOiBmaWx0ZXJzIH1cbiAgICBjb25zdCBzb3J0U3RhZ2UgPSB7ICRzb3J0OiB7IFwidG9tYXRvZXMudmlld2VyLm51bVJldmlld3NcIjogLTEgfSB9XG4gICAgY29uc3QgY291bnRpbmdQaXBlbGluZSA9IFttYXRjaFN0YWdlLCBzb3J0U3RhZ2UsIHsgJGNvdW50OiBcImNvdW50XCIgfV1cbiAgICBjb25zdCBza2lwU3RhZ2UgPSB7ICRza2lwOiBtb3ZpZXNQZXJQYWdlICogcGFnZSB9XG4gICAgY29uc3QgbGltaXRTdGFnZSA9IHsgJGxpbWl0OiBtb3ZpZXNQZXJQYWdlIH1cbiAgICBjb25zdCBmYWNldFN0YWdlID0ge1xuICAgICAgJGZhY2V0OiB7XG4gICAgICAgIHJ1bnRpbWU6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAkYnVja2V0OiB7XG4gICAgICAgICAgICAgIGdyb3VwQnk6IFwiJHJ1bnRpbWVcIixcbiAgICAgICAgICAgICAgYm91bmRhcmllczogWzAsIDYwLCA5MCwgMTIwLCAxODBdLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBcIm90aGVyXCIsXG4gICAgICAgICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgICAgIGNvdW50OiB7ICRzdW06IDEgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgcmF0aW5nOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgJGJ1Y2tldDoge1xuICAgICAgICAgICAgICBncm91cEJ5OiBcIiRtZXRhY3JpdGljXCIsXG4gICAgICAgICAgICAgIGJvdW5kYXJpZXM6IFswLCA1MCwgNzAsIDkwLCAxMDBdLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBcIm90aGVyXCIsXG4gICAgICAgICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgICAgIGNvdW50OiB7ICRzdW06IDEgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgbW92aWVzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgJGFkZEZpZWxkczoge1xuICAgICAgICAgICAgICB0aXRsZTogXCIkdGl0bGVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgLyoqXG4gICAgVGlja2V0OiBGYWNldGVkIFNlYXJjaFxuXG4gICAgUGxlYXNlIGFwcGVuZCB0aGUgc2tpcFN0YWdlLCBsaW1pdFN0YWdlLCBhbmQgZmFjZXRTdGFnZSB0byB0aGUgcXVlcnlQaXBlbGluZVxuICAgIChpbiB0aGF0IG9yZGVyKS4gWW91IGNhbiBhY2NvbXBsaXNoIHRoaXMgYnkgYWRkaW5nIHRoZSBzdGFnZXMgZGlyZWN0bHkgdG9cbiAgICB0aGUgcXVlcnlQaXBlbGluZS5cblxuICAgIFRoZSBxdWVyeVBpcGVsaW5lIGlzIGEgSmF2YXNjcmlwdCBhcnJheSwgc28geW91IGNhbiB1c2UgcHVzaCgpIG9yIGNvbmNhdCgpXG4gICAgdG8gY29tcGxldGUgdGhpcyB0YXNrLCBidXQgeW91IG1pZ2h0IGhhdmUgdG8gZG8gc29tZXRoaW5nIGFib3V0IGBjb25zdGAuXG4gICAgKi9cblxuICAgIGNvbnN0IHF1ZXJ5UGlwZWxpbmUgPSBbXG4gICAgICBtYXRjaFN0YWdlLFxuICAgICAgc29ydFN0YWdlLFxuICAgICAgLy8gVE9ETyBUaWNrZXQ6IEZhY2V0ZWQgU2VhcmNoXG4gICAgICAvLyBBZGQgdGhlIHN0YWdlcyB0byBxdWVyeVBpcGVsaW5lIGluIHRoZSBjb3JyZWN0IG9yZGVyLlxuICAgICAgc2tpcFN0YWdlLFxuICAgICAgbGltaXRTdGFnZSxcbiAgICAgIGZhY2V0U3RhZ2VcbiAgICBdXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IChhd2FpdCBtb3ZpZXMuYWdncmVnYXRlKHF1ZXJ5UGlwZWxpbmUpKS5uZXh0KClcbiAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgKGF3YWl0IG1vdmllcy5hZ2dyZWdhdGUoY291bnRpbmdQaXBlbGluZSkpLm5leHQoKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzdWx0cyxcbiAgICAgICAgLi4uY291bnQsXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IFwiUmVzdWx0cyB0b28gbGFyZ2UsIGJlIG1vcmUgcmVzdHJpY3RpdmUgaW4gZmlsdGVyXCIgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBhbmQgcmV0dXJucyBtb3ZpZXMgYnkgY291bnRyeS5cbiAgICogUmV0dXJucyBhIGxpc3Qgb2Ygb2JqZWN0cywgZWFjaCBvYmplY3QgY29udGFpbnMgYSB0aXRsZSBhbmQgYW4gX2lkLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZmlsdGVycyAtIFRoZSBzZWFyY2ggcGFyYW1ldGVycyB0byB1c2UgaW4gdGhlIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZSAtIFRoZSBwYWdlIG9mIG1vdmllcyB0byByZXRyaWV2ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1vdmllc1BlclBhZ2UgLSBUaGUgbnVtYmVyIG9mIG1vdmllcyB0byBkaXNwbGF5IHBlciBwYWdlLlxuICAgKiBAcmV0dXJucyB7R2V0TW92aWVzUmVzdWx0fSBBbiBvYmplY3Qgd2l0aCBtb3ZpZSByZXN1bHRzIGFuZCB0b3RhbCByZXN1bHRzXG4gICAqIHRoYXQgd291bGQgbWF0Y2ggdGhpcyBxdWVyeVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldE1vdmllcyh7XG4gICAgLy8gaGVyZSdzIHdoZXJlIHRoZSBkZWZhdWx0IHBhcmFtZXRlcnMgYXJlIHNldCBmb3IgdGhlIGdldE1vdmllcyBtZXRob2RcbiAgICBmaWx0ZXJzID0gbnVsbCxcbiAgICBwYWdlID0gMCxcbiAgICBtb3ZpZXNQZXJQYWdlID0gMjAsXG4gIH0gPSB7fSkge1xuICAgIGxldCBxdWVyeVBhcmFtcyA9IHt9XG4gICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgIGlmIChcInRleHRcIiBpbiBmaWx0ZXJzKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zID0gdGhpcy50ZXh0U2VhcmNoUXVlcnkoZmlsdGVyc1tcInRleHRcIl0pXG4gICAgICB9IGVsc2UgaWYgKFwiY2FzdFwiIGluIGZpbHRlcnMpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMgPSB0aGlzLmNhc3RTZWFyY2hRdWVyeShmaWx0ZXJzW1wiY2FzdFwiXSlcbiAgICAgIH0gZWxzZSBpZiAoXCJnZW5yZVwiIGluIGZpbHRlcnMpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMgPSB0aGlzLmdlbnJlU2VhcmNoUXVlcnkoZmlsdGVyc1tcImdlbnJlXCJdKVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB7IHF1ZXJ5ID0ge30sIHByb2plY3QgPSB7fSwgc29ydCA9IERFRkFVTFRfU09SVCB9ID0gcXVlcnlQYXJhbXNcbiAgICBsZXQgY3Vyc29yXG4gICAgdHJ5IHtcbiAgICAgIGN1cnNvciA9IGF3YWl0IG1vdmllc1xuICAgICAgICAuZmluZChxdWVyeSlcbiAgICAgICAgLnByb2plY3QocHJvamVjdClcbiAgICAgICAgLnNvcnQoc29ydClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gaXNzdWUgZmluZCBjb21tYW5kLCAke2V9YClcbiAgICAgIHJldHVybiB7IG1vdmllc0xpc3Q6IFtdLCB0b3RhbE51bU1vdmllczogMCB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgVGlja2V0OiBQYWdpbmdcblxuICAgIEJlZm9yZSB0aGlzIG1ldGhvZCByZXR1cm5zIGJhY2sgdG8gdGhlIEFQSSwgdXNlIHRoZSBcIm1vdmllc1BlclBhZ2VcIiBhbmRcbiAgICBcInBhZ2VcIiBhcmd1bWVudHMgdG8gZGVjaWRlIHRoZSBtb3ZpZXMgdG8gZGlzcGxheS5cblxuICAgIFBhZ2luZyBjYW4gYmUgaW1wbGVtZW50ZWQgYnkgdXNpbmcgdGhlIHNraXAoKSBhbmQgbGltaXQoKSBjdXJzb3IgbWV0aG9kcy5cbiAgICAqL1xuICAgXG5cbiAgICAvLyBUT0RPIFRpY2tldDogUGFnaW5nXG4gICAgLy8gVXNlIHRoZSBjdXJzb3IgdG8gb25seSByZXR1cm4gdGhlIG1vdmllcyB0aGF0IGJlbG9uZyBvbiB0aGUgY3VycmVudCBwYWdlXG4gICAgY29uc3QgZGlzcGxheUN1cnNvciA9IGN1cnNvci5za2lwKHBhZ2UqbW92aWVzUGVyUGFnZSkubGltaXQobW92aWVzUGVyUGFnZSlcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBtb3ZpZXNMaXN0ID0gYXdhaXQgZGlzcGxheUN1cnNvci50b0FycmF5KClcbiAgICAgIGNvbnN0IHRvdGFsTnVtTW92aWVzID0gcGFnZSA9PT0gMCA/IGF3YWl0IG1vdmllcy5jb3VudERvY3VtZW50cyhxdWVyeSkgOiAwXG5cbiAgICAgIHJldHVybiB7IG1vdmllc0xpc3QsIHRvdGFsTnVtTW92aWVzIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgVW5hYmxlIHRvIGNvbnZlcnQgY3Vyc29yIHRvIGFycmF5IG9yIHByb2JsZW0gY291bnRpbmcgZG9jdW1lbnRzLCAke2V9YCxcbiAgICAgIClcbiAgICAgIHJldHVybiB7IG1vdmllc0xpc3Q6IFtdLCB0b3RhbE51bU1vdmllczogMCB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBtb3ZpZSBieSBpdHMgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGRlc2lyZWQgbW92aWUgaWQsIHRoZSBfaWQgaW4gTW9uZ29cbiAgICogQHJldHVybnMge01mbGl4TW92aWUgfCBudWxsfSBSZXR1cm5zIGVpdGhlciBhIHNpbmdsZSBtb3ZpZSBvciBub3RoaW5nXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0TW92aWVCeUlEKGlkKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8qKlxuICAgICAgVGlja2V0OiBHZXQgQ29tbWVudHNcblxuICAgICAgR2l2ZW4gYSBtb3ZpZSBJRCwgYnVpbGQgYW4gQWdncmVnYXRpb24gUGlwZWxpbmUgdG8gcmV0cmlldmUgdGhlIGNvbW1lbnRzXG4gICAgICBtYXRjaGluZyB0aGF0IG1vdmllJ3MgSUQuXG5cbiAgICAgIFRoZSAkbWF0Y2ggc3RhZ2UgaXMgYWxyZWFkeSBjb21wbGV0ZWQuIFlvdSB3aWxsIG5lZWQgdG8gYWRkIGEgJGxvb2t1cFxuICAgICAgc3RhZ2UgdGhhdCBzZWFyY2hlcyB0aGUgYGNvbW1lbnRzYCBjb2xsZWN0aW9uIGZvciB0aGUgY29ycmVjdCBjb21tZW50cy5cbiAgICAgICovXG5cbiAgICAgIC8vIFRPRE8gVGlja2V0OiBHZXQgQ29tbWVudHNcbiAgICAgIC8vIEltcGxlbWVudCB0aGUgcmVxdWlyZWQgcGlwZWxpbmUuXG4gICAgICBjb25zdCBwaXBlbGluZSA9IFtcbiAgICAgICAge1xuICAgICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICAgX2lkOiBPYmplY3RJZChpZClcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAkbG9va3VwOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBmcm9tOiAnY29tbWVudHMnLFxuICAgICAgICAgICAgICBsZXQ6eydpZCc6JyRfaWQnfSxcbiAgICAgICAgICAgICAgcGlwZWxpbmU6IFt7JG1hdGNoOlxuICAgICAgICAgICAgICAgeyckZXhwcic6IHsnJGVxJzogWyckbW92aWVfaWQnLFwiJCRpZFwiXX19fSxcbiAgICAgICAgICAgICAgIHskc29ydDp7ZGF0ZTotMX19XG4gICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgYXM6ICdjb21tZW50cydcbiAgICAgICAgICAgIH1cbiAgICAgICB9XG4gICAgICBdXG4gICAgICByZXR1cm4gYXdhaXQgbW92aWVzLmFnZ3JlZ2F0ZShwaXBlbGluZSkubmV4dCgpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc3QgZmlyc3RXb3JkPWUudG9TdHJpbmcoKS5zcGxpdChcIiBcIilbMV1cbiAgICAgIGlmKGZpcnN0V29yZD09PVwiQXJndW1lbnRcIikgcmV0dXJuIG51bGw7XG4gICAgICAvKipcbiAgICAgIFRpY2tldDogRXJyb3IgSGFuZGxpbmdcblxuICAgICAgSGFuZGxlIHRoZSBlcnJvciB0aGF0IG9jY3VycyB3aGVuIGFuIGludmFsaWQgSUQgaXMgcGFzc2VkIHRvIHRoaXMgbWV0aG9kLlxuICAgICAgV2hlbiB0aGlzIHNwZWNpZmljIGVycm9yIGlzIHRocm93biwgdGhlIG1ldGhvZCBzaG91bGQgcmV0dXJuIGBudWxsYC5cbiAgICAgICovXG5cbiAgICAgIC8vIFRPRE8gVGlja2V0OiBFcnJvciBIYW5kbGluZ1xuICAgICAgLy8gQ2F0Y2ggdGhlIEludmFsaWRJZCBlcnJvciBieSBzdHJpbmcgbWF0Y2hpbmcsIGFuZCB0aGVuIGhhbmRsZSBpdC5cbiAgICAgIGNvbnNvbGUuZXJyb3IoYFNvbWV0aGluZyB3ZW50IHdyb25nIGluIGdldE1vdmllQnlJRDogJHtlfWApXG4gICAgICB0aHJvdyBlXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGhpcyBpcyBhIHBhcnNlZCBxdWVyeSwgc29ydCwgYW5kIHByb2plY3QgYnVuZGxlLlxuICogQHR5cGVkZWYgUXVlcnlQYXJhbXNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBxdWVyeSAtIFRoZSBzcGVjaWZpZWQgcXVlcnksIHRyYW5zZm9ybWVkIGFjY29yZGluZ2x5XG4gKiBAcHJvcGVydHkge2FueVtdfSBzb3J0IC0gVGhlIHNwZWNpZmllZCBzb3J0XG4gKiBAcHJvcGVydHkge09iamVjdH0gcHJvamVjdCAtIFRoZSBzcGVjaWZpZWQgcHJvamVjdCwgaWYgYW55XG4gKi9cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIGNvdW50cnkgcmVzdWx0XG4gKiBAdHlwZWRlZiBDb3VudHJ5UmVzdWx0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gT2JqZWN0SUQgLSBUaGUgT2JqZWN0SUQgb2YgdGhlIG1vdmllXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdGl0bGUgLSBUaGUgdGl0bGUgb2YgdGhlIG1vdmllXG4gKi9cblxuLyoqXG4gKiBBIE1vdmllIGZyb20gbWZsaXhcbiAqIEB0eXBlZGVmIE1mbGl4TW92aWVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBfaWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aXRsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHllYXJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBydW50aW1lXG4gKiBAcHJvcGVydHkge0RhdGV9IHJlbGVhc2VkXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBjYXN0XG4gKiBAcHJvcGVydHkge251bWJlcn0gbWV0YWNyaXRpY2RcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwb3N0ZXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwbG90XG4gKiBAcHJvcGVydHkge3N0cmluZ30gZnVsbHBsb3RcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfERhdGV9IGxhc3R1cGRhdGVkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZVxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gbGFuZ3VhZ2VzXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBkaXJlY3RvcnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IHdyaXRlcnNcbiAqIEBwcm9wZXJ0eSB7SU1EQn0gaW1kYlxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gY291bnRyaWVzXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSByYXRlZFxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZ2VucmVzXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBjb21tZW50c1xuICovXG5cbi8qKlxuICogSU1EQiBzdWJkb2N1bWVudFxuICogQHR5cGVkZWYgSU1EQlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhdGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHZvdGVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gaWRcbiAqL1xuXG4vKipcbiAqIFJlc3VsdCBzZXQgZm9yIGdldE1vdmllcyBtZXRob2RcbiAqIEB0eXBlZGVmIEdldE1vdmllc1Jlc3VsdFxuICogQHByb3BlcnR5IHtNZmxpeE1vdmllc1tdfSBtb3ZpZXNMaXN0XG4gKiBAcHJvcGVydHkge251bWJlcn0gdG90YWxOdW1SZXN1bHRzXG4gKi9cblxuLyoqXG4gKiBGYWNldGVkIFNlYXJjaCBSZXR1cm5cbiAqXG4gKiBUaGUgdHlwZSBvZiByZXR1cm4gZnJvbSBmYWNldGVkIHNlYXJjaC4gSXQgd2lsbCBiZSBhIHNpbmdsZSBkb2N1bWVudCB3aXRoXG4gKiAzIGZpZWxkczogcmF0aW5nLCBydW50aW1lLCBhbmQgbW92aWVzLlxuICogQHR5cGVkZWYgRmFjZXRlZFNlYXJjaFJldHVyblxuICogQHByb3BlcnR5IHtvYmplY3R9IHJhdGluZ1xuICogQHByb3BlcnR5IHtvYmplY3R9IHJ1bnRpbWVcbiAqIEBwcm9wZXJ0eSB7TUZsaXhNb3ZpZVtdfW1vdmllc1xuICovXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "moviesDAO.js"
      ],
      "names": [
        "movies",
        "mflix",
        "DEFAULT_SORT",
        "MoviesDAO",
        "conn",
        "db",
        "process",
        "env",
        "MFLIX_NS",
        "collection",
        "console",
        "error",
        "command",
        "connectionStatus",
        "roleInfo",
        "authInfo",
        "authenticatedUserRoles",
        "s",
        "serverConfig",
        "options",
        "poolSize",
        "wtimeout",
        "response",
        "countries",
        "find",
        "$in",
        "projection",
        "title",
        "cursor",
        "toArray",
        "text",
        "query",
        "$text",
        "$search",
        "meta_score",
        "$meta",
        "sort",
        "project",
        "score",
        "cast",
        "searchCast",
        "Array",
        "isArray",
        "split",
        "genre",
        "searchGenre",
        "genres",
        "filters",
        "page",
        "moviesPerPage",
        "Error",
        "matchStage",
        "$match",
        "sortStage",
        "$sort",
        "countingPipeline",
        "$count",
        "skipStage",
        "$skip",
        "limitStage",
        "$limit",
        "facetStage",
        "$facet",
        "runtime",
        "$bucket",
        "groupBy",
        "boundaries",
        "output",
        "count",
        "$sum",
        "rating",
        "$addFields",
        "queryPipeline",
        "aggregate",
        "next",
        "results",
        "queryParams",
        "textSearchQuery",
        "castSearchQuery",
        "genreSearchQuery",
        "moviesList",
        "totalNumMovies",
        "displayCursor",
        "skip",
        "limit",
        "countDocuments",
        "id",
        "pipeline",
        "_id",
        "$lookup",
        "from",
        "date",
        "as",
        "firstWord",
        "toString"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "sourcesContent": [
        "import { ObjectId } from \"bson\"\n\nlet movies\nlet mflix\nconst DEFAULT_SORT = [[\"tomatoes.viewer.numReviews\", -1]]\n\nexport default class MoviesDAO {\n  static async injectDB(conn) {\n    if (movies) {\n      return\n    }\n    try {\n      mflix = await conn.db(process.env.MFLIX_NS)\n      movies = await conn.db(process.env.MFLIX_NS).collection(\"movies\")\n      this.movies = movies // this is only for testing\n    } catch (e) {\n      console.error(\n        `Unable to establish a collection handle in moviesDAO: ${e}`,\n      )\n    }\n  }\n\n  /**\n   * Retrieves the connection pool size, write concern and user roles on the\n   * current client.\n   * @returns {Promise<ConfigurationResult>} An object with configuration details.\n   */\n  static async getConfiguration() {\n    const roleInfo = await mflix.command({ connectionStatus: 1 })\n    const authInfo = roleInfo.authInfo.authenticatedUserRoles[0]\n    const { poolSize, wtimeout } = movies.s.db.serverConfig.s.options\n    let response = {\n      poolSize,\n      wtimeout,\n      authInfo,\n    }\n    return response\n  }\n\n  /**\n   * Finds and returns movies originating from one or more countries.\n   * Returns a list of objects, each object contains a title and an _id.\n   * @param {string[]} countries - The list of countries.\n   * @returns {Promise<CountryResult>} A promise that will resolve to a list of CountryResults.\n   */\n  static async getMoviesByCountry(countries) {\n    /**\n    Ticket: Projection\n\n    Write a query that matches movies with the countries in the \"countries\"\n    list, but only returns the title and _id of each movie.\n\n    Remember that in MongoDB, the $in operator can be used with a list to\n    match one or more values of a specific field.\n    */\n\n    let cursor\n    try {\n      // TODO Ticket: Projection\n      // Find movies matching the \"countries\" list, but only return the title\n      // and _id. Do not put a limit in your own implementation, the limit\n      // here is only included to avoid sending 46000 documents down the\n      // wire.\n      cursor = await movies.find(\n        {\"countries\": {$in: countries}},\n        {projection: {title:1} }\n      )\n    } catch (e) {\n      console.error(`Unable to issue find command, ${e}`)\n      return []\n    }\n\n    return cursor.toArray()\n  }\n\n  /**\n   * Finds and returns movies matching a given text in their title or description.\n   * @param {string} text - The text to match with.\n   * @returns {QueryParams} The QueryParams for text search\n   */\n  static textSearchQuery(text) {\n    const query = { $text: { $search: text } }\n    const meta_score = { $meta: \"textScore\" }\n    const sort = [[\"score\", meta_score]]\n    const project = { score: meta_score }\n\n    return { query, project, sort }\n  }\n\n  /**\n   * Finds and returns movies including one or more cast members.\n   * @param {string[]} cast - The cast members to match with.\n   * @returns {QueryParams} The QueryParams for cast search\n   */\n  static castSearchQuery(cast) {\n    const searchCast = Array.isArray(cast) ? cast : cast.split(\", \")\n\n    const query = { cast: { $in: searchCast } }\n    const project = {}\n    const sort = DEFAULT_SORT\n\n    return { query, project, sort }\n  }\n\n  /**\n   * Finds and returns movies matching a one or more genres.\n   * @param {string[]} genre - The genres to match with.\n   * @returns {QueryParams} The QueryParams for genre search\n   */\n  static genreSearchQuery(genre) {\n    /**\n    Ticket: Text and Subfield Search\n\n    Given an array of one or more genres, construct a query that searches\n    MongoDB for movies with that genre.\n    */\n\n    const searchGenre = Array.isArray(genre) ? genre : genre.split(\", \")\n\n    // TODO Ticket: Text and Subfield Search\n    // Construct a query that will search for the chosen genre.\n    const query = {genres: {$in:searchGenre}}\n    const project = {}\n    const sort = DEFAULT_SORT\n\n    return { query, project, sort }\n  }\n\n  /**\n   *\n   * @param {Object} filters - The search parameter to use in the query. Comes\n   * in the form of `{cast: { $in: [...castMembers]}}`\n   * @param {number} page - The page of movies to retrieve.\n   * @param {number} moviesPerPage - The number of movies to display per page.\n   * @returns {FacetedSearchReturn} FacetedSearchReturn\n   */\n  static async facetedSearch({\n    filters = null,\n    page = 0,\n    moviesPerPage = 20,\n  } = {}) {\n    if (!filters || !filters.cast) {\n      throw new Error(\"Must specify cast members to filter by.\")\n    }\n    const matchStage = { $match: filters }\n    const sortStage = { $sort: { \"tomatoes.viewer.numReviews\": -1 } }\n    const countingPipeline = [matchStage, sortStage, { $count: \"count\" }]\n    const skipStage = { $skip: moviesPerPage * page }\n    const limitStage = { $limit: moviesPerPage }\n    const facetStage = {\n      $facet: {\n        runtime: [\n          {\n            $bucket: {\n              groupBy: \"$runtime\",\n              boundaries: [0, 60, 90, 120, 180],\n              default: \"other\",\n              output: {\n                count: { $sum: 1 },\n              },\n            },\n          },\n        ],\n        rating: [\n          {\n            $bucket: {\n              groupBy: \"$metacritic\",\n              boundaries: [0, 50, 70, 90, 100],\n              default: \"other\",\n              output: {\n                count: { $sum: 1 },\n              },\n            },\n          },\n        ],\n        movies: [\n          {\n            $addFields: {\n              title: \"$title\",\n            },\n          },\n        ],\n      },\n    }\n\n    /**\n    Ticket: Faceted Search\n\n    Please append the skipStage, limitStage, and facetStage to the queryPipeline\n    (in that order). You can accomplish this by adding the stages directly to\n    the queryPipeline.\n\n    The queryPipeline is a Javascript array, so you can use push() or concat()\n    to complete this task, but you might have to do something about `const`.\n    */\n\n    const queryPipeline = [\n      matchStage,\n      sortStage,\n      // TODO Ticket: Faceted Search\n      // Add the stages to queryPipeline in the correct order.\n      skipStage,\n      limitStage,\n      facetStage\n    ]\n\n    try {\n      const results = await (await movies.aggregate(queryPipeline)).next()\n      const count = await (await movies.aggregate(countingPipeline)).next()\n      return {\n        ...results,\n        ...count,\n      }\n    } catch (e) {\n      return { error: \"Results too large, be more restrictive in filter\" }\n    }\n  }\n\n  /**\n   * Finds and returns movies by country.\n   * Returns a list of objects, each object contains a title and an _id.\n   * @param {Object} filters - The search parameters to use in the query.\n   * @param {number} page - The page of movies to retrieve.\n   * @param {number} moviesPerPage - The number of movies to display per page.\n   * @returns {GetMoviesResult} An object with movie results and total results\n   * that would match this query\n   */\n  static async getMovies({\n    // here's where the default parameters are set for the getMovies method\n    filters = null,\n    page = 0,\n    moviesPerPage = 20,\n  } = {}) {\n    let queryParams = {}\n    if (filters) {\n      if (\"text\" in filters) {\n        queryParams = this.textSearchQuery(filters[\"text\"])\n      } else if (\"cast\" in filters) {\n        queryParams = this.castSearchQuery(filters[\"cast\"])\n      } else if (\"genre\" in filters) {\n        queryParams = this.genreSearchQuery(filters[\"genre\"])\n      }\n    }\n\n    let { query = {}, project = {}, sort = DEFAULT_SORT } = queryParams\n    let cursor\n    try {\n      cursor = await movies\n        .find(query)\n        .project(project)\n        .sort(sort)\n    } catch (e) {\n      console.error(`Unable to issue find command, ${e}`)\n      return { moviesList: [], totalNumMovies: 0 }\n    }\n\n    /**\n    Ticket: Paging\n\n    Before this method returns back to the API, use the \"moviesPerPage\" and\n    \"page\" arguments to decide the movies to display.\n\n    Paging can be implemented by using the skip() and limit() cursor methods.\n    */\n   \n\n    // TODO Ticket: Paging\n    // Use the cursor to only return the movies that belong on the current page\n    const displayCursor = cursor.skip(page*moviesPerPage).limit(moviesPerPage)\n\n    try {\n      const moviesList = await displayCursor.toArray()\n      const totalNumMovies = page === 0 ? await movies.countDocuments(query) : 0\n\n      return { moviesList, totalNumMovies }\n    } catch (e) {\n      console.error(\n        `Unable to convert cursor to array or problem counting documents, ${e}`,\n      )\n      return { moviesList: [], totalNumMovies: 0 }\n    }\n  }\n\n  /**\n   * Gets a movie by its id\n   * @param {string} id - The desired movie id, the _id in Mongo\n   * @returns {MflixMovie | null} Returns either a single movie or nothing\n   */\n  static async getMovieByID(id) {\n    try {\n      /**\n      Ticket: Get Comments\n\n      Given a movie ID, build an Aggregation Pipeline to retrieve the comments\n      matching that movie's ID.\n\n      The $match stage is already completed. You will need to add a $lookup\n      stage that searches the `comments` collection for the correct comments.\n      */\n\n      // TODO Ticket: Get Comments\n      // Implement the required pipeline.\n      const pipeline = [\n        {\n          $match: {\n            _id: ObjectId(id)\n          }\n        },\n        {\n          $lookup:\n            {\n              from: 'comments',\n              let:{'id':'$_id'},\n              pipeline: [{$match:\n               {'$expr': {'$eq': ['$movie_id',\"$$id\"]}}},\n               {$sort:{date:-1}}\n                         ],\n              as: 'comments'\n            }\n       }\n      ]\n      return await movies.aggregate(pipeline).next()\n    } catch (e) {\n      const firstWord=e.toString().split(\" \")[1]\n      if(firstWord===\"Argument\") return null;\n      /**\n      Ticket: Error Handling\n\n      Handle the error that occurs when an invalid ID is passed to this method.\n      When this specific error is thrown, the method should return `null`.\n      */\n\n      // TODO Ticket: Error Handling\n      // Catch the InvalidId error by string matching, and then handle it.\n      console.error(`Something went wrong in getMovieByID: ${e}`)\n      throw e\n    }\n  }\n}\n\n/**\n * This is a parsed query, sort, and project bundle.\n * @typedef QueryParams\n * @property {Object} query - The specified query, transformed accordingly\n * @property {any[]} sort - The specified sort\n * @property {Object} project - The specified project, if any\n */\n\n/**\n * Represents a single country result\n * @typedef CountryResult\n * @property {string} ObjectID - The ObjectID of the movie\n * @property {string} title - The title of the movie\n */\n\n/**\n * A Movie from mflix\n * @typedef MflixMovie\n * @property {string} _id\n * @property {string} title\n * @property {number} year\n * @property {number} runtime\n * @property {Date} released\n * @property {string[]} cast\n * @property {number} metacriticd\n * @property {string} poster\n * @property {string} plot\n * @property {string} fullplot\n * @property {string|Date} lastupdated\n * @property {string} type\n * @property {string[]} languages\n * @property {string[]} directors\n * @property {string[]} writers\n * @property {IMDB} imdb\n * @property {string[]} countries\n * @property {string[]} rated\n * @property {string[]} genres\n * @property {string[]} comments\n */\n\n/**\n * IMDB subdocument\n * @typedef IMDB\n * @property {number} rating\n * @property {number} votes\n * @property {number} id\n */\n\n/**\n * Result set for getMovies method\n * @typedef GetMoviesResult\n * @property {MflixMovies[]} moviesList\n * @property {number} totalNumResults\n */\n\n/**\n * Faceted Search Return\n *\n * The type of return from faceted search. It will be a single document with\n * 3 fields: rating, runtime, and movies.\n * @typedef FacetedSearchReturn\n * @property {object} rating\n * @property {object} runtime\n * @property {MFlixMovie[]}movies\n */\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600084425308
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\comments.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\comments.controller.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\comments.controller.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\comments.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
        "sourceFileName": "comments.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _usersDAO = _interopRequireDefault(require(\"../dao/usersDAO\"));\n\nvar _commentsDAO = _interopRequireDefault(require(\"../dao/commentsDAO\"));\n\nvar _moviesDAO = _interopRequireDefault(require(\"../dao/moviesDAO\"));\n\nvar _users = require(\"./users.controller\");\n\nvar _bson = require(\"bson\");\n\nvar CommentsController = /*#__PURE__*/function () {\n  function CommentsController() {\n    (0, _classCallCheck2[\"default\"])(this, CommentsController);\n  }\n\n  (0, _createClass2[\"default\"])(CommentsController, null, [{\n    key: \"apiPostComment\",\n    value: function () {\n      var _apiPostComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n        var userJwt, user, error, movieId, comment, date, commentResponse, updatedComments;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context.next = 4;\n                return _users.User.decoded(userJwt);\n\n              case 4:\n                user = _context.sent;\n                error = user.error;\n\n                if (!error) {\n                  _context.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context.abrupt(\"return\");\n\n              case 9:\n                movieId = req.body.movie_id;\n                comment = req.body.comment;\n                date = new Date();\n                _context.next = 14;\n                return _commentsDAO[\"default\"].addComment((0, _bson.ObjectId)(movieId), user, comment, date);\n\n              case 14:\n                commentResponse = _context.sent;\n                _context.next = 17;\n                return _moviesDAO[\"default\"].getMovieByID(movieId);\n\n              case 17:\n                updatedComments = _context.sent;\n                res.json({\n                  status: \"success\",\n                  comments: updatedComments.comments\n                });\n                _context.next = 24;\n                break;\n\n              case 21:\n                _context.prev = 21;\n                _context.t0 = _context[\"catch\"](0);\n                res.status(500).json({\n                  e: _context.t0\n                });\n\n              case 24:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 21]]);\n      }));\n\n      function apiPostComment(_x, _x2, _x3) {\n        return _apiPostComment.apply(this, arguments);\n      }\n\n      return apiPostComment;\n    }()\n  }, {\n    key: \"apiUpdateComment\",\n    value: function () {\n      var _apiUpdateComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res, next) {\n        var userJwt, user, error, commentId, text, date, commentResponse, movieId, updatedComments;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context2.next = 4;\n                return _users.User.decoded(userJwt);\n\n              case 4:\n                user = _context2.sent;\n                error = user.error;\n\n                if (!error) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context2.abrupt(\"return\");\n\n              case 9:\n                commentId = req.body.comment_id;\n                text = req.body.updated_comment;\n                date = new Date();\n                _context2.next = 14;\n                return _commentsDAO[\"default\"].updateComment((0, _bson.ObjectId)(commentId), user.email, text, date);\n\n              case 14:\n                commentResponse = _context2.sent;\n                error = commentResponse.error;\n\n                if (error) {\n                  res.status(400).json({\n                    error: error\n                  });\n                }\n\n                if (!(commentResponse.modifiedCount === 0)) {\n                  _context2.next = 19;\n                  break;\n                }\n\n                throw new Error(\"unable to update comment - user may not be original poster\");\n\n              case 19:\n                movieId = req.body.movie_id;\n                _context2.next = 22;\n                return _moviesDAO[\"default\"].getMovieByID(movieId);\n\n              case 22:\n                updatedComments = _context2.sent;\n                res.json({\n                  comments: updatedComments.comments\n                });\n                _context2.next = 29;\n                break;\n\n              case 26:\n                _context2.prev = 26;\n                _context2.t0 = _context2[\"catch\"](0);\n                res.status(500).json({\n                  e: _context2.t0\n                });\n\n              case 29:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 26]]);\n      }));\n\n      function apiUpdateComment(_x4, _x5, _x6) {\n        return _apiUpdateComment.apply(this, arguments);\n      }\n\n      return apiUpdateComment;\n    }()\n  }, {\n    key: \"apiDeleteComment\",\n    value: function () {\n      var _apiDeleteComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res, next) {\n        var userJwt, user, error, commentId, userEmail, commentResponse, movieId, _yield$MoviesDAO$getM, comments;\n\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context3.next = 4;\n                return _users.User.decoded(userJwt);\n\n              case 4:\n                user = _context3.sent;\n                error = user.error;\n\n                if (!error) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context3.abrupt(\"return\");\n\n              case 9:\n                commentId = req.body.comment_id;\n                userEmail = user.email;\n                _context3.next = 13;\n                return _commentsDAO[\"default\"].deleteComment((0, _bson.ObjectId)(commentId), userEmail);\n\n              case 13:\n                commentResponse = _context3.sent;\n                movieId = req.body.movie_id;\n                _context3.next = 17;\n                return _moviesDAO[\"default\"].getMovieByID(movieId);\n\n              case 17:\n                _yield$MoviesDAO$getM = _context3.sent;\n                comments = _yield$MoviesDAO$getM.comments;\n                res.json({\n                  comments: comments\n                });\n                _context3.next = 25;\n                break;\n\n              case 22:\n                _context3.prev = 22;\n                _context3.t0 = _context3[\"catch\"](0);\n                res.status(500).json({\n                  e: _context3.t0\n                });\n\n              case 25:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 22]]);\n      }));\n\n      function apiDeleteComment(_x7, _x8, _x9) {\n        return _apiDeleteComment.apply(this, arguments);\n      }\n\n      return apiDeleteComment;\n    }()\n  }, {\n    key: \"apiCommentReport\",\n    value: function () {\n      var _apiCommentReport = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res, next) {\n        var userJwt, user, error, report;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context4.next = 4;\n                return _users.User.decoded(userJwt);\n\n              case 4:\n                user = _context4.sent;\n                error = user.error;\n\n                if (!error) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context4.abrupt(\"return\");\n\n              case 9:\n                if (!_usersDAO[\"default\"].checkAdmin(user.email)) {\n                  _context4.next = 15;\n                  break;\n                }\n\n                _context4.next = 12;\n                return _commentsDAO[\"default\"].mostActiveCommenters();\n\n              case 12:\n                report = _context4.sent;\n                res.json({\n                  report: report\n                });\n                return _context4.abrupt(\"return\");\n\n              case 15:\n                res.status(401).json({\n                  status: \"fail\"\n                });\n                _context4.next = 21;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](0);\n                res.status(500).json({\n                  e: _context4.t0\n                });\n\n              case 21:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 18]]);\n      }));\n\n      function apiCommentReport(_x10, _x11, _x12) {\n        return _apiCommentReport.apply(this, arguments);\n      }\n\n      return apiCommentReport;\n    }()\n  }]);\n  return CommentsController;\n}();\n\nexports[\"default\"] = CommentsController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiQ29tbWVudHNDb250cm9sbGVyIiwicmVxIiwicmVzIiwibmV4dCIsInVzZXJKd3QiLCJnZXQiLCJzbGljZSIsImxlbmd0aCIsIlVzZXIiLCJkZWNvZGVkIiwidXNlciIsImVycm9yIiwic3RhdHVzIiwianNvbiIsIm1vdmllSWQiLCJib2R5IiwibW92aWVfaWQiLCJjb21tZW50IiwiZGF0ZSIsIkRhdGUiLCJDb21tZW50c0RBTyIsImFkZENvbW1lbnQiLCJjb21tZW50UmVzcG9uc2UiLCJNb3ZpZXNEQU8iLCJnZXRNb3ZpZUJ5SUQiLCJ1cGRhdGVkQ29tbWVudHMiLCJjb21tZW50cyIsImUiLCJjb21tZW50SWQiLCJjb21tZW50X2lkIiwidGV4dCIsInVwZGF0ZWRfY29tbWVudCIsInVwZGF0ZUNvbW1lbnQiLCJlbWFpbCIsIm1vZGlmaWVkQ291bnQiLCJFcnJvciIsInVzZXJFbWFpbCIsImRlbGV0ZUNvbW1lbnQiLCJVc2Vyc0RBTyIsImNoZWNrQWRtaW4iLCJtb3N0QWN0aXZlQ29tbWVudGVycyIsInJlcG9ydCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7SUFFcUJBLGtCOzs7Ozs7OzsySEFDU0MsRyxFQUFLQyxHLEVBQUtDLEk7Ozs7Ozs7QUFFNUJDLGdCQUFBQSxPLEdBQVVILEdBQUcsQ0FBQ0ksR0FBSixDQUFRLGVBQVIsRUFBeUJDLEtBQXpCLENBQStCLFVBQVVDLE1BQXpDLEM7O3VCQUNHQyxZQUFLQyxPQUFMLENBQWFMLE9BQWIsQzs7O0FBQWJNLGdCQUFBQSxJO0FBQ0FDLGdCQUFBQSxLLEdBQVVELEksQ0FBVkMsSzs7cUJBQ0ZBLEs7Ozs7O0FBQ0ZULGdCQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRixrQkFBQUEsS0FBSyxFQUFMQTtBQUFGLGlCQUFyQjs7OztB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d0JBQVlvQixvQkFBWixFOzs7QUFBZkMsZ0JBQUFBLE07QUFDTnZDLGdCQUFBQSxHQUFHLENBQUNXLElBQUosQ0FBUztBQUFFNEIsa0JBQUFBLE1BQU0sRUFBTkE7QUFBRixpQkFBVDs7OztBQUlGdkMsZ0JBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVELGtCQUFBQSxNQUFNLEVBQUU7QUFBVixpQkFBckI7Ozs7Ozs7QUFFQVYsZ0JBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVjLGtCQUFBQSxDQUFDO0FBQUgsaUJBQXJCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXGFwaVxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXJzREFPIGZyb20gXCIuLi9kYW8vdXNlcnNEQU9cIlxuaW1wb3J0IENvbW1lbnRzREFPIGZyb20gXCIuLi9kYW8vY29tbWVudHNEQU9cIlxuaW1wb3J0IE1vdmllc0RBTyBmcm9tIFwiLi4vZGFvL21vdmllc0RBT1wiXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4vdXNlcnMuY29udHJvbGxlclwiXG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gXCJic29uXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbWVudHNDb250cm9sbGVyIHtcbiAgc3RhdGljIGFzeW5jIGFwaVBvc3RDb21tZW50KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5kZWNvZGVkKHVzZXJKd3QpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gdXNlclxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3IgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1vdmllSWQgPSByZXEuYm9keS5tb3ZpZV9pZFxuICAgICAgY29uc3QgY29tbWVudCA9IHJlcS5ib2R5LmNvbW1lbnRcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXG5cbiAgICAgIGNvbnN0IGNvbW1lbnRSZXNwb25zZSA9IGF3YWl0IENvbW1lbnRzREFPLmFkZENvbW1lbnQoXG4gICAgICAgIE9iamVjdElkKG1vdmllSWQpLFxuICAgICAgICB1c2VyLFxuICAgICAgICBjb21tZW50LFxuICAgICAgICBkYXRlLFxuICAgICAgKVxuXG4gICAgICBjb25zdCB1cGRhdGVkQ29tbWVudHMgPSBhd2FpdCBNb3ZpZXNEQU8uZ2V0TW92aWVCeUlEKG1vdmllSWQpXG5cbiAgICAgIHJlcy5qc29uKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgY29tbWVudHM6IHVwZGF0ZWRDb21tZW50cy5jb21tZW50cyB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZSB9KVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBhcGlVcGRhdGVDb21tZW50KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5kZWNvZGVkKHVzZXJKd3QpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gdXNlclxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3IgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbW1lbnRJZCA9IHJlcS5ib2R5LmNvbW1lbnRfaWRcbiAgICAgIGNvbnN0IHRleHQgPSByZXEuYm9keS51cGRhdGVkX2NvbW1lbnRcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXG5cbiAgICAgIGNvbnN0IGNvbW1lbnRSZXNwb25zZSA9IGF3YWl0IENvbW1lbnRzREFPLnVwZGF0ZUNvbW1lbnQoXG4gICAgICAgIE9iamVjdElkKGNvbW1lbnRJZCksXG4gICAgICAgIHVzZXIuZW1haWwsXG4gICAgICAgIHRleHQsXG4gICAgICAgIGRhdGUsXG4gICAgICApXG5cbiAgICAgIHZhciB7IGVycm9yIH0gPSBjb21tZW50UmVzcG9uc2VcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChjb21tZW50UmVzcG9uc2UubW9kaWZpZWRDb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJ1bmFibGUgdG8gdXBkYXRlIGNvbW1lbnQgLSB1c2VyIG1heSBub3QgYmUgb3JpZ2luYWwgcG9zdGVyXCIsXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgY29uc3QgbW92aWVJZCA9IHJlcS5ib2R5Lm1vdmllX2lkXG4gICAgICBjb25zdCB1cGRhdGVkQ29tbWVudHMgPSBhd2FpdCBNb3ZpZXNEQU8uZ2V0TW92aWVCeUlEKG1vdmllSWQpXG5cbiAgICAgIHJlcy5qc29uKHsgY29tbWVudHM6IHVwZGF0ZWRDb21tZW50cy5jb21tZW50cyB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZSB9KVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBhcGlEZWxldGVDb21tZW50KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5kZWNvZGVkKHVzZXJKd3QpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gdXNlclxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3IgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbW1lbnRJZCA9IHJlcS5ib2R5LmNvbW1lbnRfaWRcbiAgICAgIGNvbnN0IHVzZXJFbWFpbCA9IHVzZXIuZW1haWxcbiAgICAgIGNvbnN0IGNvbW1lbnRSZXNwb25zZSA9IGF3YWl0IENvbW1lbnRzREFPLmRlbGV0ZUNvbW1lbnQoXG4gICAgICAgIE9iamVjdElkKGNvbW1lbnRJZCksXG4gICAgICAgIHVzZXJFbWFpbCxcbiAgICAgIClcblxuICAgICAgY29uc3QgbW92aWVJZCA9IHJlcS5ib2R5Lm1vdmllX2lkXG5cbiAgICAgIGNvbnN0IHsgY29tbWVudHMgfSA9IGF3YWl0IE1vdmllc0RBTy5nZXRNb3ZpZUJ5SUQobW92aWVJZClcbiAgICAgIHJlcy5qc29uKHsgY29tbWVudHMgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGUgfSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgYXBpQ29tbWVudFJlcG9ydChyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VySnd0ID0gcmVxLmdldChcIkF1dGhvcml6YXRpb25cIikuc2xpY2UoXCJCZWFyZXIgXCIubGVuZ3RoKVxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZGVjb2RlZCh1c2VySnd0KVxuICAgICAgdmFyIHsgZXJyb3IgfSA9IHVzZXJcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoVXNlcnNEQU8uY2hlY2tBZG1pbih1c2VyLmVtYWlsKSkge1xuICAgICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBDb21tZW50c0RBTy5tb3N0QWN0aXZlQ29tbWVudGVycygpXG4gICAgICAgIHJlcy5qc29uKHsgcmVwb3J0IH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IHN0YXR1czogXCJmYWlsXCIgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGUgfSlcbiAgICB9XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "comments.controller.js"
      ],
      "names": [
        "CommentsController",
        "req",
        "res",
        "next",
        "userJwt",
        "get",
        "slice",
        "length",
        "User",
        "decoded",
        "user",
        "error",
        "status",
        "json",
        "movieId",
        "body",
        "movie_id",
        "comment",
        "date",
        "Date",
        "CommentsDAO",
        "addComment",
        "commentResponse",
        "MoviesDAO",
        "getMovieByID",
        "updatedComments",
        "comments",
        "e",
        "commentId",
        "comment_id",
        "text",
        "updated_comment",
        "updateComment",
        "email",
        "modifiedCount",
        "Error",
        "userEmail",
        "deleteComment",
        "UsersDAO",
        "checkAdmin",
        "mostActiveCommenters",
        "report"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "sourcesContent": [
        "import UsersDAO from \"../dao/usersDAO\"\nimport CommentsDAO from \"../dao/commentsDAO\"\nimport MoviesDAO from \"../dao/moviesDAO\"\nimport { User } from \"./users.controller\"\nimport { ObjectId } from \"bson\"\n\nexport default class CommentsController {\n  static async apiPostComment(req, res, next) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const user = await User.decoded(userJwt)\n      var { error } = user\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n\n      const movieId = req.body.movie_id\n      const comment = req.body.comment\n      const date = new Date()\n\n      const commentResponse = await CommentsDAO.addComment(\n        ObjectId(movieId),\n        user,\n        comment,\n        date,\n      )\n\n      const updatedComments = await MoviesDAO.getMovieByID(movieId)\n\n      res.json({ status: \"success\", comments: updatedComments.comments })\n    } catch (e) {\n      res.status(500).json({ e })\n    }\n  }\n\n  static async apiUpdateComment(req, res, next) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const user = await User.decoded(userJwt)\n      var { error } = user\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n\n      const commentId = req.body.comment_id\n      const text = req.body.updated_comment\n      const date = new Date()\n\n      const commentResponse = await CommentsDAO.updateComment(\n        ObjectId(commentId),\n        user.email,\n        text,\n        date,\n      )\n\n      var { error } = commentResponse\n      if (error) {\n        res.status(400).json({ error })\n      }\n\n      if (commentResponse.modifiedCount === 0) {\n        throw new Error(\n          \"unable to update comment - user may not be original poster\",\n        )\n      }\n\n      const movieId = req.body.movie_id\n      const updatedComments = await MoviesDAO.getMovieByID(movieId)\n\n      res.json({ comments: updatedComments.comments })\n    } catch (e) {\n      res.status(500).json({ e })\n    }\n  }\n\n  static async apiDeleteComment(req, res, next) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const user = await User.decoded(userJwt)\n      var { error } = user\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n\n      const commentId = req.body.comment_id\n      const userEmail = user.email\n      const commentResponse = await CommentsDAO.deleteComment(\n        ObjectId(commentId),\n        userEmail,\n      )\n\n      const movieId = req.body.movie_id\n\n      const { comments } = await MoviesDAO.getMovieByID(movieId)\n      res.json({ comments })\n    } catch (e) {\n      res.status(500).json({ e })\n    }\n  }\n\n  static async apiCommentReport(req, res, next) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const user = await User.decoded(userJwt)\n      var { error } = user\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n\n      if (UsersDAO.checkAdmin(user.email)) {\n        const report = await CommentsDAO.mostActiveCommenters()\n        res.json({ report })\n        return\n      }\n\n      res.status(401).json({ status: \"fail\" })\n    } catch (e) {\n      res.status(500).json({ e })\n    }\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\usersDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\usersDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\usersDAO.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\usersDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
        "sourceFileName": "usersDAO.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar users;\nvar sessions;\n\nvar UsersDAO = /*#__PURE__*/function () {\n  function UsersDAO() {\n    (0, _classCallCheck2[\"default\"])(this, UsersDAO);\n  }\n\n  (0, _createClass2[\"default\"])(UsersDAO, null, [{\n    key: \"injectDB\",\n    value: function () {\n      var _injectDB = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(conn) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(users && sessions)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.prev = 2;\n                _context.next = 5;\n                return conn.db(process.env.MFLIX_NS).collection(\"users\");\n\n              case 5:\n                users = _context.sent;\n                _context.next = 8;\n                return conn.db(process.env.MFLIX_NS).collection(\"sessions\");\n\n              case 8:\n                sessions = _context.sent;\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](2);\n                console.error(\"Unable to establish collection handles in userDAO: \".concat(_context.t0));\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 11]]);\n      }));\n\n      function injectDB(_x) {\n        return _injectDB.apply(this, arguments);\n      }\n\n      return injectDB;\n    }()\n    /**\n    Ticket: User Management\n     For this ticket, you will need to implement the following five methods:\n     - getUser\n    - addUser\n    - loginUser\n    - logoutUser\n    - getUserSession\n     You can find these methods below this comment. Make sure to read the comments\n    in each method to better understand the implementation.\n     The method deleteUser is already given to you.\n    */\n\n    /**\n     * Finds a user in the `users` collection\n     * @param {string} email - The email of the desired user\n     * @returns {Object | null} Returns either a single user or nothing\n     */\n\n  }, {\n    key: \"getUser\",\n    value: function () {\n      var _getUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(email) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return users.findOne({\n                  \"email\": email\n                });\n\n              case 2:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getUser(_x2) {\n        return _getUser.apply(this, arguments);\n      }\n\n      return getUser;\n    }()\n    /**\n     * Adds a user to the `users` collection\n     * @param {UserInfo} userInfo - The information of the user to add\n     * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n     */\n\n  }, {\n    key: \"addUser\",\n    value: function () {\n      var _addUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(userInfo) {\n        var name, email, password;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                // TODO Ticket: User Management\n                // Insert a user with the \"name\", \"email\", and \"password\" fields.\n                // TODO Ticket: Durable Writes\n                // Use a more durable Write Concern for this operation.\n                name = userInfo.name, email = userInfo.email, password = userInfo.password;\n                _context3.next = 4;\n                return users.insertOne({\n                  \"name\": name,\n                  \"email\": email,\n                  \"password\": password\n                }, {\n                  writeConcern: {\n                    w: \"majority\"\n                  }\n                });\n\n              case 4:\n                return _context3.abrupt(\"return\", {\n                  success: true\n                });\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n\n                if (!String(_context3.t0).startsWith(\"MongoError: E11000 duplicate key error\")) {\n                  _context3.next = 11;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", {\n                  error: \"A user with the given email already exists.\"\n                });\n\n              case 11:\n                console.error(\"Error occurred while adding new user, \".concat(_context3.t0, \".\"));\n                return _context3.abrupt(\"return\", {\n                  error: _context3.t0\n                });\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function addUser(_x3) {\n        return _addUser.apply(this, arguments);\n      }\n\n      return addUser;\n    }()\n    /**\n     * Adds a user to the `sessions` collection\n     * @param {string} email - The email of the user to login\n     * @param {string} jwt - A JSON web token representing the user's claims\n     * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n     */\n\n  }, {\n    key: \"loginUser\",\n    value: function () {\n      var _loginUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(email, jwt) {\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return sessions.updateOne({\n                  user_id: email\n                }, {\n                  $set: {\n                    \"jwt\": jwt\n                  }\n                }, {\n                  upsert: true\n                });\n\n              case 3:\n                return _context4.abrupt(\"return\", {\n                  success: true\n                });\n\n              case 6:\n                _context4.prev = 6;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.error(\"Error occurred while logging in user, \".concat(_context4.t0));\n                return _context4.abrupt(\"return\", {\n                  error: _context4.t0\n                });\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 6]]);\n      }));\n\n      function loginUser(_x4, _x5) {\n        return _loginUser.apply(this, arguments);\n      }\n\n      return loginUser;\n    }()\n    /**\n     * Removes a user from the `sessons` collection\n     * @param {string} email - The email of the user to logout\n     * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n     */\n\n  }, {\n    key: \"logoutUser\",\n    value: function () {\n      var _logoutUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(email) {\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return sessions.deleteOne({\n                  \"user_id\": email\n                });\n\n              case 3:\n                return _context5.abrupt(\"return\", {\n                  success: true\n                });\n\n              case 6:\n                _context5.prev = 6;\n                _context5.t0 = _context5[\"catch\"](0);\n                console.error(\"Error occurred while logging out user, \".concat(_context5.t0));\n                return _context5.abrupt(\"return\", {\n                  error: _context5.t0\n                });\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 6]]);\n      }));\n\n      function logoutUser(_x6) {\n        return _logoutUser.apply(this, arguments);\n      }\n\n      return logoutUser;\n    }()\n    /**\n     * Gets a user from the `sessions` collection\n     * @param {string} email - The email of the user to search for in `sessions`\n     * @returns {Object | null} Returns a user session Object, an \"error\" Object\n     * if something went wrong, or null if user was not found.\n     */\n\n  }, {\n    key: \"getUserSession\",\n    value: function () {\n      var _getUserSession = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(email) {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                return _context6.abrupt(\"return\", sessions.findOne({\n                  \"user_id\": email\n                }));\n\n              case 4:\n                _context6.prev = 4;\n                _context6.t0 = _context6[\"catch\"](0);\n                console.error(\"Error occurred while retrieving user session, \".concat(_context6.t0));\n                return _context6.abrupt(\"return\", null);\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[0, 4]]);\n      }));\n\n      function getUserSession(_x7) {\n        return _getUserSession.apply(this, arguments);\n      }\n\n      return getUserSession;\n    }()\n    /**\n     * Removes a user from the `sessions` and `users` collections\n     * @param {string} email - The email of the user to delete\n     * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n     */\n\n  }, {\n    key: \"deleteUser\",\n    value: function () {\n      var _deleteUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(email) {\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.prev = 0;\n                _context7.next = 3;\n                return users.deleteOne({\n                  email: email\n                });\n\n              case 3:\n                _context7.next = 5;\n                return sessions.deleteOne({\n                  user_id: email\n                });\n\n              case 5:\n                _context7.next = 7;\n                return this.getUser(email);\n\n              case 7:\n                _context7.t0 = !_context7.sent;\n\n                if (!_context7.t0) {\n                  _context7.next = 12;\n                  break;\n                }\n\n                _context7.next = 11;\n                return this.getUserSession(email);\n\n              case 11:\n                _context7.t0 = !_context7.sent;\n\n              case 12:\n                if (!_context7.t0) {\n                  _context7.next = 16;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", {\n                  success: true\n                });\n\n              case 16:\n                console.error(\"Deletion unsuccessful\");\n                return _context7.abrupt(\"return\", {\n                  error: \"Deletion unsuccessful\"\n                });\n\n              case 18:\n                _context7.next = 24;\n                break;\n\n              case 20:\n                _context7.prev = 20;\n                _context7.t1 = _context7[\"catch\"](0);\n                console.error(\"Error occurred while deleting user, \".concat(_context7.t1));\n                return _context7.abrupt(\"return\", {\n                  error: _context7.t1\n                });\n\n              case 24:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[0, 20]]);\n      }));\n\n      function deleteUser(_x8) {\n        return _deleteUser.apply(this, arguments);\n      }\n\n      return deleteUser;\n    }()\n    /**\n     * Given a user's email and an object of new preferences, update that user's\n     * data to include those preferences.\n     * @param {string} email - The email of the user to update.\n     * @param {Object} preferences - The preferences to include in the user's data.\n     * @returns {DAOResponse}\n     */\n\n  }, {\n    key: \"updatePreferences\",\n    value: function () {\n      var _updatePreferences = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(email, preferences) {\n        var updateResponse;\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n\n                /**\n                Ticket: User Preferences\n                 Update the \"preferences\" field in the corresponding user's document to\n                reflect the new information in preferences.\n                */\n                preferences = preferences || {}; // TODO Ticket: User Preferences\n                // Use the data in \"preferences\" to update the user's preferences.\n\n                _context8.next = 4;\n                return users.updateOne({\n                  \"email\": email\n                }, {\n                  $set: {\n                    \"preferences\": preferences\n                  }\n                });\n\n              case 4:\n                updateResponse = _context8.sent;\n\n                if (!(updateResponse.matchedCount === 0)) {\n                  _context8.next = 7;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", {\n                  error: \"No user found with that email\"\n                });\n\n              case 7:\n                return _context8.abrupt(\"return\", updateResponse);\n\n              case 10:\n                _context8.prev = 10;\n                _context8.t0 = _context8[\"catch\"](0);\n                console.error(\"An error occurred while updating this user's preferences, \".concat(_context8.t0));\n                return _context8.abrupt(\"return\", {\n                  error: _context8.t0\n                });\n\n              case 14:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, null, [[0, 10]]);\n      }));\n\n      function updatePreferences(_x9, _x10) {\n        return _updatePreferences.apply(this, arguments);\n      }\n\n      return updatePreferences;\n    }()\n  }, {\n    key: \"checkAdmin\",\n    value: function () {\n      var _checkAdmin = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(email) {\n        var _yield$this$getUser, isAdmin;\n\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                _context9.next = 3;\n                return this.getUser(email);\n\n              case 3:\n                _yield$this$getUser = _context9.sent;\n                isAdmin = _yield$this$getUser.isAdmin;\n                return _context9.abrupt(\"return\", isAdmin || false);\n\n              case 8:\n                _context9.prev = 8;\n                _context9.t0 = _context9[\"catch\"](0);\n                return _context9.abrupt(\"return\", {\n                  error: _context9.t0\n                });\n\n              case 11:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[0, 8]]);\n      }));\n\n      function checkAdmin(_x11) {\n        return _checkAdmin.apply(this, arguments);\n      }\n\n      return checkAdmin;\n    }()\n  }, {\n    key: \"makeAdmin\",\n    value: function () {\n      var _makeAdmin = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(email) {\n        var updateResponse;\n        return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.prev = 0;\n                updateResponse = users.updateOne({\n                  email: email\n                }, {\n                  $set: {\n                    isAdmin: true\n                  }\n                });\n                return _context10.abrupt(\"return\", updateResponse);\n\n              case 5:\n                _context10.prev = 5;\n                _context10.t0 = _context10[\"catch\"](0);\n                return _context10.abrupt(\"return\", {\n                  error: _context10.t0\n                });\n\n              case 8:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, null, [[0, 5]]);\n      }));\n\n      function makeAdmin(_x12) {\n        return _makeAdmin.apply(this, arguments);\n      }\n\n      return makeAdmin;\n    }()\n  }]);\n  return UsersDAO;\n}();\n/**\n * Parameter passed to addUser method\n * @typedef UserInfo\n * @property {string} name\n * @property {string} email\n * @property {string} password\n */\n\n/**\n * Success/Error return object\n * @typedef DAOResponse\n * @property {boolean} [success] - Success\n * @property {string} [error] - Error\n */\n\n\nexports[\"default\"] = UsersDAO;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzREFPLmpzIl0sIm5hbWVzIjpbInVzZXJzIiwic2Vzc2lvbnMiLCJVc2Vyc0RBTyIsImNvbm4iLCJkYiIsInByb2Nlc3MiLCJlbnYiLCJNRkxJWF9OUyIsImNvbGxlY3Rpb24iLCJjb25zb2xlIiwiZXJyb3IiLCJlbWFpbCIsImZpbmRPbmUiLCJ1c2VySW5mbyIsIm5hbWUiLCJwYXNzd29yZCIsImluc2VydE9uZSIsIndyaXRlQ29uY2VybiIsInciLCJzdWNjZXNzIiwiU3RyaW5nIiwic3RhcnRzV2l0aCIsImp3dCIsInVwZGF0ZU9uZSIsInVzZXJfaWQiLCIkc2V0IiwidXBzZXJ0IiwiZGVsZXRlT25lIiwiZ2V0VXNlciIsImdldFVzZXJTZXNzaW9uIiwicHJlZmVyZW5jZXMiLCJ1cGRhdGVSZXNwb25zZSIsIm1hdGNoZWRDb3VudCIsImlzQWRtaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsS0FBSjtBQUNBLElBQUlDLFFBQUo7O0lBRXFCQyxROzs7Ozs7OztxSEFDR0MsSTs7Ozs7c0JBQ2hCSCxLQUFLLElBQUlDLFE7Ozs7Ozs7Ozs7dUJBSUdFLElBQUksQ0FBQ0MsRUFBTCxDQUFRQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBcEIsRUFBOEJDLFVBQTlCLENBQXlDLE9BQXpDLEM7OztBQUFkUixnQkFBQUEsSzs7dUJBQ2lCRyxJQUFJLENBQUNDLEVBQUwsQ0FBUUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQXBCLEVBQThCQyxVQUE5QixDQUF5QyxVQUF6QyxDOzs7QUFBakJQLGdCQUFBQSxROzs7Ozs7O0FBRUFRLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJSjs7Ozs7Ozs7Ozs7OztBQWlCQTs7Ozs7Ozs7O3FIQUtxQkMsSzs7Ozs7O3VCQUdOWCxLQUFLLENBQUNZLE9BQU4sQ0FBYztBQUFFLDJCQUFTRDtBQUFYLGlCQUFkLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHZjs7Ozs7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ZUs7QUFBakI7QUFBUixpQkFGMkIsQzs7O0FBQXZCQyxnQkFBQUEsYzs7c0JBS0ZBLGNBQWMsQ0FBQ0MsWUFBZixLQUFnQyxDOzs7OztrREFDM0I7QUFBRXRCLGtCQUFBQSxLQUFLLEVBQUU7QUFBVCxpQjs7O2tEQUVGcUIsYzs7Ozs7QUFFUHRCLGdCQUFBQSxPQUFPLENBQUNDLEtBQVI7a0RBR087QUFBRUEsa0JBQUFBLEtBQUs7QUFBUCxpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt3SEFJYUMsSzs7Ozs7Ozs7O3VCQUVNLEtBQUtpQixPQUFMLENBQWFqQixLQUFiLEM7Ozs7QUFBbEJzQixnQkFBQUEsTyx1QkFBQUEsTztrREFDREEsT0FBTyxJQUFJLEs7Ozs7O2tEQUVYO0FBQUV2QixrQkFBQUEsS0FBSztBQUFQLGlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O3dIQUlZQyxLOzs7Ozs7O0FBRWJvQixnQkFBQUEsYyxHQUFpQi9CLEtBQUssQ0FBQ3VCLFNBQU4sQ0FDckI7QUFBRVosa0JBQUFBLEtBQUssRUFBTEE7QUFBRixpQkFEcUIsRUFFckI7QUFBRWMsa0JBQUFBLElBQUksRUFBRTtBQUFFUSxvQkFBQUEsT0FBTyxFQUFFO0FBQVg7QUFBUixpQkFGcUIsQzttREFJaEJGLGM7Ozs7O21EQUVBO0FBQUVyQixrQkFBQUEsS0FBSztBQUFQLGlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2I7Ozs7Ozs7O0FBUUEiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxOYWRhdiBTaGVyZlxcbWZsaXgtanNcXHNyY1xcZGFvXFwiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdXNlcnNcbmxldCBzZXNzaW9uc1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2Vyc0RBTyB7XG4gIHN0YXRpYyBhc3luYyBpbmplY3REQihjb25uKSB7XG4gICAgaWYgKHVzZXJzICYmIHNlc3Npb25zKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHVzZXJzID0gYXdhaXQgY29ubi5kYihwcm9jZXNzLmVudi5NRkxJWF9OUykuY29sbGVjdGlvbihcInVzZXJzXCIpXG4gICAgICBzZXNzaW9ucyA9IGF3YWl0IGNvbm4uZGIocHJvY2Vzcy5lbnYuTUZMSVhfTlMpLmNvbGxlY3Rpb24oXCJzZXNzaW9uc1wiKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byBlc3RhYmxpc2ggY29sbGVjdGlvbiBoYW5kbGVzIGluIHVzZXJEQU86ICR7ZX1gKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICBUaWNrZXQ6IFVzZXIgTWFuYWdlbWVudFxuXG4gIEZvciB0aGlzIHRpY2tldCwgeW91IHdpbGwgbmVlZCB0byBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBmaXZlIG1ldGhvZHM6XG5cbiAgLSBnZXRVc2VyXG4gIC0gYWRkVXNlclxuICAtIGxvZ2luVXNlclxuICAtIGxvZ291dFVzZXJcbiAgLSBnZXRVc2VyU2Vzc2lvblxuXG4gIFlvdSBjYW4gZmluZCB0aGVzZSBtZXRob2RzIGJlbG93IHRoaXMgY29tbWVudC4gTWFrZSBzdXJlIHRvIHJlYWQgdGhlIGNvbW1lbnRzXG4gIGluIGVhY2ggbWV0aG9kIHRvIGJldHRlciB1bmRlcnN0YW5kIHRoZSBpbXBsZW1lbnRhdGlvbi5cblxuICBUaGUgbWV0aG9kIGRlbGV0ZVVzZXIgaXMgYWxyZWFkeSBnaXZlbiB0byB5b3UuXG4gICovXG5cbiAgLyoqXG4gICAqIEZpbmRzIGEgdXNlciBpbiB0aGUgYHVzZXJzYCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCAtIFRoZSBlbWFpbCBvZiB0aGUgZGVzaXJlZCB1c2VyXG4gICAqIEByZXR1cm5zIHtPYmplY3QgfCBudWxsfSBSZXR1cm5zIGVpdGhlciBhIHNpbmdsZSB1c2VyIG9yIG5vdGhpbmdcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRVc2VyKGVtYWlsKSB7XG4gICAgLy8gVE9ETyBUaWNrZXQ6IFVzZXIgTWFuYWdlbWVudFxuICAgIC8vIFJldHJpZXZlIHRoZSB1c2VyIGRvY3VtZW50IGNvcnJlc3BvbmRpbmcgd2l0aCB0aGUgdXNlcidzIGVtYWlsLlxuICAgIHJldHVybiBhd2FpdCB1c2Vycy5maW5kT25lKHsgXCJlbWFpbFwiOiBlbWFpbCB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB1c2VyIHRvIHRoZSBgdXNlcnNgIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIHtVc2VySW5mb30gdXNlckluZm8gLSBUaGUgaW5mb3JtYXRpb24gb2YgdGhlIHVzZXIgdG8gYWRkXG4gICAqIEByZXR1cm5zIHtEQU9SZXNwb25zZX0gUmV0dXJucyBlaXRoZXIgYSBcInN1Y2Nlc3NcIiBvciBhbiBcImVycm9yXCIgT2JqZWN0XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgYWRkVXNlcih1c2VySW5mbykge1xuICAgIC8qKlxuICAgIFRpY2tldDogRHVyYWJsZSBXcml0ZXNcblxuICAgIFBsZWFzZSBpbmNyZWFzZSB0aGUgZHVyYWJpbGl0eSBvZiB0aGlzIG1ldGhvZCBieSB1c2luZyBhIG5vbi1kZWZhdWx0IHdyaXRlXG4gICAgY29uY2VybiB3aXRoIGBgaW5zZXJ0T25lYGAuXG4gICAgKi9cblxuICAgIHRyeSB7XG4gICAgICAvLyBUT0RPIFRpY2tldDogVXNlciBNYW5hZ2VtZW50XG4gICAgICAvLyBJbnNlcnQgYSB1c2VyIHdpdGggdGhlIFwibmFtZVwiLCBcImVtYWlsXCIsIGFuZCBcInBhc3N3b3JkXCIgZmllbGRzLlxuICAgICAgLy8gVE9ETyBUaWNrZXQ6IER1cmFibGUgV3JpdGVzXG4gICAgICAvLyBVc2UgYSBtb3JlIGR1cmFibGUgV3JpdGUgQ29uY2VybiBmb3IgdGhpcyBvcGVyYXRpb24uXG4gICAgICBjb25zdCB7bmFtZSxlbWFpbCxwYXNzd29yZH0gPSB1c2VySW5mb1xuICAgICAgYXdhaXQgdXNlcnMuaW5zZXJ0T25lKHtcIm5hbWVcIjogbmFtZSAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbWFpbFwiOmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFzc3dvcmRcIjpwYXNzd29yZH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB3cml0ZUNvbmNlcm46IHsgdzogXCJtYWpvcml0eVwifX0pXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoU3RyaW5nKGUpLnN0YXJ0c1dpdGgoXCJNb25nb0Vycm9yOiBFMTEwMDAgZHVwbGljYXRlIGtleSBlcnJvclwiKSkge1xuICAgICAgICByZXR1cm4geyBlcnJvcjogXCJBIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gZW1haWwgYWxyZWFkeSBleGlzdHMuXCIgfVxuICAgICAgfVxuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQgd2hpbGUgYWRkaW5nIG5ldyB1c2VyLCAke2V9LmApXG4gICAgICByZXR1cm4geyBlcnJvcjogZSB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB1c2VyIHRvIHRoZSBgc2Vzc2lvbnNgIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVGhlIGVtYWlsIG9mIHRoZSB1c2VyIHRvIGxvZ2luXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBqd3QgLSBBIEpTT04gd2ViIHRva2VuIHJlcHJlc2VudGluZyB0aGUgdXNlcidzIGNsYWltc1xuICAgKiBAcmV0dXJucyB7REFPUmVzcG9uc2V9IFJldHVybnMgZWl0aGVyIGEgXCJzdWNjZXNzXCIgb3IgYW4gXCJlcnJvclwiIE9iamVjdFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGxvZ2luVXNlcihlbWFpbCwgand0KSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRPRE8gVGlja2V0OiBVc2VyIE1hbmFnZW1lbnRcbiAgICAgIC8vIFVzZSBhbiBVUFNFUlQgc3RhdGVtZW50IHRvIHVwZGF0ZSB0aGUgXCJqd3RcIiBmaWVsZCBpbiB0aGUgZG9jdW1lbnQsXG4gICAgICAvLyBtYXRjaGluZyB0aGUgXCJ1c2VyX2lkXCIgZmllbGQgd2l0aCB0aGUgZW1haWwgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24uXG4gICAgICBhd2FpdCBzZXNzaW9ucy51cGRhdGVPbmUoXG4gICAgICAgIHsgdXNlcl9pZDogZW1haWwgfSxcbiAgICAgICAgeyAkc2V0OiB7IFwiand0XCI6IGp3dCB9IH0sXG4gICAgICAgIHt1cHNlcnQ6dHJ1ZX1cbiAgICAgIClcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkIHdoaWxlIGxvZ2dpbmcgaW4gdXNlciwgJHtlfWApXG4gICAgICByZXR1cm4geyBlcnJvcjogZSB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSB1c2VyIGZyb20gdGhlIGBzZXNzb25zYCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCAtIFRoZSBlbWFpbCBvZiB0aGUgdXNlciB0byBsb2dvdXRcbiAgICogQHJldHVybnMge0RBT1Jlc3BvbnNlfSBSZXR1cm5zIGVpdGhlciBhIFwic3VjY2Vzc1wiIG9yIGFuIFwiZXJyb3JcIiBPYmplY3RcbiAgICovXG4gIHN0YXRpYyBhc3luYyBsb2dvdXRVc2VyKGVtYWlsKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRPRE8gVGlja2V0OiBVc2VyIE1hbmFnZW1lbnRcbiAgICAgIC8vIERlbGV0ZSB0aGUgZG9jdW1lbnQgaW4gdGhlIGBzZXNzaW9uc2AgY29sbGVjdGlvbiBtYXRjaGluZyB0aGUgZW1haWwuXG4gICAgICBhd2FpdCBzZXNzaW9ucy5kZWxldGVPbmUoeyBcInVzZXJfaWRcIjogZW1haWwgfSlcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkIHdoaWxlIGxvZ2dpbmcgb3V0IHVzZXIsICR7ZX1gKVxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgdXNlciBmcm9tIHRoZSBgc2Vzc2lvbnNgIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVGhlIGVtYWlsIG9mIHRoZSB1c2VyIHRvIHNlYXJjaCBmb3IgaW4gYHNlc3Npb25zYFxuICAgKiBAcmV0dXJucyB7T2JqZWN0IHwgbnVsbH0gUmV0dXJucyBhIHVzZXIgc2Vzc2lvbiBPYmplY3QsIGFuIFwiZXJyb3JcIiBPYmplY3RcbiAgICogaWYgc29tZXRoaW5nIHdlbnQgd3JvbmcsIG9yIG51bGwgaWYgdXNlciB3YXMgbm90IGZvdW5kLlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldFVzZXJTZXNzaW9uKGVtYWlsKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRPRE8gVGlja2V0OiBVc2VyIE1hbmFnZW1lbnRcbiAgICAgIC8vIFJldHJpZXZlIHRoZSBzZXNzaW9uIGRvY3VtZW50IGNvcnJlc3BvbmRpbmcgd2l0aCB0aGUgdXNlcidzIGVtYWlsLlxuICAgICAgcmV0dXJuIHNlc3Npb25zLmZpbmRPbmUoeyBcInVzZXJfaWRcIjogZW1haWwgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZCB3aGlsZSByZXRyaWV2aW5nIHVzZXIgc2Vzc2lvbiwgJHtlfWApXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgdXNlciBmcm9tIHRoZSBgc2Vzc2lvbnNgIGFuZCBgdXNlcnNgIGNvbGxlY3Rpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCAtIFRoZSBlbWFpbCBvZiB0aGUgdXNlciB0byBkZWxldGVcbiAgICogQHJldHVybnMge0RBT1Jlc3BvbnNlfSBSZXR1cm5zIGVpdGhlciBhIFwic3VjY2Vzc1wiIG9yIGFuIFwiZXJyb3JcIiBPYmplY3RcbiAgICovXG4gIHN0YXRpYyBhc3luYyBkZWxldGVVc2VyKGVtYWlsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHVzZXJzLmRlbGV0ZU9uZSh7IGVtYWlsIH0pXG4gICAgICBhd2FpdCBzZXNzaW9ucy5kZWxldGVPbmUoeyB1c2VyX2lkOiBlbWFpbCB9KVxuICAgICAgaWYgKCEoYXdhaXQgdGhpcy5nZXRVc2VyKGVtYWlsKSkgJiYgIShhd2FpdCB0aGlzLmdldFVzZXJTZXNzaW9uKGVtYWlsKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBEZWxldGlvbiB1bnN1Y2Nlc3NmdWxgKVxuICAgICAgICByZXR1cm4geyBlcnJvcjogYERlbGV0aW9uIHVuc3VjY2Vzc2Z1bGAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkIHdoaWxlIGRlbGV0aW5nIHVzZXIsICR7ZX1gKVxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiBhIHVzZXIncyBlbWFpbCBhbmQgYW4gb2JqZWN0IG9mIG5ldyBwcmVmZXJlbmNlcywgdXBkYXRlIHRoYXQgdXNlcidzXG4gICAqIGRhdGEgdG8gaW5jbHVkZSB0aG9zZSBwcmVmZXJlbmNlcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVGhlIGVtYWlsIG9mIHRoZSB1c2VyIHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHByZWZlcmVuY2VzIC0gVGhlIHByZWZlcmVuY2VzIHRvIGluY2x1ZGUgaW4gdGhlIHVzZXIncyBkYXRhLlxuICAgKiBAcmV0dXJucyB7REFPUmVzcG9uc2V9XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgdXBkYXRlUHJlZmVyZW5jZXMoZW1haWwsIHByZWZlcmVuY2VzKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8qKlxuICAgICAgVGlja2V0OiBVc2VyIFByZWZlcmVuY2VzXG5cbiAgICAgIFVwZGF0ZSB0aGUgXCJwcmVmZXJlbmNlc1wiIGZpZWxkIGluIHRoZSBjb3JyZXNwb25kaW5nIHVzZXIncyBkb2N1bWVudCB0b1xuICAgICAgcmVmbGVjdCB0aGUgbmV3IGluZm9ybWF0aW9uIGluIHByZWZlcmVuY2VzLlxuICAgICAgKi9cblxuICAgICAgcHJlZmVyZW5jZXMgPSBwcmVmZXJlbmNlcyB8fCB7fVxuXG4gICAgICAvLyBUT0RPIFRpY2tldDogVXNlciBQcmVmZXJlbmNlc1xuICAgICAgLy8gVXNlIHRoZSBkYXRhIGluIFwicHJlZmVyZW5jZXNcIiB0byB1cGRhdGUgdGhlIHVzZXIncyBwcmVmZXJlbmNlcy5cbiAgICAgIGNvbnN0IHVwZGF0ZVJlc3BvbnNlID0gYXdhaXQgdXNlcnMudXBkYXRlT25lKFxuICAgICAgICB7IFwiZW1haWxcIjogZW1haWwgfSxcbiAgICAgICAgeyAkc2V0OiB7IFwicHJlZmVyZW5jZXNcIjogcHJlZmVyZW5jZXMgfSB9LFxuICAgICAgKVxuXG4gICAgICBpZiAodXBkYXRlUmVzcG9uc2UubWF0Y2hlZENvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7IGVycm9yOiBcIk5vIHVzZXIgZm91bmQgd2l0aCB0aGF0IGVtYWlsXCIgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHVwZGF0ZVJlc3BvbnNlXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHVwZGF0aW5nIHRoaXMgdXNlcidzIHByZWZlcmVuY2VzLCAke2V9YCxcbiAgICAgIClcbiAgICAgIHJldHVybiB7IGVycm9yOiBlIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY2hlY2tBZG1pbihlbWFpbCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGlzQWRtaW4gfSA9IGF3YWl0IHRoaXMuZ2V0VXNlcihlbWFpbClcbiAgICAgIHJldHVybiBpc0FkbWluIHx8IGZhbHNlXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBtYWtlQWRtaW4oZW1haWwpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXBkYXRlUmVzcG9uc2UgPSB1c2Vycy51cGRhdGVPbmUoXG4gICAgICAgIHsgZW1haWwgfSxcbiAgICAgICAgeyAkc2V0OiB7IGlzQWRtaW46IHRydWUgfSB9LFxuICAgICAgKVxuICAgICAgcmV0dXJuIHVwZGF0ZVJlc3BvbnNlXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFBhcmFtZXRlciBwYXNzZWQgdG8gYWRkVXNlciBtZXRob2RcbiAqIEB0eXBlZGVmIFVzZXJJbmZvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVtYWlsXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcGFzc3dvcmRcbiAqL1xuXG4vKipcbiAqIFN1Y2Nlc3MvRXJyb3IgcmV0dXJuIG9iamVjdFxuICogQHR5cGVkZWYgREFPUmVzcG9uc2VcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3N1Y2Nlc3NdIC0gU3VjY2Vzc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtlcnJvcl0gLSBFcnJvclxuICovXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "usersDAO.js"
      ],
      "names": [
        "users",
        "sessions",
        "UsersDAO",
        "conn",
        "db",
        "process",
        "env",
        "MFLIX_NS",
        "collection",
        "console",
        "error",
        "email",
        "findOne",
        "userInfo",
        "name",
        "password",
        "insertOne",
        "writeConcern",
        "w",
        "success",
        "String",
        "startsWith",
        "jwt",
        "updateOne",
        "user_id",
        "$set",
        "upsert",
        "deleteOne",
        "getUser",
        "getUserSession",
        "preferences",
        "updateResponse",
        "matchedCount",
        "isAdmin"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "sourcesContent": [
        "let users\nlet sessions\n\nexport default class UsersDAO {\n  static async injectDB(conn) {\n    if (users && sessions) {\n      return\n    }\n    try {\n      users = await conn.db(process.env.MFLIX_NS).collection(\"users\")\n      sessions = await conn.db(process.env.MFLIX_NS).collection(\"sessions\")\n    } catch (e) {\n      console.error(`Unable to establish collection handles in userDAO: ${e}`)\n    }\n  }\n\n  /**\n  Ticket: User Management\n\n  For this ticket, you will need to implement the following five methods:\n\n  - getUser\n  - addUser\n  - loginUser\n  - logoutUser\n  - getUserSession\n\n  You can find these methods below this comment. Make sure to read the comments\n  in each method to better understand the implementation.\n\n  The method deleteUser is already given to you.\n  */\n\n  /**\n   * Finds a user in the `users` collection\n   * @param {string} email - The email of the desired user\n   * @returns {Object | null} Returns either a single user or nothing\n   */\n  static async getUser(email) {\n    // TODO Ticket: User Management\n    // Retrieve the user document corresponding with the user's email.\n    return await users.findOne({ \"email\": email })\n  }\n\n  /**\n   * Adds a user to the `users` collection\n   * @param {UserInfo} userInfo - The information of the user to add\n   * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n   */\n  static async addUser(userInfo) {\n    /**\n    Ticket: Durable Writes\n\n    Please increase the durability of this method by using a non-default write\n    concern with ``insertOne``.\n    */\n\n    try {\n      // TODO Ticket: User Management\n      // Insert a user with the \"name\", \"email\", and \"password\" fields.\n      // TODO Ticket: Durable Writes\n      // Use a more durable Write Concern for this operation.\n      const {name,email,password} = userInfo\n      await users.insertOne({\"name\": name ,\n                            \"email\":email,\n                            \"password\":password},\n                            { writeConcern: { w: \"majority\"}})\n      return { success: true }\n    } catch (e) {\n      if (String(e).startsWith(\"MongoError: E11000 duplicate key error\")) {\n        return { error: \"A user with the given email already exists.\" }\n      }\n      console.error(`Error occurred while adding new user, ${e}.`)\n      return { error: e }\n    }\n  }\n\n  /**\n   * Adds a user to the `sessions` collection\n   * @param {string} email - The email of the user to login\n   * @param {string} jwt - A JSON web token representing the user's claims\n   * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n   */\n  static async loginUser(email, jwt) {\n    try {\n      // TODO Ticket: User Management\n      // Use an UPSERT statement to update the \"jwt\" field in the document,\n      // matching the \"user_id\" field with the email passed to this function.\n      await sessions.updateOne(\n        { user_id: email },\n        { $set: { \"jwt\": jwt } },\n        {upsert:true}\n      )\n      return { success: true }\n    } catch (e) {\n      console.error(`Error occurred while logging in user, ${e}`)\n      return { error: e }\n    }\n  }\n\n  /**\n   * Removes a user from the `sessons` collection\n   * @param {string} email - The email of the user to logout\n   * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n   */\n  static async logoutUser(email) {\n    try {\n      // TODO Ticket: User Management\n      // Delete the document in the `sessions` collection matching the email.\n      await sessions.deleteOne({ \"user_id\": email })\n      return { success: true }\n    } catch (e) {\n      console.error(`Error occurred while logging out user, ${e}`)\n      return { error: e }\n    }\n  }\n\n  /**\n   * Gets a user from the `sessions` collection\n   * @param {string} email - The email of the user to search for in `sessions`\n   * @returns {Object | null} Returns a user session Object, an \"error\" Object\n   * if something went wrong, or null if user was not found.\n   */\n  static async getUserSession(email) {\n    try {\n      // TODO Ticket: User Management\n      // Retrieve the session document corresponding with the user's email.\n      return sessions.findOne({ \"user_id\": email })\n    } catch (e) {\n      console.error(`Error occurred while retrieving user session, ${e}`)\n      return null\n    }\n  }\n\n  /**\n   * Removes a user from the `sessions` and `users` collections\n   * @param {string} email - The email of the user to delete\n   * @returns {DAOResponse} Returns either a \"success\" or an \"error\" Object\n   */\n  static async deleteUser(email) {\n    try {\n      await users.deleteOne({ email })\n      await sessions.deleteOne({ user_id: email })\n      if (!(await this.getUser(email)) && !(await this.getUserSession(email))) {\n        return { success: true }\n      } else {\n        console.error(`Deletion unsuccessful`)\n        return { error: `Deletion unsuccessful` }\n      }\n    } catch (e) {\n      console.error(`Error occurred while deleting user, ${e}`)\n      return { error: e }\n    }\n  }\n\n  /**\n   * Given a user's email and an object of new preferences, update that user's\n   * data to include those preferences.\n   * @param {string} email - The email of the user to update.\n   * @param {Object} preferences - The preferences to include in the user's data.\n   * @returns {DAOResponse}\n   */\n  static async updatePreferences(email, preferences) {\n    try {\n      /**\n      Ticket: User Preferences\n\n      Update the \"preferences\" field in the corresponding user's document to\n      reflect the new information in preferences.\n      */\n\n      preferences = preferences || {}\n\n      // TODO Ticket: User Preferences\n      // Use the data in \"preferences\" to update the user's preferences.\n      const updateResponse = await users.updateOne(\n        { \"email\": email },\n        { $set: { \"preferences\": preferences } },\n      )\n\n      if (updateResponse.matchedCount === 0) {\n        return { error: \"No user found with that email\" }\n      }\n      return updateResponse\n    } catch (e) {\n      console.error(\n        `An error occurred while updating this user's preferences, ${e}`,\n      )\n      return { error: e }\n    }\n  }\n\n  static async checkAdmin(email) {\n    try {\n      const { isAdmin } = await this.getUser(email)\n      return isAdmin || false\n    } catch (e) {\n      return { error: e }\n    }\n  }\n\n  static async makeAdmin(email) {\n    try {\n      const updateResponse = users.updateOne(\n        { email },\n        { $set: { isAdmin: true } },\n      )\n      return updateResponse\n    } catch (e) {\n      return { error: e }\n    }\n  }\n}\n\n/**\n * Parameter passed to addUser method\n * @typedef UserInfo\n * @property {string} name\n * @property {string} email\n * @property {string} password\n */\n\n/**\n * Success/Error return object\n * @typedef DAOResponse\n * @property {boolean} [success] - Success\n * @property {string} [error] - Error\n */\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600072949825
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\dao\\\\commentsDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\commentsDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\commentsDAO.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\commentsDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
        "sourceFileName": "commentsDAO.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _bson = require(\"bson\");\n\nvar comments;\n\nvar CommentsDAO = /*#__PURE__*/function () {\n  function CommentsDAO() {\n    (0, _classCallCheck2[\"default\"])(this, CommentsDAO);\n  }\n\n  (0, _createClass2[\"default\"])(CommentsDAO, null, [{\n    key: \"injectDB\",\n    value: function () {\n      var _injectDB = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(conn) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!comments) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.prev = 2;\n                _context.next = 5;\n                return conn.db(process.env.MFLIX_NS).collection(\"comments\");\n\n              case 5:\n                comments = _context.sent;\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](2);\n                console.error(\"Unable to establish collection handles in userDAO: \".concat(_context.t0));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 8]]);\n      }));\n\n      function injectDB(_x) {\n        return _injectDB.apply(this, arguments);\n      }\n\n      return injectDB;\n    }()\n    /**\n    Ticket: Create/Update Comments\n     For this ticket, you will need to implement the following two methods:\n     - addComment\n    - updateComment\n     You can find these methods below this docstring. Make sure to read the comments\n    to better understand the task.\n    */\n\n    /**\n     * Inserts a comment into the `comments` collection, with the following fields:\n        - \"name\", the name of the user posting the comment\n       - \"email\", the email of the user posting the comment\n       - \"movie_id\", the _id of the movie pertaining to the comment\n       - \"text\", the text of the comment\n       - \"date\", the date when the comment was posted\n      * @param {string} movieId - The _id of the movie in the `movies` collection.\n     * @param {Object} user - An object containing the user's name and email.\n     * @param {string} comment - The text of the comment.\n     * @param {string} date - The date on which the comment was posted.\n     * @returns {DAOResponse} Returns an object with either DB response or \"error\"\n     */\n\n  }, {\n    key: \"addComment\",\n    value: function () {\n      var _addComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(movieId, user, comment, date) {\n        var commentDoc;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                // TODO Ticket: Create/Update Comments\n                // Construct the comment document to be inserted into MongoDB.\n                commentDoc = {\n                  'name': user.name,\n                  'email': user.email,\n                  'movie_id': (0, _bson.ObjectId)(movieId),\n                  'text': comment,\n                  'date': date\n                };\n                _context2.next = 4;\n                return comments.insertOne(commentDoc);\n\n              case 4:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.error(\"Unable to post comment: \".concat(_context2.t0));\n                return _context2.abrupt(\"return\", {\n                  error: _context2.t0\n                });\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 7]]);\n      }));\n\n      function addComment(_x2, _x3, _x4, _x5) {\n        return _addComment.apply(this, arguments);\n      }\n\n      return addComment;\n    }()\n    /**\n     * Updates the comment in the comment collection. Queries for the comment\n     * based by both comment _id field as well as the email field to doubly ensure\n     * the user has permission to edit this comment.\n     * @param {string} commentId - The _id of the comment to update.\n     * @param {string} userEmail - The email of the user who owns the comment.\n     * @param {string} text - The updated text of the comment.\n     * @param {string} date - The date on which the comment was updated.\n     * @returns {DAOResponse} Returns an object with either DB response or \"error\"  \n     */\n\n  }, {\n    key: \"updateComment\",\n    value: function () {\n      var _updateComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(commentId, userEmail, text, date) {\n        var updateResponse;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return comments.updateOne({\n                  _id: (0, _bson.ObjectId)(commentId),\n                  email: userEmail\n                }, {\n                  $set: {\n                    'text': text,\n                    'date': date\n                  }\n                });\n\n              case 3:\n                updateResponse = _context3.sent;\n                return _context3.abrupt(\"return\", updateResponse);\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.error(\"Unable to update comment: \".concat(_context3.t0));\n                return _context3.abrupt(\"return\", {\n                  error: _context3.t0\n                });\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function updateComment(_x6, _x7, _x8, _x9) {\n        return _updateComment.apply(this, arguments);\n      }\n\n      return updateComment;\n    }()\n  }, {\n    key: \"deleteComment\",\n    value: function () {\n      var _deleteComment = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(commentId, userEmail) {\n        var deleteResponse;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return comments.deleteOne({\n                  _id: (0, _bson.ObjectId)(commentId),\n                  email: userEmail\n                });\n\n              case 3:\n                deleteResponse = _context4.sent;\n                return _context4.abrupt(\"return\", deleteResponse);\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.error(\"Unable to delete comment: \".concat(_context4.t0));\n                return _context4.abrupt(\"return\", {\n                  error: _context4.t0\n                });\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 7]]);\n      }));\n\n      function deleteComment(_x10, _x11) {\n        return _deleteComment.apply(this, arguments);\n      }\n\n      return deleteComment;\n    }()\n  }, {\n    key: \"mostActiveCommenters\",\n    value: function () {\n      var _mostActiveCommenters = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n        var pipeline, readConcern, aggregateResult;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                // TODO Ticket: User Report\n                // Return the 20 users who have commented the most on MFlix.\n                pipeline = [{\n                  $sortByCount: \"$email\"\n                }, {\n                  $limit: 20\n                }]; // TODO Ticket: User Report\n                // Use a more durable Read Concern here to make sure this data is not stale.\n\n                readConcern = \"majority\";\n                _context5.next = 5;\n                return comments.aggregate(pipeline, {\n                  readConcern: readConcern\n                });\n\n              case 5:\n                aggregateResult = _context5.sent;\n                _context5.next = 8;\n                return aggregateResult.toArray();\n\n              case 8:\n                return _context5.abrupt(\"return\", _context5.sent);\n\n              case 11:\n                _context5.prev = 11;\n                _context5.t0 = _context5[\"catch\"](0);\n                console.error(\"Unable to retrieve most active commenters: \".concat(_context5.t0));\n                return _context5.abrupt(\"return\", {\n                  error: _context5.t0\n                });\n\n              case 15:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 11]]);\n      }));\n\n      function mostActiveCommenters() {\n        return _mostActiveCommenters.apply(this, arguments);\n      }\n\n      return mostActiveCommenters;\n    }()\n  }]);\n  return CommentsDAO;\n}();\n/**\n * Success/Error return object\n * @typedef DAOResponse\n * @property {boolean} [success] - Success\n * @property {string} [error] - Error\n */\n\n\nexports[\"default\"] = CommentsDAO;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzREFPLmpzIl0sIm5hbWVzIjpbImNvbW1lbnRzIiwiQ29tbWVudHNEQU8iLCJjb25uIiwiZGIiLCJwcm9jZXNzIiwiZW52IiwiTUZMSVhfTlMiLCJjb2xsZWN0aW9uIiwiY29uc29sZSIsImVycm9yIiwibW92aWVJZCIsInVzZXIiLCJjb21tZW50IiwiZGF0ZSIsImNvbW1lbnREb2MiLCJuYW1lIiwiZW1haWwiLCJpbnNlcnRPbmUiLCJjb21tZW50SWQiLCJ1c2VyRW1haWwiLCJ0ZXh0IiwidXBkYXRlT25lIiwiX2lkIiwiJHNldCIsInVwZGF0ZVJlc3BvbnNlIiwiZGVsZXRlT25lIiwiZGVsZXRlUmVzcG9uc2UiLCJwaXBlbGluZSIsIiRzb3J0QnlDb3VudCIsIiRsaW1pdCIsInJlYWRDb25jZXJuIiwiYWdncmVnYXRlIiwiYWdncmVnYXRlUmVzdWx0IiwidG9BcnJheSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFJQSxRQUFKOztJQUVxQkMsVzs7Ozs7Ozs7cUhBQ0dDLEk7Ozs7O3FCQUNoQkYsUTs7Ozs7Ozs7Ozt1QkFJZUUsSUFBSSxDQUFDQyxFQUFMLENBQVFDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFwQixFQUE4QkMsVUFBOUIsQ0FBeUMsVUFBekMsQzs7O0FBQWpCUCxnQkFBQUEsUTs7Ozs7OztBQUVBUSxnQkFBQUEsT0FBTyxDQUFDQyxLQUFSOzs7Ozs7Ozs7Ozs7Ozs7O0FBSUo7Ozs7Ozs7OztBQVlBOzs7Ozs7Ozs7Ozs7Ozs7Ozt3SEFld0JDLE8sRUFBU0MsSSxFQUFNQyxPLEVBQVNDLEk7Ozs7Ozs7QUFFNUM7QUFDQTtBQUNNQyxnQkFBQUEsVSxHQUFhO0FBQUcsMEJBQU9ILElBQUksQ0FBQ0ksSUFBZjtBQUNHLDJCQUFRSixJQUFJLENBQUNLLEtBRGhCO0FBRUcsOEJBQVcsb0JBQVNOLE9BQVQsQ0FGZDtBQUdHLDBCQUFPRSxPQUhWO0FBSUcsMEJBQU9DO0FBSlYsaUI7O3VCQU1OYixRQUFRLENBQUNpQixTQUFULENBQW1CSCxVQUFuQixDOzs7Ozs7OztBQUViTixnQkFBQUEsT0FBTyxDQUFDQyxLQUFSO2tEQUNPO0FBQUVBLGtCQUFBQSxLQUFLO0FBQVAsaUI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJWDs7Ozs7Ozs7Ozs7Ozs7MkhBVTJCUyxTLEVBQVdDLFMsRUFBV0MsSSxFQUFNUCxJOzs7Ozs7Ozt1QkFLdEJiLFFBQVEsQ0FBQ3FCLFNBQVQsQ0FDM0I7QUFBQ0Msa0JBQUFBLEdBQUcsRUFBQyxvQkFBU0osU0FBVCxDQUFMO0FBQXlCRixrQkFBQUEsS0FBSyxFQUFDRztBQUEvQixpQkFEMkIsRUFFM0I7QUFBRUksa0JBQUFBLElBQUksRUFBRTtBQUFFLDRCQUFRSCxJQUFWO0FBQWdCLDRCQUFPUDtBQUF2QjtBQUFSLGlCQUYyQixDOzs7QUFBdkJXLGdCQUFBQSxjO2tEQU1DQSxjOzs7OztBQUVQaEIsZ0JBQUFBLE9BQU8sQ0FBQ0MsS0FBUjtrREFDTztBQUFFQSxrQkFBQUEsS0FBSztBQUFQLGlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzJIQUlnQlMsUyxFQUFXQyxTOzs7Ozs7Ozt1QkFhTG5CLFFBQVEsQ0FBQ3lCLFNBQVQsQ0FBbUI7QUFDOUNILGtCQUFBQSxHQUFHLEVBQUUsb0JBQVNKLFNBQVQsQ0FEeUM7QUFDckJGLGtCQUFBQSxLQUFLLEVBQUNHO0FBRGUsaUJBQW5CLEM7OztBQUF2Qk8sZ0JBQUFBLGM7a0RBSUNBLGM7Ozs7O0FBRVBsQixnQkFBQUEsT0FBTyxDQUFDQyxLQUFSO2tEQUNPO0FBQUVBLGtCQUFBQSxLQUFLO0FBQVAsaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBYVA7QUFDQTtBQUNNa0IsZ0JBQUFBLFEsR0FBVyxDQUFDO0FBQUNDLGtCQUFBQSxZQUFZLEVBQUU7QUFBZixpQkFBRCxFQUNDO0FBQUNDLGtCQUFBQSxNQUFNLEVBQUM7QUFBUixpQkFERCxDLEVBR2pCO0FBQ0E7O0FBQ01DLGdCQUFBQSxXLEdBQWMsVTs7dUJBRVU5QixRQUFRLENBQUMrQixTQUFULENBQW1CSixRQUFuQixFQUE2QjtBQUN6REcsa0JBQUFBLFdBQVcsRUFBWEE7QUFEeUQsaUJBQTdCLEM7OztBQUF4QkUsZ0JBQUFBLGU7O3VCQUlPQSxlQUFlLENBQUNDLE9BQWhCLEU7Ozs7Ozs7O0FBRWJ6QixnQkFBQUEsT0FBTyxDQUFDQyxLQUFSO2tEQUNPO0FBQUVBLGtCQUFBQSxLQUFLO0FBQVAsaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLYiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXE5hZGF2IFNoZXJmXFxtZmxpeC1qc1xcc3JjXFxkYW9cXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9iamVjdElkIH0gZnJvbSBcImJzb25cIlxuXG5sZXQgY29tbWVudHNcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbWVudHNEQU8ge1xuICBzdGF0aWMgYXN5bmMgaW5qZWN0REIoY29ubikge1xuICAgIGlmIChjb21tZW50cykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb21tZW50cyA9IGF3YWl0IGNvbm4uZGIocHJvY2Vzcy5lbnYuTUZMSVhfTlMpLmNvbGxlY3Rpb24oXCJjb21tZW50c1wiKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byBlc3RhYmxpc2ggY29sbGVjdGlvbiBoYW5kbGVzIGluIHVzZXJEQU86ICR7ZX1gKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICBUaWNrZXQ6IENyZWF0ZS9VcGRhdGUgQ29tbWVudHNcblxuICBGb3IgdGhpcyB0aWNrZXQsIHlvdSB3aWxsIG5lZWQgdG8gaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgdHdvIG1ldGhvZHM6XG5cbiAgLSBhZGRDb21tZW50XG4gIC0gdXBkYXRlQ29tbWVudFxuXG4gIFlvdSBjYW4gZmluZCB0aGVzZSBtZXRob2RzIGJlbG93IHRoaXMgZG9jc3RyaW5nLiBNYWtlIHN1cmUgdG8gcmVhZCB0aGUgY29tbWVudHNcbiAgdG8gYmV0dGVyIHVuZGVyc3RhbmQgdGhlIHRhc2suXG4gICovXG5cbiAgLyoqXG4gICAqIEluc2VydHMgYSBjb21tZW50IGludG8gdGhlIGBjb21tZW50c2AgY29sbGVjdGlvbiwgd2l0aCB0aGUgZm9sbG93aW5nIGZpZWxkczpcblxuICAgICAtIFwibmFtZVwiLCB0aGUgbmFtZSBvZiB0aGUgdXNlciBwb3N0aW5nIHRoZSBjb21tZW50XG4gICAgIC0gXCJlbWFpbFwiLCB0aGUgZW1haWwgb2YgdGhlIHVzZXIgcG9zdGluZyB0aGUgY29tbWVudFxuICAgICAtIFwibW92aWVfaWRcIiwgdGhlIF9pZCBvZiB0aGUgbW92aWUgcGVydGFpbmluZyB0byB0aGUgY29tbWVudFxuICAgICAtIFwidGV4dFwiLCB0aGUgdGV4dCBvZiB0aGUgY29tbWVudFxuICAgICAtIFwiZGF0ZVwiLCB0aGUgZGF0ZSB3aGVuIHRoZSBjb21tZW50IHdhcyBwb3N0ZWRcblxuICAgKiBAcGFyYW0ge3N0cmluZ30gbW92aWVJZCAtIFRoZSBfaWQgb2YgdGhlIG1vdmllIGluIHRoZSBgbW92aWVzYCBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gdXNlciAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSB1c2VyJ3MgbmFtZSBhbmQgZW1haWwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tZW50IC0gVGhlIHRleHQgb2YgdGhlIGNvbW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRlIC0gVGhlIGRhdGUgb24gd2hpY2ggdGhlIGNvbW1lbnQgd2FzIHBvc3RlZC5cbiAgICogQHJldHVybnMge0RBT1Jlc3BvbnNlfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGVpdGhlciBEQiByZXNwb25zZSBvciBcImVycm9yXCJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBhZGRDb21tZW50KG1vdmllSWQsIHVzZXIsIGNvbW1lbnQsIGRhdGUpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVE9ETyBUaWNrZXQ6IENyZWF0ZS9VcGRhdGUgQ29tbWVudHNcbiAgICAgIC8vIENvbnN0cnVjdCB0aGUgY29tbWVudCBkb2N1bWVudCB0byBiZSBpbnNlcnRlZCBpbnRvIE1vbmdvREIuXG4gICAgICBjb25zdCBjb21tZW50RG9jID0geyAgJ25hbWUnOnVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW1haWwnOnVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21vdmllX2lkJzpPYmplY3RJZChtb3ZpZUlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGV4dCc6Y29tbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0ZSc6ZGF0ZSB9XG5cbiAgICAgIHJldHVybiBhd2FpdCBjb21tZW50cy5pbnNlcnRPbmUoY29tbWVudERvYylcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gcG9zdCBjb21tZW50OiAke2V9YClcbiAgICAgIHJldHVybiB7IGVycm9yOiBlIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY29tbWVudCBpbiB0aGUgY29tbWVudCBjb2xsZWN0aW9uLiBRdWVyaWVzIGZvciB0aGUgY29tbWVudFxuICAgKiBiYXNlZCBieSBib3RoIGNvbW1lbnQgX2lkIGZpZWxkIGFzIHdlbGwgYXMgdGhlIGVtYWlsIGZpZWxkIHRvIGRvdWJseSBlbnN1cmVcbiAgICogdGhlIHVzZXIgaGFzIHBlcm1pc3Npb24gdG8gZWRpdCB0aGlzIGNvbW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tZW50SWQgLSBUaGUgX2lkIG9mIHRoZSBjb21tZW50IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJFbWFpbCAtIFRoZSBlbWFpbCBvZiB0aGUgdXNlciB3aG8gb3ducyB0aGUgY29tbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdXBkYXRlZCB0ZXh0IG9mIHRoZSBjb21tZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0ZSAtIFRoZSBkYXRlIG9uIHdoaWNoIHRoZSBjb21tZW50IHdhcyB1cGRhdGVkLlxuICAgKiBAcmV0dXJucyB7REFPUmVzcG9uc2V9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggZWl0aGVyIERCIHJlc3BvbnNlIG9yIFwiZXJyb3JcIiAgXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgdXBkYXRlQ29tbWVudChjb21tZW50SWQsIHVzZXJFbWFpbCwgdGV4dCwgZGF0ZSkge1xuICAgIHRyeSB7XG4gICAgICAvLyBUT0RPIFRpY2tldDogQ3JlYXRlL1VwZGF0ZSBDb21tZW50c1xuICAgICAgLy8gVXNlIHRoZSBjb21tZW50SWQgYW5kIHVzZXJFbWFpbCB0byBzZWxlY3QgdGhlIHByb3BlciBjb21tZW50LCB0aGVuXG4gICAgICAvLyB1cGRhdGUgdGhlIFwidGV4dFwiIGFuZCBcImRhdGVcIiBmaWVsZHMgb2YgdGhlIHNlbGVjdGVkIGNvbW1lbnQuXG4gICAgICBjb25zdCB1cGRhdGVSZXNwb25zZSA9IGF3YWl0IGNvbW1lbnRzLnVwZGF0ZU9uZShcbiAgICAgICAge19pZDpPYmplY3RJZChjb21tZW50SWQpLGVtYWlsOnVzZXJFbWFpbCB9LFxuICAgICAgICB7ICRzZXQ6IHsgJ3RleHQnOiB0ZXh0LCAnZGF0ZSc6ZGF0ZSB9IH1cbiAgICAgIClcblxuICAgICAgXG4gICAgICByZXR1cm4gdXBkYXRlUmVzcG9uc2VcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gdXBkYXRlIGNvbW1lbnQ6ICR7ZX1gKVxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGVDb21tZW50KGNvbW1lbnRJZCwgdXNlckVtYWlsKSB7XG4gICAgLyoqXG4gICAgVGlja2V0OiBEZWxldGUgQ29tbWVudHNcblxuICAgIEltcGxlbWVudCB0aGUgZGVsZXRlT25lKCkgY2FsbCBpbiB0aGlzIG1ldGhvZC5cblxuICAgIEVuc3VyZSB0aGUgZGVsZXRlIG9wZXJhdGlvbiBpcyBsaW1pdGVkIHNvIG9ubHkgdGhlIHVzZXIgY2FuIGRlbGV0ZSB0aGVpciBvd25cbiAgICBjb21tZW50cywgYnV0IG5vdCBhbnlvbmUgZWxzZSdzIGNvbW1lbnRzLlxuICAgICovXG5cbiAgICB0cnkge1xuICAgICAgLy8gVE9ETyBUaWNrZXQ6IERlbGV0ZSBDb21tZW50c1xuICAgICAgLy8gVXNlIHRoZSB1c2VyRW1haWwgYW5kIGNvbW1lbnRJZCB0byBkZWxldGUgdGhlIHByb3BlciBjb21tZW50LlxuICAgICAgY29uc3QgZGVsZXRlUmVzcG9uc2UgPSBhd2FpdCBjb21tZW50cy5kZWxldGVPbmUoe1xuICAgICAgICBfaWQ6IE9iamVjdElkKGNvbW1lbnRJZCksZW1haWw6dXNlckVtYWlsXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gZGVsZXRlUmVzcG9uc2VcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gZGVsZXRlIGNvbW1lbnQ6ICR7ZX1gKVxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBtb3N0QWN0aXZlQ29tbWVudGVycygpIHtcbiAgICAvKipcbiAgICBUaWNrZXQ6IFVzZXIgUmVwb3J0XG5cbiAgICBCdWlsZCBhIHBpcGVsaW5lIHRoYXQgcmV0dXJucyB0aGUgMjAgbW9zdCBmcmVxdWVudCBjb21tZW50ZXJzIG9uIHRoZSBNRmxpeFxuICAgIHNpdGUuIFlvdSBjYW4gZG8gdGhpcyBieSBjb3VudGluZyB0aGUgbnVtYmVyIG9mIG9jY3VycmVuY2VzIG9mIGEgdXNlcidzXG4gICAgZW1haWwgaW4gdGhlIGBjb21tZW50c2AgY29sbGVjdGlvbi5cbiAgICAqL1xuICAgIHRyeSB7XG4gICAgICAvLyBUT0RPIFRpY2tldDogVXNlciBSZXBvcnRcbiAgICAgIC8vIFJldHVybiB0aGUgMjAgdXNlcnMgd2hvIGhhdmUgY29tbWVudGVkIHRoZSBtb3N0IG9uIE1GbGl4LlxuICAgICAgY29uc3QgcGlwZWxpbmUgPSBbeyRzb3J0QnlDb3VudDogXCIkZW1haWxcIn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7JGxpbWl0OjIwfV1cblxuICAgICAgLy8gVE9ETyBUaWNrZXQ6IFVzZXIgUmVwb3J0XG4gICAgICAvLyBVc2UgYSBtb3JlIGR1cmFibGUgUmVhZCBDb25jZXJuIGhlcmUgdG8gbWFrZSBzdXJlIHRoaXMgZGF0YSBpcyBub3Qgc3RhbGUuXG4gICAgICBjb25zdCByZWFkQ29uY2VybiA9IFwibWFqb3JpdHlcIlxuXG4gICAgICBjb25zdCBhZ2dyZWdhdGVSZXN1bHQgPSBhd2FpdCBjb21tZW50cy5hZ2dyZWdhdGUocGlwZWxpbmUsIHtcbiAgICAgICAgcmVhZENvbmNlcm4sXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gYXdhaXQgYWdncmVnYXRlUmVzdWx0LnRvQXJyYXkoKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byByZXRyaWV2ZSBtb3N0IGFjdGl2ZSBjb21tZW50ZXJzOiAke2V9YClcbiAgICAgIHJldHVybiB7IGVycm9yOiBlIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTdWNjZXNzL0Vycm9yIHJldHVybiBvYmplY3RcbiAqIEB0eXBlZGVmIERBT1Jlc3BvbnNlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzdWNjZXNzXSAtIFN1Y2Nlc3NcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZXJyb3JdIC0gRXJyb3JcbiAqL1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "commentsDAO.js"
      ],
      "names": [
        "comments",
        "CommentsDAO",
        "conn",
        "db",
        "process",
        "env",
        "MFLIX_NS",
        "collection",
        "console",
        "error",
        "movieId",
        "user",
        "comment",
        "date",
        "commentDoc",
        "name",
        "email",
        "insertOne",
        "commentId",
        "userEmail",
        "text",
        "updateOne",
        "_id",
        "$set",
        "updateResponse",
        "deleteOne",
        "deleteResponse",
        "pipeline",
        "$sortByCount",
        "$limit",
        "readConcern",
        "aggregate",
        "aggregateResult",
        "toArray"
      ],
      "mappings": ";;;;;;;;;;;;;;;;;AAAA;;AAEA,IAAIA,QAAJ;;IAEqBC,W;;;;;;;;qHACGC,I;;;;;qBAChBF,Q;;;;;;;;;;uBAIeE,IAAI,CAACC,EAAL,CAAQC,OAAO,CAACC,GAAR,CAAYC,QAApB,EAA8BC,UAA9B,CAAyC,UAAzC,C;;;AAAjBP,gBAAAA,Q;;;;;;;AAEAQ,gBAAAA,OAAO,CAACC,KAAR;;;;;;;;;;;;;;;;AAIJ;;;;;;;;;AAYA;;;;;;;;;;;;;;;;;wHAewBC,O,EAASC,I,EAAMC,O,EAASC,I;;;;;;;AAE5C;AACA;AACMC,gBAAAA,U,GAAa;AAAG,0BAAOH,IAAI,CAACI,IAAf;AACG,2BAAQJ,IAAI,CAACK,KADhB;AAEG,8BAAW,oBAASN,OAAT,CAFd;AAGG,0BAAOE,OAHV;AAIG,0BAAOC;AAJV,iB;;uBAMNb,QAAQ,CAACiB,SAAT,CAAmBH,UAAnB,C;;;;;;;;AAEbN,gBAAAA,OAAO,CAACC,KAAR;kDACO;AAAEA,kBAAAA,KAAK;AAAP,iB;;;;;;;;;;;;;;;;AAIX;;;;;;;;;;;;;;2HAU2BS,S,EAAWC,S,EAAWC,I,EAAMP,I;;;;;;;;uBAKtBb,QAAQ,CAACqB,SAAT,CAC3B;AAACC,kBAAAA,GAAG,EAAC,oBAASJ,SAAT,CAAL;AAAyBF,kBAAAA,KAAK,EAACG;AAA/B,iBAD2B,EAE3B;AAAEI,kBAAAA,IAAI,EAAE;AAAE,4BAAQH,IAAV;AAAgB,4BAAOP;AAAvB;AAAR,iBAF2B,C;;;AAAvBW,gBAAAA,c;kDAMCA,c;;;;;AAEPhB,gBAAAA,OAAO,CAACC,KAAR;kDACO;AAAEA,kBAAAA,KAAK;AAAP,iB;;;;;;;;;;;;;;;;;;;2HAIgBS,S,EAAWC,S;;;;;;;;uBAaLnB,QAAQ,CAACyB,SAAT,CAAmB;AAC9CH,kBAAAA,GAAG,EAAE,oBAASJ,SAAT,CADyC;AACrBF,kBAAAA,KAAK,EAACG;AADe,iBAAnB,C;;;AAAvBO,gBAAAA,c;kDAICA,c;;;;;AAEPlB,gBAAAA,OAAO,CAACC,KAAR;kDACO;AAAEA,kBAAAA,KAAK;AAAP,iB;;;;;;;;;;;;;;;;;;;;;;;;;;AAaP;AACA;AACMkB,gBAAAA,Q,GAAW,CAAC;AAACC,kBAAAA,YAAY,EAAE;AAAf,iBAAD,EACC;AAACC,kBAAAA,MAAM,EAAC;AAAR,iBADD,C,EAGjB;AACA;;AACMC,gBAAAA,W,GAAc,U;;uBAEU9B,QAAQ,CAAC+B,SAAT,CAAmBJ,QAAnB,EAA6B;AACzDG,kBAAAA,WAAW,EAAXA;AADyD,iBAA7B,C;;;AAAxBE,gBAAAA,e;;uBAIOA,eAAe,CAACC,OAAhB,E;;;;;;;;AAEbzB,gBAAAA,OAAO,CAACC,KAAR;kDACO;AAAEA,kBAAAA,KAAK;AAAP,iB;;;;;;;;;;;;;;;;;;;AAKb",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\dao\\",
      "sourcesContent": [
        "import { ObjectId } from \"bson\"\n\nlet comments\n\nexport default class CommentsDAO {\n  static async injectDB(conn) {\n    if (comments) {\n      return\n    }\n    try {\n      comments = await conn.db(process.env.MFLIX_NS).collection(\"comments\")\n    } catch (e) {\n      console.error(`Unable to establish collection handles in userDAO: ${e}`)\n    }\n  }\n\n  /**\n  Ticket: Create/Update Comments\n\n  For this ticket, you will need to implement the following two methods:\n\n  - addComment\n  - updateComment\n\n  You can find these methods below this docstring. Make sure to read the comments\n  to better understand the task.\n  */\n\n  /**\n   * Inserts a comment into the `comments` collection, with the following fields:\n\n     - \"name\", the name of the user posting the comment\n     - \"email\", the email of the user posting the comment\n     - \"movie_id\", the _id of the movie pertaining to the comment\n     - \"text\", the text of the comment\n     - \"date\", the date when the comment was posted\n\n   * @param {string} movieId - The _id of the movie in the `movies` collection.\n   * @param {Object} user - An object containing the user's name and email.\n   * @param {string} comment - The text of the comment.\n   * @param {string} date - The date on which the comment was posted.\n   * @returns {DAOResponse} Returns an object with either DB response or \"error\"\n   */\n  static async addComment(movieId, user, comment, date) {\n    try {\n      // TODO Ticket: Create/Update Comments\n      // Construct the comment document to be inserted into MongoDB.\n      const commentDoc = {  'name':user.name,\n                            'email':user.email,\n                            'movie_id':ObjectId(movieId),\n                            'text':comment,\n                            'date':date }\n\n      return await comments.insertOne(commentDoc)\n    } catch (e) {\n      console.error(`Unable to post comment: ${e}`)\n      return { error: e }\n    }\n  }\n\n  /**\n   * Updates the comment in the comment collection. Queries for the comment\n   * based by both comment _id field as well as the email field to doubly ensure\n   * the user has permission to edit this comment.\n   * @param {string} commentId - The _id of the comment to update.\n   * @param {string} userEmail - The email of the user who owns the comment.\n   * @param {string} text - The updated text of the comment.\n   * @param {string} date - The date on which the comment was updated.\n   * @returns {DAOResponse} Returns an object with either DB response or \"error\"  \n   */\n  static async updateComment(commentId, userEmail, text, date) {\n    try {\n      // TODO Ticket: Create/Update Comments\n      // Use the commentId and userEmail to select the proper comment, then\n      // update the \"text\" and \"date\" fields of the selected comment.\n      const updateResponse = await comments.updateOne(\n        {_id:ObjectId(commentId),email:userEmail },\n        { $set: { 'text': text, 'date':date } }\n      )\n\n      \n      return updateResponse\n    } catch (e) {\n      console.error(`Unable to update comment: ${e}`)\n      return { error: e }\n    }\n  }\n\n  static async deleteComment(commentId, userEmail) {\n    /**\n    Ticket: Delete Comments\n\n    Implement the deleteOne() call in this method.\n\n    Ensure the delete operation is limited so only the user can delete their own\n    comments, but not anyone else's comments.\n    */\n\n    try {\n      // TODO Ticket: Delete Comments\n      // Use the userEmail and commentId to delete the proper comment.\n      const deleteResponse = await comments.deleteOne({\n        _id: ObjectId(commentId),email:userEmail\n      })\n\n      return deleteResponse\n    } catch (e) {\n      console.error(`Unable to delete comment: ${e}`)\n      return { error: e }\n    }\n  }\n\n  static async mostActiveCommenters() {\n    /**\n    Ticket: User Report\n\n    Build a pipeline that returns the 20 most frequent commenters on the MFlix\n    site. You can do this by counting the number of occurrences of a user's\n    email in the `comments` collection.\n    */\n    try {\n      // TODO Ticket: User Report\n      // Return the 20 users who have commented the most on MFlix.\n      const pipeline = [{$sortByCount: \"$email\"},\n                        {$limit:20}]\n\n      // TODO Ticket: User Report\n      // Use a more durable Read Concern here to make sure this data is not stale.\n      const readConcern = \"majority\"\n\n      const aggregateResult = await comments.aggregate(pipeline, {\n        readConcern,\n      })\n\n      return await aggregateResult.toArray()\n    } catch (e) {\n      console.error(`Unable to retrieve most active commenters: ${e}`)\n      return { error: e }\n    }\n  }\n}\n\n/**\n * Success/Error return object\n * @typedef DAOResponse\n * @property {boolean} [success] - Success\n * @property {string} [error] - Error\n */\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600079931736
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\users.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.controller.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.controller.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
        "sourceFileName": "users.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.User = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _usersDAO = _interopRequireDefault(require(\"../dao/usersDAO\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar hashPassword = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(password) {\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _bcryptjs[\"default\"].hash(password, 10);\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function hashPassword(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar User = /*#__PURE__*/function () {\n  function User() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        name = _ref2.name,\n        email = _ref2.email,\n        password = _ref2.password,\n        _ref2$preferences = _ref2.preferences,\n        preferences = _ref2$preferences === void 0 ? {} : _ref2$preferences;\n\n    (0, _classCallCheck2[\"default\"])(this, User);\n    this.name = name;\n    this.email = email;\n    this.password = password;\n    this.preferences = preferences;\n  }\n\n  (0, _createClass2[\"default\"])(User, [{\n    key: \"toJson\",\n    value: function toJson() {\n      return {\n        name: this.name,\n        email: this.email,\n        preferences: this.preferences\n      };\n    }\n  }, {\n    key: \"comparePassword\",\n    value: function () {\n      var _comparePassword = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(plainText) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _bcryptjs[\"default\"].compare(plainText, this.password);\n\n              case 2:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function comparePassword(_x2) {\n        return _comparePassword.apply(this, arguments);\n      }\n\n      return comparePassword;\n    }()\n  }, {\n    key: \"encoded\",\n    value: function encoded() {\n      return _jsonwebtoken[\"default\"].sign(_objectSpread({\n        exp: Math.floor(Date.now() / 1000) + 60 * 60 * 4\n      }, this.toJson()), process.env.SECRET_KEY);\n    }\n  }], [{\n    key: \"decoded\",\n    value: function () {\n      var _decoded = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(userJwt) {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", _jsonwebtoken[\"default\"].verify(userJwt, process.env.SECRET_KEY, function (error, res) {\n                  if (error) {\n                    return {\n                      error: error\n                    };\n                  }\n\n                  return new User(res);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function decoded(_x3) {\n        return _decoded.apply(this, arguments);\n      }\n\n      return decoded;\n    }()\n  }]);\n  return User;\n}();\n\nexports.User = User;\n\nvar UserController = /*#__PURE__*/function () {\n  function UserController() {\n    (0, _classCallCheck2[\"default\"])(this, UserController);\n  }\n\n  (0, _createClass2[\"default\"])(UserController, null, [{\n    key: \"register\",\n    value: function () {\n      var _register = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n        var userFromBody, errors, userInfo, insertResult, userFromDB, user;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                userFromBody = req.body;\n                errors = {};\n\n                if (userFromBody && userFromBody.password.length < 8) {\n                  errors.password = \"Your password must be at least 8 characters.\";\n                }\n\n                if (userFromBody && userFromBody.name.length < 3) {\n                  errors.name = \"You must specify a name of at least 3 characters.\";\n                }\n\n                if (!(Object.keys(errors).length > 0)) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                res.status(400).json(errors);\n                return _context4.abrupt(\"return\");\n\n              case 8:\n                _context4.t0 = _objectSpread;\n                _context4.t1 = _objectSpread({}, userFromBody);\n                _context4.t2 = {};\n                _context4.next = 13;\n                return hashPassword(userFromBody.password);\n\n              case 13:\n                _context4.t3 = _context4.sent;\n                _context4.t4 = {\n                  password: _context4.t3\n                };\n                userInfo = (0, _context4.t0)(_context4.t1, _context4.t2, _context4.t4);\n                _context4.next = 18;\n                return _usersDAO[\"default\"].addUser(userInfo);\n\n              case 18:\n                insertResult = _context4.sent;\n\n                if (!insertResult.success) {\n                  errors.email = insertResult.error;\n                }\n\n                _context4.next = 22;\n                return _usersDAO[\"default\"].getUser(userFromBody.email);\n\n              case 22:\n                userFromDB = _context4.sent;\n\n                if (!userFromDB) {\n                  errors.general = \"Internal error, please try again later\";\n                }\n\n                if (!(Object.keys(errors).length > 0)) {\n                  _context4.next = 27;\n                  break;\n                }\n\n                res.status(400).json(errors);\n                return _context4.abrupt(\"return\");\n\n              case 27:\n                user = new User(userFromDB);\n                res.json({\n                  auth_token: user.encoded(),\n                  info: user.toJson()\n                });\n                _context4.next = 34;\n                break;\n\n              case 31:\n                _context4.prev = 31;\n                _context4.t5 = _context4[\"catch\"](0);\n                res.status(500).json({\n                  error: _context4.t5\n                });\n\n              case 34:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 31]]);\n      }));\n\n      function register(_x4, _x5) {\n        return _register.apply(this, arguments);\n      }\n\n      return register;\n    }()\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res, next) {\n        var _req$body, email, password, userData, user, loginResponse;\n\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _req$body = req.body, email = _req$body.email, password = _req$body.password;\n\n                if (!(!email || typeof email !== \"string\")) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Bad email format, expected string.\"\n                });\n                return _context5.abrupt(\"return\");\n\n              case 5:\n                if (!(!password || typeof password !== \"string\")) {\n                  _context5.next = 8;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Bad password format, expected string.\"\n                });\n                return _context5.abrupt(\"return\");\n\n              case 8:\n                _context5.next = 10;\n                return _usersDAO[\"default\"].getUser(email);\n\n              case 10:\n                userData = _context5.sent;\n\n                if (userData) {\n                  _context5.next = 14;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: \"Make sure your email is correct.\"\n                });\n                return _context5.abrupt(\"return\");\n\n              case 14:\n                user = new User(userData);\n                _context5.next = 17;\n                return user.comparePassword(password);\n\n              case 17:\n                if (_context5.sent) {\n                  _context5.next = 20;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: \"Make sure your password is correct.\"\n                });\n                return _context5.abrupt(\"return\");\n\n              case 20:\n                _context5.next = 22;\n                return _usersDAO[\"default\"].loginUser(user.email, user.encoded());\n\n              case 22:\n                loginResponse = _context5.sent;\n\n                if (loginResponse.success) {\n                  _context5.next = 26;\n                  break;\n                }\n\n                res.status(500).json({\n                  error: loginResponse.error\n                });\n                return _context5.abrupt(\"return\");\n\n              case 26:\n                res.json({\n                  auth_token: user.encoded(),\n                  info: user.toJson()\n                });\n                _context5.next = 33;\n                break;\n\n              case 29:\n                _context5.prev = 29;\n                _context5.t0 = _context5[\"catch\"](0);\n                res.status(400).json({\n                  error: _context5.t0\n                });\n                return _context5.abrupt(\"return\");\n\n              case 33:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 29]]);\n      }));\n\n      function login(_x6, _x7, _x8) {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n        var userJwt, userObj, error, logoutResult;\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context6.next = 4;\n                return User.decoded(userJwt);\n\n              case 4:\n                userObj = _context6.sent;\n                error = userObj.error;\n\n                if (!error) {\n                  _context6.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context6.abrupt(\"return\");\n\n              case 9:\n                _context6.next = 11;\n                return _usersDAO[\"default\"].logoutUser(userObj.email);\n\n              case 11:\n                logoutResult = _context6.sent;\n                error = logoutResult.error;\n\n                if (!error) {\n                  _context6.next = 16;\n                  break;\n                }\n\n                res.status(500).json({\n                  error: error\n                });\n                return _context6.abrupt(\"return\");\n\n              case 16:\n                res.json(logoutResult);\n                _context6.next = 22;\n                break;\n\n              case 19:\n                _context6.prev = 19;\n                _context6.t0 = _context6[\"catch\"](0);\n                res.status(500).json(_context6.t0);\n\n              case 22:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[0, 19]]);\n      }));\n\n      function logout(_x9, _x10) {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n        var password, userJwt, userClaim, error, user, deleteResult;\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.prev = 0;\n                password = req.body.password;\n\n                if (!(!password || typeof password !== \"string\")) {\n                  _context7.next = 5;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Bad password format, expected string.\"\n                });\n                return _context7.abrupt(\"return\");\n\n              case 5:\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context7.next = 8;\n                return User.decoded(userJwt);\n\n              case 8:\n                userClaim = _context7.sent;\n                error = userClaim.error;\n\n                if (!error) {\n                  _context7.next = 13;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context7.abrupt(\"return\");\n\n              case 13:\n                _context7.t0 = User;\n                _context7.next = 16;\n                return _usersDAO[\"default\"].getUser(userClaim.email);\n\n              case 16:\n                _context7.t1 = _context7.sent;\n                user = new _context7.t0(_context7.t1);\n                _context7.next = 20;\n                return user.comparePassword(password);\n\n              case 20:\n                if (_context7.sent) {\n                  _context7.next = 23;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: \"Make sure your password is correct.\"\n                });\n                return _context7.abrupt(\"return\");\n\n              case 23:\n                _context7.next = 25;\n                return _usersDAO[\"default\"].deleteUser(userClaim.email);\n\n              case 25:\n                deleteResult = _context7.sent;\n                error = deleteResult.error;\n\n                if (!error) {\n                  _context7.next = 30;\n                  break;\n                }\n\n                res.status(500).json({\n                  error: error\n                });\n                return _context7.abrupt(\"return\");\n\n              case 30:\n                res.json(deleteResult);\n                _context7.next = 36;\n                break;\n\n              case 33:\n                _context7.prev = 33;\n                _context7.t2 = _context7[\"catch\"](0);\n                res.status(500).json(_context7.t2);\n\n              case 36:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[0, 33]]);\n      }));\n\n      function _delete(_x11, _x12) {\n        return _delete2.apply(this, arguments);\n      }\n\n      return _delete;\n    }()\n  }, {\n    key: \"save\",\n    value: function () {\n      var _save = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(req, res) {\n        var userJwt, userFromHeader, error, userFromDB, updatedUser;\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n                userJwt = req.get(\"Authorization\").slice(\"Bearer \".length);\n                _context8.next = 4;\n                return User.decoded(userJwt);\n\n              case 4:\n                userFromHeader = _context8.sent;\n                error = userFromHeader.error;\n\n                if (!error) {\n                  _context8.next = 9;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: error\n                });\n                return _context8.abrupt(\"return\");\n\n              case 9:\n                _context8.next = 11;\n                return _usersDAO[\"default\"].updatePreferences(userFromHeader.email, req.body.preferences);\n\n              case 11:\n                _context8.next = 13;\n                return _usersDAO[\"default\"].getUser(userFromHeader.email);\n\n              case 13:\n                userFromDB = _context8.sent;\n                updatedUser = new User(userFromDB);\n                res.json({\n                  auth_token: updatedUser.encoded(),\n                  info: updatedUser.toJson()\n                });\n                _context8.next = 21;\n                break;\n\n              case 18:\n                _context8.prev = 18;\n                _context8.t0 = _context8[\"catch\"](0);\n                res.status(500).json(_context8.t0);\n\n              case 21:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, null, [[0, 18]]);\n      }));\n\n      function save(_x13, _x14) {\n        return _save.apply(this, arguments);\n      }\n\n      return save;\n    }() // for internal use only\n\n  }, {\n    key: \"createAdminUser\",\n    value: function () {\n      var _createAdminUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(req, res) {\n        var userFromBody, errors, userInfo, insertResult, makeAdminResponse, userFromDB, user, _jwt, loginResponse;\n\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                userFromBody = req.body;\n                errors = {};\n\n                if (userFromBody && userFromBody.password.length < 8) {\n                  errors.password = \"Your password must be at least 8 characters.\";\n                }\n\n                if (userFromBody && userFromBody.name.length < 3) {\n                  errors.name = \"You must specify a name of at least 3 characters.\";\n                }\n\n                if (!(Object.keys(errors).length > 0)) {\n                  _context9.next = 8;\n                  break;\n                }\n\n                res.status(400).json(errors);\n                return _context9.abrupt(\"return\");\n\n              case 8:\n                _context9.t0 = _objectSpread;\n                _context9.t1 = _objectSpread({}, userFromBody);\n                _context9.t2 = {};\n                _context9.next = 13;\n                return hashPassword(userFromBody.password);\n\n              case 13:\n                _context9.t3 = _context9.sent;\n                _context9.t4 = {\n                  password: _context9.t3\n                };\n                userInfo = (0, _context9.t0)(_context9.t1, _context9.t2, _context9.t4);\n                _context9.next = 18;\n                return _usersDAO[\"default\"].addUser(userInfo);\n\n              case 18:\n                insertResult = _context9.sent;\n\n                if (!insertResult.success) {\n                  errors.email = insertResult.error;\n                }\n\n                if (!(Object.keys(errors).length > 0)) {\n                  _context9.next = 23;\n                  break;\n                }\n\n                res.status(400).json(errors);\n                return _context9.abrupt(\"return\");\n\n              case 23:\n                _context9.next = 25;\n                return _usersDAO[\"default\"].makeAdmin(userFromBody.email);\n\n              case 25:\n                makeAdminResponse = _context9.sent;\n                _context9.next = 28;\n                return _usersDAO[\"default\"].getUser(userFromBody.email);\n\n              case 28:\n                userFromDB = _context9.sent;\n\n                if (!userFromDB) {\n                  errors.general = \"Internal error, please try again later\";\n                }\n\n                if (!(Object.keys(errors).length > 0)) {\n                  _context9.next = 33;\n                  break;\n                }\n\n                res.status(400).json(errors);\n                return _context9.abrupt(\"return\");\n\n              case 33:\n                user = new User(userFromDB);\n                _jwt = user.encoded();\n                _context9.next = 37;\n                return _usersDAO[\"default\"].loginUser(user.email, _jwt);\n\n              case 37:\n                loginResponse = _context9.sent;\n                res.json({\n                  auth_token: _jwt,\n                  info: user.toJson()\n                });\n                _context9.next = 44;\n                break;\n\n              case 41:\n                _context9.prev = 41;\n                _context9.t5 = _context9[\"catch\"](0);\n                res.status(500).json(_context9.t5);\n\n              case 44:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, null, [[0, 41]]);\n      }));\n\n      function createAdminUser(_x15, _x16) {\n        return _createAdminUser.apply(this, arguments);\n      }\n\n      return createAdminUser;\n    }()\n  }]);\n  return UserController;\n}();\n\nexports[\"default\"] = UserController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInByZWZlcmVuY2VzIiwicGxhaW5UZXh0IiwiY29tcGFyZSIsImp3dCIsInNpZ24iLCJleHAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwidG9Kc29uIiwicHJvY2VzcyIsImVudiIsIlNFQ1JFVF9LRVkiLCJ1c2VySnd0IiwidmVyaWZ5IiwiZXJyb3IiLCJyZXMiLCJVc2VyQ29udHJvbGxlciIsInJlcSIsInVzZXJGcm9tQm9keSIsImJvZHkiLCJlcnJvcnMiLCJsZW5ndGgiLCJPYmplY3QiLCJrZXlzIiwic3RhdHVzIiwianNvbiIsInVzZXJJbmZvIiwiVXNlcnNEQU8iLCJhZGRVc2VyIiwiaW5zZXJ0UmVzdWx0Iiwic3VjY2VzcyIsImdldFVzZXIiLCJ1c2VyRnJvbURCIiwiZ2VuZXJhbCIsInVzZXIiLCJhdXRoX3Rva2VuIiwiZW5jb2RlZCIsImluZm8iLCJuZXh0IiwidXNlckRhdGEiLCJjb21wYXJlUGFzc3dvcmQiLCJsb2dpblVzZXIiLCJsb2dpblJlc3BvbnNlIiwiZ2V0Iiwic2xpY2UiLCJkZWNvZGVkIiwidXNlck9iaiIsImxvZ291dFVzZXIiLCJsb2dvdXRSZXN1bHQiLCJ1c2VyQ2xhaW0iLCJkZWxldGVVc2VyIiwiZGVsZXRlUmVzdWx0IiwidXNlckZyb21IZWFkZXIiLCJ1cGRhdGVQcmVmZXJlbmNlcyIsInVwZGF0ZWRVc2VyIiwibWFrZUFkbWluIiwibWFrZUFkbWluUmVzcG9uc2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsWUFBWTtBQUFBLDJGQUFHLGlCQUFNQyxRQUFOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUF3QkMscUJBQU9DLElBQVAsQ0FBWUYsUUFBWixF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QUFTcUMsVUFBVCxDO0FBQ1AvQixnQkFBQUEsSSxHQUFNaUMsSUFBSSxDQUFDRSxPQUFMLEU7O3VCQUNnQlQscUJBQVNjLFNBQVQsQ0FBbUJQLElBQUksQ0FBQ3JDLEtBQXhCLEVBQStCSSxJQUEvQixDOzs7QUFBdEJ5QyxnQkFBQUEsYTtBQUVOM0IsZ0JBQUFBLEdBQUcsQ0FBQ1UsSUFBSixDQUFTO0FBQ1BVLGtCQUFBQSxVQUFVLEVBQUVsQyxJQURMO0FBRVBvQyxrQkFBQUEsSUFBSSxFQUFFSCxJQUFJLENBQUMxQixNQUFMO0FBRkMsaUJBQVQ7Ozs7Ozs7QUFLQU8sZ0JBQUFBLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXGFwaVxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCJcbmltcG9ydCBVc2Vyc0RBTyBmcm9tIFwiLi4vZGFvL3VzZXJzREFPXCJcblxuY29uc3QgaGFzaFBhc3N3b3JkID0gYXN5bmMgcGFzc3dvcmQgPT4gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKVxuXG5leHBvcnQgY2xhc3MgVXNlciB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkLCBwcmVmZXJlbmNlcyA9IHt9IH0gPSB7fSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLmVtYWlsID0gZW1haWxcbiAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmRcbiAgICB0aGlzLnByZWZlcmVuY2VzID0gcHJlZmVyZW5jZXNcbiAgfVxuICB0b0pzb24oKSB7XG4gICAgcmV0dXJuIHsgbmFtZTogdGhpcy5uYW1lLCBlbWFpbDogdGhpcy5lbWFpbCwgcHJlZmVyZW5jZXM6IHRoaXMucHJlZmVyZW5jZXMgfVxuICB9XG4gIGFzeW5jIGNvbXBhcmVQYXNzd29yZChwbGFpblRleHQpIHtcbiAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGxhaW5UZXh0LCB0aGlzLnBhc3N3b3JkKVxuICB9XG4gIGVuY29kZWQoKSB7XG4gICAgcmV0dXJuIGp3dC5zaWduKFxuICAgICAge1xuICAgICAgICBleHA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAgKiA2MCAqIDQsXG4gICAgICAgIC4uLnRoaXMudG9Kc29uKCksXG4gICAgICB9LFxuICAgICAgcHJvY2Vzcy5lbnYuU0VDUkVUX0tFWSxcbiAgICApXG4gIH1cbiAgc3RhdGljIGFzeW5jIGRlY29kZWQodXNlckp3dCkge1xuICAgIHJldHVybiBqd3QudmVyaWZ5KHVzZXJKd3QsIHByb2Nlc3MuZW52LlNFQ1JFVF9LRVksIChlcnJvciwgcmVzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3IgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBVc2VyKHJlcylcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJDb250cm9sbGVyIHtcbiAgc3RhdGljIGFzeW5jIHJlZ2lzdGVyKHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJGcm9tQm9keSA9IHJlcS5ib2R5XG4gICAgICBsZXQgZXJyb3JzID0ge31cbiAgICAgIGlmICh1c2VyRnJvbUJvZHkgJiYgdXNlckZyb21Cb2R5LnBhc3N3b3JkLmxlbmd0aCA8IDgpIHtcbiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gXCJZb3VyIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzLlwiXG4gICAgICB9XG4gICAgICBpZiAodXNlckZyb21Cb2R5ICYmIHVzZXJGcm9tQm9keS5uYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgZXJyb3JzLm5hbWUgPSBcIllvdSBtdXN0IHNwZWNpZnkgYSBuYW1lIG9mIGF0IGxlYXN0IDMgY2hhcmFjdGVycy5cIlxuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKGVycm9ycylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVzZXJJbmZvID0ge1xuICAgICAgICAuLi51c2VyRnJvbUJvZHksXG4gICAgICAgIHBhc3N3b3JkOiBhd2FpdCBoYXNoUGFzc3dvcmQodXNlckZyb21Cb2R5LnBhc3N3b3JkKSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5zZXJ0UmVzdWx0ID0gYXdhaXQgVXNlcnNEQU8uYWRkVXNlcih1c2VySW5mbylcbiAgICAgIGlmICghaW5zZXJ0UmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXJyb3JzLmVtYWlsID0gaW5zZXJ0UmVzdWx0LmVycm9yXG4gICAgICB9XG4gICAgICBjb25zdCB1c2VyRnJvbURCID0gYXdhaXQgVXNlcnNEQU8uZ2V0VXNlcih1c2VyRnJvbUJvZHkuZW1haWwpXG4gICAgICBpZiAoIXVzZXJGcm9tREIpIHtcbiAgICAgICAgZXJyb3JzLmdlbmVyYWwgPSBcIkludGVybmFsIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCJcbiAgICAgIH1cblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoID4gMCkge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbihlcnJvcnMpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIodXNlckZyb21EQilcblxuICAgICAgcmVzLmpzb24oe1xuICAgICAgICBhdXRoX3Rva2VuOiB1c2VyLmVuY29kZWQoKSxcbiAgICAgICAgaW5mbzogdXNlci50b0pzb24oKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZSB9KVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBsb2dpbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHlcbiAgICAgIGlmICghZW1haWwgfHwgdHlwZW9mIGVtYWlsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiQmFkIGVtYWlsIGZvcm1hdCwgZXhwZWN0ZWQgc3RyaW5nLlwiIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKCFwYXNzd29yZCB8fCB0eXBlb2YgcGFzc3dvcmQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJCYWQgcGFzc3dvcmQgZm9ybWF0LCBleHBlY3RlZCBzdHJpbmcuXCIgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBsZXQgdXNlckRhdGEgPSBhd2FpdCBVc2Vyc0RBTy5nZXRVc2VyKGVtYWlsKVxuICAgICAgaWYgKCF1c2VyRGF0YSkge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiBcIk1ha2Ugc3VyZSB5b3VyIGVtYWlsIGlzIGNvcnJlY3QuXCIgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIodXNlckRhdGEpXG5cbiAgICAgIGlmICghKGF3YWl0IHVzZXIuY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkKSkpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogXCJNYWtlIHN1cmUgeW91ciBwYXNzd29yZCBpcyBjb3JyZWN0LlwiIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBsb2dpblJlc3BvbnNlID0gYXdhaXQgVXNlcnNEQU8ubG9naW5Vc2VyKHVzZXIuZW1haWwsIHVzZXIuZW5jb2RlZCgpKVxuICAgICAgaWYgKCFsb2dpblJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogbG9naW5SZXNwb25zZS5lcnJvciB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHJlcy5qc29uKHsgYXV0aF90b2tlbjogdXNlci5lbmNvZGVkKCksIGluZm86IHVzZXIudG9Kc29uKCkgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgbG9nb3V0KHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyT2JqID0gYXdhaXQgVXNlci5kZWNvZGVkKHVzZXJKd3QpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gdXNlck9ialxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3IgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBsb2dvdXRSZXN1bHQgPSBhd2FpdCBVc2Vyc0RBTy5sb2dvdXRVc2VyKHVzZXJPYmouZW1haWwpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gbG9nb3V0UmVzdWx0XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvciB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHJlcy5qc29uKGxvZ291dFJlc3VsdClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGUocmVxLCByZXMpIHtcbiAgICB0cnkge1xuICAgICAgbGV0IHsgcGFzc3dvcmQgfSA9IHJlcS5ib2R5XG4gICAgICBpZiAoIXBhc3N3b3JkIHx8IHR5cGVvZiBwYXNzd29yZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBcIkJhZCBwYXNzd29yZCBmb3JtYXQsIGV4cGVjdGVkIHN0cmluZy5cIiB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyQ2xhaW0gPSBhd2FpdCBVc2VyLmRlY29kZWQodXNlckp3dClcbiAgICAgIHZhciB7IGVycm9yIH0gPSB1c2VyQ2xhaW1cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKGF3YWl0IFVzZXJzREFPLmdldFVzZXIodXNlckNsYWltLmVtYWlsKSlcbiAgICAgIGlmICghKGF3YWl0IHVzZXIuY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkKSkpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogXCJNYWtlIHN1cmUgeW91ciBwYXNzd29yZCBpcyBjb3JyZWN0LlwiIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgZGVsZXRlUmVzdWx0ID0gYXdhaXQgVXNlcnNEQU8uZGVsZXRlVXNlcih1c2VyQ2xhaW0uZW1haWwpXG4gICAgICB2YXIgeyBlcnJvciB9ID0gZGVsZXRlUmVzdWx0XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvciB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHJlcy5qc29uKGRlbGV0ZVJlc3VsdClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBzYXZlKHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJKd3QgPSByZXEuZ2V0KFwiQXV0aG9yaXphdGlvblwiKS5zbGljZShcIkJlYXJlciBcIi5sZW5ndGgpXG4gICAgICBjb25zdCB1c2VyRnJvbUhlYWRlciA9IGF3YWl0IFVzZXIuZGVjb2RlZCh1c2VySnd0KVxuICAgICAgdmFyIHsgZXJyb3IgfSA9IHVzZXJGcm9tSGVhZGVyXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvciB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgYXdhaXQgVXNlcnNEQU8udXBkYXRlUHJlZmVyZW5jZXMoXG4gICAgICAgIHVzZXJGcm9tSGVhZGVyLmVtYWlsLFxuICAgICAgICByZXEuYm9keS5wcmVmZXJlbmNlcyxcbiAgICAgIClcbiAgICAgIGNvbnN0IHVzZXJGcm9tREIgPSBhd2FpdCBVc2Vyc0RBTy5nZXRVc2VyKHVzZXJGcm9tSGVhZGVyLmVtYWlsKVxuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBuZXcgVXNlcih1c2VyRnJvbURCKVxuXG4gICAgICByZXMuanNvbih7XG4gICAgICAgIGF1dGhfdG9rZW46IHVwZGF0ZWRVc2VyLmVuY29kZWQoKSxcbiAgICAgICAgaW5mbzogdXBkYXRlZFVzZXIudG9Kc29uKCksXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGUpXG4gICAgfVxuICB9XG5cbiAgLy8gZm9yIGludGVybmFsIHVzZSBvbmx5XG4gIHN0YXRpYyBhc3luYyBjcmVhdGVBZG1pblVzZXIocmVxLCByZXMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlckZyb21Cb2R5ID0gcmVxLmJvZHlcbiAgICAgIGxldCBlcnJvcnMgPSB7fVxuICAgICAgaWYgKHVzZXJGcm9tQm9keSAmJiB1c2VyRnJvbUJvZHkucGFzc3dvcmQubGVuZ3RoIDwgOCkge1xuICAgICAgICBlcnJvcnMucGFzc3dvcmQgPSBcIllvdXIgcGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMuXCJcbiAgICAgIH1cbiAgICAgIGlmICh1c2VyRnJvbUJvZHkgJiYgdXNlckZyb21Cb2R5Lm5hbWUubGVuZ3RoIDwgMykge1xuICAgICAgICBlcnJvcnMubmFtZSA9IFwiWW91IG11c3Qgc3BlY2lmeSBhIG5hbWUgb2YgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzLlwiXG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oZXJyb3JzKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgdXNlckluZm8gPSB7XG4gICAgICAgIC4uLnVzZXJGcm9tQm9keSxcbiAgICAgICAgcGFzc3dvcmQ6IGF3YWl0IGhhc2hQYXNzd29yZCh1c2VyRnJvbUJvZHkucGFzc3dvcmQpLFxuICAgICAgfVxuXG4gICAgICBjb25zdCBpbnNlcnRSZXN1bHQgPSBhd2FpdCBVc2Vyc0RBTy5hZGRVc2VyKHVzZXJJbmZvKVxuICAgICAgaWYgKCFpbnNlcnRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBlcnJvcnMuZW1haWwgPSBpbnNlcnRSZXN1bHQuZXJyb3JcbiAgICAgIH1cblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoID4gMCkge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbihlcnJvcnMpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBtYWtlQWRtaW5SZXNwb25zZSA9IGF3YWl0IFVzZXJzREFPLm1ha2VBZG1pbih1c2VyRnJvbUJvZHkuZW1haWwpXG5cbiAgICAgIGNvbnN0IHVzZXJGcm9tREIgPSBhd2FpdCBVc2Vyc0RBTy5nZXRVc2VyKHVzZXJGcm9tQm9keS5lbWFpbClcbiAgICAgIGlmICghdXNlckZyb21EQikge1xuICAgICAgICBlcnJvcnMuZ2VuZXJhbCA9IFwiSW50ZXJuYWwgZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXJcIlxuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKGVycm9ycylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih1c2VyRnJvbURCKVxuICAgICAgY29uc3Qgand0ID0gdXNlci5lbmNvZGVkKClcbiAgICAgIGNvbnN0IGxvZ2luUmVzcG9uc2UgPSBhd2FpdCBVc2Vyc0RBTy5sb2dpblVzZXIodXNlci5lbWFpbCwgand0KVxuXG4gICAgICByZXMuanNvbih7XG4gICAgICAgIGF1dGhfdG9rZW46IGp3dCxcbiAgICAgICAgaW5mbzogdXNlci50b0pzb24oKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZSlcbiAgICB9XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "users.controller.js"
      ],
      "names": [
        "hashPassword",
        "password",
        "bcrypt",
        "hash",
        "User",
        "name",
        "email",
        "preferences",
        "plainText",
        "compare",
        "jwt",
        "sign",
        "exp",
        "Math",
        "floor",
        "Date",
        "now",
        "toJson",
        "process",
        "env",
        "SECRET_KEY",
        "userJwt",
        "verify",
        "error",
        "res",
        "UserController",
        "req",
        "userFromBody",
        "body",
        "errors",
        "length",
        "Object",
        "keys",
        "status",
        "json",
        "userInfo",
        "UsersDAO",
        "addUser",
        "insertResult",
        "success",
        "getUser",
        "userFromDB",
        "general",
        "user",
        "auth_token",
        "encoded",
        "info",
        "next",
        "userData",
        "comparePassword",
        "loginUser",
        "loginResponse",
        "get",
        "slice",
        "decoded",
        "userObj",
        "logoutUser",
        "logoutResult",
        "userClaim",
        "deleteUser",
        "deleteResult",
        "userFromHeader",
        "updatePreferences",
        "updatedUser",
        "makeAdmin",
        "makeAdminResponse"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "sourcesContent": [
        "import bcrypt from \"bcryptjs\"\nimport jwt from \"jsonwebtoken\"\nimport UsersDAO from \"../dao/usersDAO\"\n\nconst hashPassword = async password => await bcrypt.hash(password, 10)\n\nexport class User {\n  constructor({ name, email, password, preferences = {} } = {}) {\n    this.name = name\n    this.email = email\n    this.password = password\n    this.preferences = preferences\n  }\n  toJson() {\n    return { name: this.name, email: this.email, preferences: this.preferences }\n  }\n  async comparePassword(plainText) {\n    return await bcrypt.compare(plainText, this.password)\n  }\n  encoded() {\n    return jwt.sign(\n      {\n        exp: Math.floor(Date.now() / 1000) + 60 * 60 * 4,\n        ...this.toJson(),\n      },\n      process.env.SECRET_KEY,\n    )\n  }\n  static async decoded(userJwt) {\n    return jwt.verify(userJwt, process.env.SECRET_KEY, (error, res) => {\n      if (error) {\n        return { error }\n      }\n      return new User(res)\n    })\n  }\n}\n\nexport default class UserController {\n  static async register(req, res) {\n    try {\n      const userFromBody = req.body\n      let errors = {}\n      if (userFromBody && userFromBody.password.length < 8) {\n        errors.password = \"Your password must be at least 8 characters.\"\n      }\n      if (userFromBody && userFromBody.name.length < 3) {\n        errors.name = \"You must specify a name of at least 3 characters.\"\n      }\n\n      if (Object.keys(errors).length > 0) {\n        res.status(400).json(errors)\n        return\n      }\n\n      const userInfo = {\n        ...userFromBody,\n        password: await hashPassword(userFromBody.password),\n      }\n\n      const insertResult = await UsersDAO.addUser(userInfo)\n      if (!insertResult.success) {\n        errors.email = insertResult.error\n      }\n      const userFromDB = await UsersDAO.getUser(userFromBody.email)\n      if (!userFromDB) {\n        errors.general = \"Internal error, please try again later\"\n      }\n\n      if (Object.keys(errors).length > 0) {\n        res.status(400).json(errors)\n        return\n      }\n\n      const user = new User(userFromDB)\n\n      res.json({\n        auth_token: user.encoded(),\n        info: user.toJson(),\n      })\n    } catch (e) {\n      res.status(500).json({ error: e })\n    }\n  }\n\n  static async login(req, res, next) {\n    try {\n      const { email, password } = req.body\n      if (!email || typeof email !== \"string\") {\n        res.status(400).json({ error: \"Bad email format, expected string.\" })\n        return\n      }\n      if (!password || typeof password !== \"string\") {\n        res.status(400).json({ error: \"Bad password format, expected string.\" })\n        return\n      }\n      let userData = await UsersDAO.getUser(email)\n      if (!userData) {\n        res.status(401).json({ error: \"Make sure your email is correct.\" })\n        return\n      }\n      const user = new User(userData)\n\n      if (!(await user.comparePassword(password))) {\n        res.status(401).json({ error: \"Make sure your password is correct.\" })\n        return\n      }\n\n      const loginResponse = await UsersDAO.loginUser(user.email, user.encoded())\n      if (!loginResponse.success) {\n        res.status(500).json({ error: loginResponse.error })\n        return\n      }\n      res.json({ auth_token: user.encoded(), info: user.toJson() })\n    } catch (e) {\n      res.status(400).json({ error: e })\n      return\n    }\n  }\n\n  static async logout(req, res) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const userObj = await User.decoded(userJwt)\n      var { error } = userObj\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n      const logoutResult = await UsersDAO.logoutUser(userObj.email)\n      var { error } = logoutResult\n      if (error) {\n        res.status(500).json({ error })\n        return\n      }\n      res.json(logoutResult)\n    } catch (e) {\n      res.status(500).json(e)\n    }\n  }\n\n  static async delete(req, res) {\n    try {\n      let { password } = req.body\n      if (!password || typeof password !== \"string\") {\n        res.status(400).json({ error: \"Bad password format, expected string.\" })\n        return\n      }\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const userClaim = await User.decoded(userJwt)\n      var { error } = userClaim\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n      const user = new User(await UsersDAO.getUser(userClaim.email))\n      if (!(await user.comparePassword(password))) {\n        res.status(401).json({ error: \"Make sure your password is correct.\" })\n        return\n      }\n      const deleteResult = await UsersDAO.deleteUser(userClaim.email)\n      var { error } = deleteResult\n      if (error) {\n        res.status(500).json({ error })\n        return\n      }\n      res.json(deleteResult)\n    } catch (e) {\n      res.status(500).json(e)\n    }\n  }\n\n  static async save(req, res) {\n    try {\n      const userJwt = req.get(\"Authorization\").slice(\"Bearer \".length)\n      const userFromHeader = await User.decoded(userJwt)\n      var { error } = userFromHeader\n      if (error) {\n        res.status(401).json({ error })\n        return\n      }\n\n      await UsersDAO.updatePreferences(\n        userFromHeader.email,\n        req.body.preferences,\n      )\n      const userFromDB = await UsersDAO.getUser(userFromHeader.email)\n      const updatedUser = new User(userFromDB)\n\n      res.json({\n        auth_token: updatedUser.encoded(),\n        info: updatedUser.toJson(),\n      })\n    } catch (e) {\n      res.status(500).json(e)\n    }\n  }\n\n  // for internal use only\n  static async createAdminUser(req, res) {\n    try {\n      const userFromBody = req.body\n      let errors = {}\n      if (userFromBody && userFromBody.password.length < 8) {\n        errors.password = \"Your password must be at least 8 characters.\"\n      }\n      if (userFromBody && userFromBody.name.length < 3) {\n        errors.name = \"You must specify a name of at least 3 characters.\"\n      }\n\n      if (Object.keys(errors).length > 0) {\n        res.status(400).json(errors)\n        return\n      }\n\n      const userInfo = {\n        ...userFromBody,\n        password: await hashPassword(userFromBody.password),\n      }\n\n      const insertResult = await UsersDAO.addUser(userInfo)\n      if (!insertResult.success) {\n        errors.email = insertResult.error\n      }\n\n      if (Object.keys(errors).length > 0) {\n        res.status(400).json(errors)\n        return\n      }\n\n      const makeAdminResponse = await UsersDAO.makeAdmin(userFromBody.email)\n\n      const userFromDB = await UsersDAO.getUser(userFromBody.email)\n      if (!userFromDB) {\n        errors.general = \"Internal error, please try again later\"\n      }\n\n      if (Object.keys(errors).length > 0) {\n        res.status(400).json(errors)\n        return\n      }\n\n      const user = new User(userFromDB)\n      const jwt = user.encoded()\n      const loginResponse = await UsersDAO.loginUser(user.email, jwt)\n\n      res.json({\n        auth_token: jwt,\n        info: user.toJson(),\n      })\n    } catch (e) {\n      res.status(500).json(e)\n    }\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"filename\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\\\\src\\\\api\\\\users.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Nadav Sherf\\\\mflix-js\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-function-sent\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"MetaProperty\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-throw-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"UnaryExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-pipeline-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"proposal\":\"minimal\"}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-do-expressions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DoExpression\":{\"exit\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\Nadav Sherf\\mflix-js",
      "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.route.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Nadav Sherf\\mflix-js",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-import-meta",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-function-sent",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "MetaProperty": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-throw-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "UnaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-pipeline-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "proposal": "minimal"
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-do-expressions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DoExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.route.js",
        "plugins": [
          "dynamicImport",
          "importMeta",
          "classProperties",
          "classPrivateProperties",
          "jsonStrings",
          "decorators-legacy",
          "functionSent",
          "exportNamespaceFrom",
          "numericSeparator",
          "throwExpressions",
          "exportDefaultFrom",
          "logicalAssignment",
          "optionalChaining",
          [
            "pipelineOperator",
            {
              "proposal": "minimal"
            }
          ],
          "nullishCoalescingOperator",
          "doExpressions",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\users.route.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
        "sourceFileName": "users.route.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _users = _interopRequireDefault(require(\"./users.controller\"));\n\nvar _comments = _interopRequireDefault(require(\"./comments.controller\"));\n\nvar router = new _express.Router(); // associate put, delete, and get(id)\n\nrouter.route(\"/register\").post(_users[\"default\"].register);\nrouter.route(\"/login\").post(_users[\"default\"].login);\nrouter.route(\"/logout\").post(_users[\"default\"].logout);\nrouter.route(\"/delete\")[\"delete\"](_users[\"default\"][\"delete\"]);\nrouter.route(\"/update-preferences\").put(_users[\"default\"].save);\nrouter.route(\"/comment-report\").get(_comments[\"default\"].apiCommentReport);\nrouter.route(\"/make-admin\").post(_users[\"default\"].createAdminUser);\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLnJvdXRlLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInJvdXRlIiwicG9zdCIsInVzZXJzQ3RybCIsInJlZ2lzdGVyIiwibG9naW4iLCJsb2dvdXQiLCJwdXQiLCJzYXZlIiwiZ2V0IiwiY29tbWVudHNDdHJsIiwiYXBpQ29tbWVudFJlcG9ydCIsImNyZWF0ZUFkbWluVXNlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBTUEsTUFBTSxHQUFHLElBQUlDLGVBQUosRUFBZixDLENBRUE7O0FBQ0FELE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLFdBQWIsRUFBMEJDLElBQTFCLENBQStCQyxrQkFBVUMsUUFBekM7QUFDQUwsTUFBTSxDQUFDRSxLQUFQLENBQWEsUUFBYixFQUF1QkMsSUFBdkIsQ0FBNEJDLGtCQUFVRSxLQUF0QztBQUNBTixNQUFNLENBQUNFLEtBQVAsQ0FBYSxTQUFiLEVBQXdCQyxJQUF4QixDQUE2QkMsa0JBQVVHLE1BQXZDO0FBQ0FQLE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLFNBQWIsWUFBK0JFLDJCQUEvQjtBQUNBSixNQUFNLENBQUNFLEtBQVAsQ0FBYSxxQkFBYixFQUFvQ00sR0FBcEMsQ0FBd0NKLGtCQUFVSyxJQUFsRDtBQUNBVCxNQUFNLENBQUNFLEtBQVAsQ0FBYSxpQkFBYixFQUFnQ1EsR0FBaEMsQ0FBb0NDLHFCQUFhQyxnQkFBakQ7QUFDQVosTUFBTSxDQUFDRSxLQUFQLENBQWEsYUFBYixFQUE0QkMsSUFBNUIsQ0FBaUNDLGtCQUFVUyxlQUEzQztlQUVlYixNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFkYXYgU2hlcmZcXG1mbGl4LWpzXFxzcmNcXGFwaVxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIlxuaW1wb3J0IHVzZXJzQ3RybCBmcm9tIFwiLi91c2Vycy5jb250cm9sbGVyXCJcbmltcG9ydCBjb21tZW50c0N0cmwgZnJvbSBcIi4vY29tbWVudHMuY29udHJvbGxlclwiXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG4vLyBhc3NvY2lhdGUgcHV0LCBkZWxldGUsIGFuZCBnZXQoaWQpXG5yb3V0ZXIucm91dGUoXCIvcmVnaXN0ZXJcIikucG9zdCh1c2Vyc0N0cmwucmVnaXN0ZXIpXG5yb3V0ZXIucm91dGUoXCIvbG9naW5cIikucG9zdCh1c2Vyc0N0cmwubG9naW4pXG5yb3V0ZXIucm91dGUoXCIvbG9nb3V0XCIpLnBvc3QodXNlcnNDdHJsLmxvZ291dClcbnJvdXRlci5yb3V0ZShcIi9kZWxldGVcIikuZGVsZXRlKHVzZXJzQ3RybC5kZWxldGUpXG5yb3V0ZXIucm91dGUoXCIvdXBkYXRlLXByZWZlcmVuY2VzXCIpLnB1dCh1c2Vyc0N0cmwuc2F2ZSlcbnJvdXRlci5yb3V0ZShcIi9jb21tZW50LXJlcG9ydFwiKS5nZXQoY29tbWVudHNDdHJsLmFwaUNvbW1lbnRSZXBvcnQpXG5yb3V0ZXIucm91dGUoXCIvbWFrZS1hZG1pblwiKS5wb3N0KHVzZXJzQ3RybC5jcmVhdGVBZG1pblVzZXIpXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "users.route.js"
      ],
      "names": [
        "router",
        "Router",
        "route",
        "post",
        "usersCtrl",
        "register",
        "login",
        "logout",
        "put",
        "save",
        "get",
        "commentsCtrl",
        "apiCommentReport",
        "createAdminUser"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAIC,eAAJ,EAAf,C,CAEA;;AACAD,MAAM,CAACE,KAAP,CAAa,WAAb,EAA0BC,IAA1B,CAA+BC,kBAAUC,QAAzC;AACAL,MAAM,CAACE,KAAP,CAAa,QAAb,EAAuBC,IAAvB,CAA4BC,kBAAUE,KAAtC;AACAN,MAAM,CAACE,KAAP,CAAa,SAAb,EAAwBC,IAAxB,CAA6BC,kBAAUG,MAAvC;AACAP,MAAM,CAACE,KAAP,CAAa,SAAb,YAA+BE,2BAA/B;AACAJ,MAAM,CAACE,KAAP,CAAa,qBAAb,EAAoCM,GAApC,CAAwCJ,kBAAUK,IAAlD;AACAT,MAAM,CAACE,KAAP,CAAa,iBAAb,EAAgCQ,GAAhC,CAAoCC,qBAAaC,gBAAjD;AACAZ,MAAM,CAACE,KAAP,CAAa,aAAb,EAA4BC,IAA5B,CAAiCC,kBAAUS,eAA3C;eAEeb,M",
      "sourceRoot": "C:\\Users\\Nadav Sherf\\mflix-js\\src\\api\\",
      "sourcesContent": [
        "import { Router } from \"express\"\nimport usersCtrl from \"./users.controller\"\nimport commentsCtrl from \"./comments.controller\"\n\nconst router = new Router()\n\n// associate put, delete, and get(id)\nrouter.route(\"/register\").post(usersCtrl.register)\nrouter.route(\"/login\").post(usersCtrl.login)\nrouter.route(\"/logout\").post(usersCtrl.logout)\nrouter.route(\"/delete\").delete(usersCtrl.delete)\nrouter.route(\"/update-preferences\").put(usersCtrl.save)\nrouter.route(\"/comment-report\").get(commentsCtrl.apiCommentReport)\nrouter.route(\"/make-admin\").post(usersCtrl.createAdminUser)\n\nexport default router\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1577829600000
  }
}